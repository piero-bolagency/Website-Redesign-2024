{"version":3,"file":"theme.min.js","sources":["../../node_modules/@shopify/theme-sections/section.js","../../node_modules/@shopify/theme-sections/theme-sections.js","../../node_modules/@fluorescent/dom/dist/fluorescent-dom.es.js","../../node_modules/focus-visible/dist/focus-visible.js","../../node_modules/what-input/dist/what-input.js","../../node_modules/ftdomdelegate/browser.js","../../node_modules/@shopify/theme-product-form/listeners.js","../../node_modules/@shopify/theme-product/theme-product.js","../../node_modules/@shopify/theme-product-form/theme-product-form.js","../../node_modules/@fluorescent/storage/dist/fluorescent-storage.es.js","../../node_modules/evx/dist/evx.es.js","../../src/scripts/lib/dispatch-custom-event.js","../../src/scripts/neon/cart.js","../../node_modules/@shopify/theme-currency/dist/currency.cjs.js","../../src/scripts/neon/formatMoney.js","../../src/scripts/neon/getProduct.js","../../src/scripts/lib/option-buttons.js","../../src/scripts/lib/quick-add.js","../../src/scripts/lib/reviews.js","../../src/scripts/lib/section-classes.js","../../node_modules/tabbable/dist/index.esm.js","../../node_modules/focus-trap/dist/focus-trap.esm.js","../../node_modules/body-scroll-lock/lib/bodyScrollLock.esm.js","../../src/scripts/lib/images.js","../../src/scripts/lib/unit-pricing.js","../../src/scripts/lib/store-availability-modal.js","../../node_modules/slide-anim/dist/slide-anim.module.js","../../src/scripts/lib/accordion.js","../../src/scripts/lib/rte.js","../../src/scripts/lib/modal.js","../../src/scripts/lib/viewport-watcher.js","../../node_modules/lazysizes/lazysizes.js","../../node_modules/lazysizes/plugins/object-fit/ls.object-fit.js","../../node_modules/lazysizes/plugins/parent-fit/ls.parent-fit.js","../../node_modules/lazysizes/plugins/rias/ls.rias.js","../../node_modules/lazysizes/plugins/bgset/ls.bgset.js","../../node_modules/lazysizes/plugins/native-loading/ls.native-loading.js","../../node_modules/lazysizes/plugins/respimg/ls.respimg.js","../../src/scripts/sections/announcement-bar.js","../../src/scripts/lib/a11y.js","../../src/scripts/lib/mobile-carousel.js","../../src/scripts/sections/blog-posts.js","../../src/scripts/sections/carousel.js","../../src/scripts/sections/collection-list.js","../../src/scripts/sections/custom-content.js","../../src/scripts/sections/featured-collection.js","../../src/scripts/sections/featured-products.js","../../src/scripts/lib/disclosure.js","../../src/scripts/sections/footer.js","../../src/scripts/sections/gallery.js","../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../../src/scripts/utils/preventDefault.js","../../src/scripts/lib/svg.js","../../src/scripts/lib/quick-cart.js","../../src/scripts/lib/predictive-search.js","../../src/scripts/lib/quick-search.js","../../src/scripts/lib/mega-nav-legacy.js","../../src/scripts/lib/mega-nav.js","../../src/scripts/lib/navigation.js","../../src/scripts/lib/animation/delay-offset.js","../../src/scripts/lib/animation/drawer-menu.js","../../src/scripts/lib/animation/grid.js","../../src/scripts/lib/animation/slideshow.js","../../src/scripts/lib/search.js","../../src/scripts/lib/drawer-menu.js","../../src/scripts/sections/header.js","../../src/scripts/sections/image-with-text.js","../../src/scripts/sections/newsletter.js","../../node_modules/is-mobile/index.js","../../src/scripts/lib/storage.js","../../src/scripts/lib/popup.js","../../src/scripts/sections/popup.js","../../src/scripts/sections/recommended-products.js","../../src/scripts/sections/complementary-products.js","../../src/scripts/sections/rich-text.js","../../src/scripts/lib/navigation-dots.js","../../node_modules/simple-parallax-js/dist/simpleParallax.min.js","../../src/scripts/lib/auto-play.js","../../src/scripts/sections/slideshow.js","../../src/scripts/sections/testimonials.js","../../src/scripts/sections/text-columns-with-images.js","../../node_modules/sister/src/sister.js","../../node_modules/load-script/index.js","../../node_modules/youtube-player/dist/loadYouTubeIframeApi.js","../../node_modules/youtube-player/node_modules/ms/index.js","../../node_modules/youtube-player/node_modules/debug/src/debug.js","../../node_modules/youtube-player/node_modules/debug/src/browser.js","../../node_modules/youtube-player/dist/functionNames.js","../../node_modules/youtube-player/dist/eventNames.js","../../node_modules/youtube-player/dist/constants/PlayerStates.js","../../node_modules/youtube-player/dist/FunctionStateMap.js","../../node_modules/youtube-player/dist/YouTubePlayer.js","../../node_modules/youtube-player/dist/index.js","../../node_modules/@vimeo/player/dist/player.es.js","../../src/scripts/sections/video.js","../../node_modules/@fluorescent/video/dist/fluorescent-video.es.js","../../src/scripts/sections/mosaic-grid.js","../../node_modules/ajaxinate/src/ajaxinate.js","../../src/scripts/templates/cart.js","../../src/scripts/lib/filters/events.js","../../src/scripts/lib/collection/sidebar.js","../../src/scripts/lib/collection/mobile-filtering.js","../../src/scripts/lib/filters/filtering.js","../../src/scripts/lib/filters/filter-handler.js","../../src/scripts/templates/collection.js","../../src/scripts/templates/search.js","../../src/scripts/templates/page.js","../../src/scripts/templates/password.js","../../src/scripts/lib/lightbox.js","../../src/scripts/lib/media.js","../../src/scripts/lib/product-form.js","../../src/scripts/lib/store-availability.js","../../src/scripts/lib/product/update-sku.js","../../src/scripts/lib/product/update-buy-button.js","../../src/scripts/lib/product/reviews-handler.js","../../src/scripts/lib/product/inventory-counter.js","../../src/scripts/lib/product/information-popup.js","../../src/scripts/templates/product.js","../../src/scripts/theme.js","../../src/scripts/lib/product/gift-card-recipient.js","../../src/scripts/templates/contact.js","../../src/scripts/templates/customers/addresses.js","../../src/scripts/templates/customers/login.js","../../src/scripts/lib/page-transition.js"],"sourcesContent":["var SECTION_ID_ATTR = 'data-section-id';\n\nexport default function Section(container, properties) {\n  this.container = validateContainerElement(container);\n  this.id = container.getAttribute(SECTION_ID_ATTR);\n  this.extensions = [];\n\n  // eslint-disable-next-line es5/no-es6-static-methods\n  Object.assign(this, validatePropertiesObject(properties));\n\n  this.onLoad();\n}\n\nSection.prototype = {\n  onLoad: Function.prototype,\n  onUnload: Function.prototype,\n  onSelect: Function.prototype,\n  onDeselect: Function.prototype,\n  onBlockSelect: Function.prototype,\n  onBlockDeselect: Function.prototype,\n\n  extend: function extend(extension) {\n    this.extensions.push(extension); // Save original extension\n\n    // eslint-disable-next-line es5/no-es6-static-methods\n    var extensionClone = Object.assign({}, extension);\n    delete extensionClone.init; // Remove init function before assigning extension properties\n\n    // eslint-disable-next-line es5/no-es6-static-methods\n    Object.assign(this, extensionClone);\n\n    if (typeof extension.init === 'function') {\n      extension.init.apply(this);\n    }\n  }\n};\n\nfunction validateContainerElement(container) {\n  if (!(container instanceof Element)) {\n    throw new TypeError(\n      'Theme Sections: Attempted to load section. The section container provided is not a DOM element.'\n    );\n  }\n  if (container.getAttribute(SECTION_ID_ATTR) === null) {\n    throw new Error(\n      'Theme Sections: The section container provided does not have an id assigned to the ' +\n        SECTION_ID_ATTR +\n        ' attribute.'\n    );\n  }\n\n  return container;\n}\n\nfunction validatePropertiesObject(value) {\n  if (\n    (typeof value !== 'undefined' && typeof value !== 'object') ||\n    value === null\n  ) {\n    throw new TypeError(\n      'Theme Sections: The properties object provided is not a valid'\n    );\n  }\n\n  return value;\n}\n\n// Object.assign() polyfill from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\nif (typeof Object.assign != 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, 'assign', {\n    value: function assign(target) {\n      // .length of function is 2\n      'use strict';\n      if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) {\n          // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}\n","/*\n * @shopify/theme-sections\n * -----------------------------------------------------------------------------\n *\n * A framework to provide structure to your Shopify sections and a load and unload\n * lifecycle. The lifecycle is automatically connected to theme editor events so\n * that your sections load and unload as the editor changes the content and\n * settings of your sections.\n */\n\nimport Section from './section';\n\nvar SECTION_TYPE_ATTR = 'data-section-type';\nvar SECTION_ID_ATTR = 'data-section-id';\n\nwindow.Shopify = window.Shopify || {};\nwindow.Shopify.theme = window.Shopify.theme || {};\nwindow.Shopify.theme.sections = window.Shopify.theme.sections || {};\n\nexport var registered = (window.Shopify.theme.sections.registered =\n  window.Shopify.theme.sections.registered || {});\nexport var instances = (window.Shopify.theme.sections.instances =\n  window.Shopify.theme.sections.instances || []);\n\nexport function register(type, properties) {\n  if (typeof type !== 'string') {\n    throw new TypeError(\n      'Theme Sections: The first argument for .register must be a string that specifies the type of the section being registered'\n    );\n  }\n\n  if (typeof registered[type] !== 'undefined') {\n    throw new Error(\n      'Theme Sections: A section of type \"' +\n        type +\n        '\" has already been registered. You cannot register the same section type twice'\n    );\n  }\n\n  function TypedSection(container) {\n    Section.call(this, container, properties);\n  }\n\n  TypedSection.constructor = Section;\n  TypedSection.prototype = Object.create(Section.prototype);\n  TypedSection.prototype.type = type;\n\n  return (registered[type] = TypedSection);\n}\n\nexport function unregister(types) {\n  types = normalizeType(types);\n\n  types.forEach(function(type) {\n    delete registered[type];\n  });\n}\n\nexport function load(types, containers) {\n  types = normalizeType(types);\n\n  if (typeof containers === 'undefined') {\n    containers = document.querySelectorAll('[' + SECTION_TYPE_ATTR + ']');\n  }\n\n  containers = normalizeContainers(containers);\n\n  types.forEach(function(type) {\n    var TypedSection = registered[type];\n\n    if (typeof TypedSection === 'undefined') {\n      return;\n    }\n\n    containers = containers.filter(function(container) {\n      // Filter from list of containers because container already has an instance loaded\n      if (isInstance(container)) {\n        return false;\n      }\n\n      // Filter from list of containers because container doesn't have data-section-type attribute\n      if (container.getAttribute(SECTION_TYPE_ATTR) === null) {\n        return false;\n      }\n\n      // Keep in list of containers because current type doesn't match\n      if (container.getAttribute(SECTION_TYPE_ATTR) !== type) {\n        return true;\n      }\n\n      instances.push(new TypedSection(container));\n\n      // Filter from list of containers because container now has an instance loaded\n      return false;\n    });\n  });\n}\n\nexport function unload(selector) {\n  var instancesToUnload = getInstances(selector);\n\n  instancesToUnload.forEach(function(instance) {\n    var index = instances\n      .map(function(e) {\n        return e.id;\n      })\n      .indexOf(instance.id);\n    instances.splice(index, 1);\n    instance.onUnload();\n  });\n}\n\nexport function extend(selector, extension) {\n  var instancesToExtend = getInstances(selector);\n\n  instancesToExtend.forEach(function(instance) {\n    instance.extend(extension);\n  });\n}\n\nexport function getInstances(selector) {\n  var filteredInstances = [];\n\n  // Fetch first element if its an array\n  if (NodeList.prototype.isPrototypeOf(selector) || Array.isArray(selector)) {\n    var firstElement = selector[0];\n  }\n\n  // If selector element is DOM element\n  if (selector instanceof Element || firstElement instanceof Element) {\n    var containers = normalizeContainers(selector);\n\n    containers.forEach(function(container) {\n      filteredInstances = filteredInstances.concat(\n        instances.filter(function(instance) {\n          return instance.container === container;\n        })\n      );\n    });\n\n    // If select is type string\n  } else if (typeof selector === 'string' || typeof firstElement === 'string') {\n    var types = normalizeType(selector);\n\n    types.forEach(function(type) {\n      filteredInstances = filteredInstances.concat(\n        instances.filter(function(instance) {\n          return instance.type === type;\n        })\n      );\n    });\n  }\n\n  return filteredInstances;\n}\n\nexport function getInstanceById(id) {\n  var instance;\n\n  for (var i = 0; i < instances.length; i++) {\n    if (instances[i].id === id) {\n      instance = instances[i];\n      break;\n    }\n  }\n  return instance;\n}\n\nexport function isInstance(selector) {\n  return getInstances(selector).length > 0;\n}\n\nfunction normalizeType(types) {\n  // If '*' then fetch all registered section types\n  if (types === '*') {\n    types = Object.keys(registered);\n\n    // If a single section type string is passed, put it in an array\n  } else if (typeof types === 'string') {\n    types = [types];\n\n    // If single section constructor is passed, transform to array with section\n    // type string\n  } else if (types.constructor === Section) {\n    types = [types.prototype.type];\n\n    // If array of typed section constructors is passed, transform the array to\n    // type strings\n  } else if (Array.isArray(types) && types[0].constructor === Section) {\n    types = types.map(function(TypedSection) {\n      return TypedSection.prototype.type;\n    });\n  }\n\n  types = types.map(function(type) {\n    return type.toLowerCase();\n  });\n\n  return types;\n}\n\nfunction normalizeContainers(containers) {\n  // Nodelist with entries\n  if (NodeList.prototype.isPrototypeOf(containers) && containers.length > 0) {\n    containers = Array.prototype.slice.call(containers);\n\n    // Empty Nodelist\n  } else if (\n    NodeList.prototype.isPrototypeOf(containers) &&\n    containers.length === 0\n  ) {\n    containers = [];\n\n    // Handle null (document.querySelector() returns null with no match)\n  } else if (containers === null) {\n    containers = [];\n\n    // Single DOM element\n  } else if (!Array.isArray(containers) && containers instanceof Element) {\n    containers = [containers];\n  }\n\n  return containers;\n}\n\nif (window.Shopify.designMode) {\n  document.addEventListener('shopify:section:load', function(event) {\n    var container;\n    var id = event.detail.sectionId;\n\n    if (window.Shopify.visualPreviewMode) {\n      container = event.target.querySelector(\"[data-section-id]\");\n    } else {\n      container = event.target.querySelector(\n        '[' + SECTION_ID_ATTR + '=\"' + id + '\"]'\n      );\n    }\n\n    if (container !== null) {\n      load(container.getAttribute(SECTION_TYPE_ATTR), container);\n    }\n  });\n\n  document.addEventListener('shopify:section:unload', function(event) {\n    var id = event.detail.sectionId;\n    var container = event.target.querySelector(\n      '[' + SECTION_ID_ATTR + '=\"' + id + '\"]'\n    );\n    var instance = getInstances(container)[0];\n\n    if (typeof instance === 'object') {\n      unload(container);\n    }\n  });\n\n  document.addEventListener('shopify:section:select', function(event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onSelect(event);\n    }\n  });\n\n  document.addEventListener('shopify:section:deselect', function(event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onDeselect(event);\n    }\n  });\n\n  document.addEventListener('shopify:block:select', function(event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onBlockSelect(event);\n    }\n  });\n\n  document.addEventListener('shopify:block:deselect', function(event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onBlockDeselect(event);\n    }\n  });\n}\n","function n(n,t){return void 0===t&&(t=document),t.querySelector(n)}function t(n,t){return void 0===t&&(t=document),[].slice.call(t.querySelectorAll(n))}function c(n,t){return Array.isArray(n)?n.forEach(t):t(n)}function r(n){return function(t,r,e){return c(t,function(t){return t[n+\"EventListener\"](r,e)})}}function e(n,t,c){return r(\"add\")(n,t,c),function(){return r(\"remove\")(n,t,c)}}function o(n){return function(t){var r=arguments;return c(t,function(t){var c;return(c=t.classList)[n].apply(c,[].slice.call(r,1))})}}function u(n){o(\"add\").apply(void 0,[n].concat([].slice.call(arguments,1)))}function i(n){o(\"remove\").apply(void 0,[n].concat([].slice.call(arguments,1)))}function l(n){o(\"toggle\").apply(void 0,[n].concat([].slice.call(arguments,1)))}function a(n,t){return n.classList.contains(t)}export{u as add,a as contains,e as listen,n as qs,t as qsa,i as remove,l as toggle};\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * Applies the :focus-visible polyfill at the given scope.\n   * A scope in this case is either the top-level Document or a Shadow Root.\n   *\n   * @param {(Document|ShadowRoot)} scope\n   * @see https://github.com/WICG/focus-visible\n   */\n  function applyFocusVisiblePolyfill(scope) {\n    var hadKeyboardEvent = true;\n    var hadFocusVisibleRecently = false;\n    var hadFocusVisibleRecentlyTimeout = null;\n\n    var inputTypesAllowlist = {\n      text: true,\n      search: true,\n      url: true,\n      tel: true,\n      email: true,\n      password: true,\n      number: true,\n      date: true,\n      month: true,\n      week: true,\n      time: true,\n      datetime: true,\n      'datetime-local': true\n    };\n\n    /**\n     * Helper function for legacy browsers and iframes which sometimes focus\n     * elements like document, body, and non-interactive SVG.\n     * @param {Element} el\n     */\n    function isValidFocusTarget(el) {\n      if (\n        el &&\n        el !== document &&\n        el.nodeName !== 'HTML' &&\n        el.nodeName !== 'BODY' &&\n        'classList' in el &&\n        'contains' in el.classList\n      ) {\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Computes whether the given element should automatically trigger the\n     * `focus-visible` class being added, i.e. whether it should always match\n     * `:focus-visible` when focused.\n     * @param {Element} el\n     * @return {boolean}\n     */\n    function focusTriggersKeyboardModality(el) {\n      var type = el.type;\n      var tagName = el.tagName;\n\n      if (tagName === 'INPUT' && inputTypesAllowlist[type] && !el.readOnly) {\n        return true;\n      }\n\n      if (tagName === 'TEXTAREA' && !el.readOnly) {\n        return true;\n      }\n\n      if (el.isContentEditable) {\n        return true;\n      }\n\n      return false;\n    }\n\n    /**\n     * Add the `focus-visible` class to the given element if it was not added by\n     * the author.\n     * @param {Element} el\n     */\n    function addFocusVisibleClass(el) {\n      if (el.classList.contains('focus-visible')) {\n        return;\n      }\n      el.classList.add('focus-visible');\n      el.setAttribute('data-focus-visible-added', '');\n    }\n\n    /**\n     * Remove the `focus-visible` class from the given element if it was not\n     * originally added by the author.\n     * @param {Element} el\n     */\n    function removeFocusVisibleClass(el) {\n      if (!el.hasAttribute('data-focus-visible-added')) {\n        return;\n      }\n      el.classList.remove('focus-visible');\n      el.removeAttribute('data-focus-visible-added');\n    }\n\n    /**\n     * If the most recent user interaction was via the keyboard;\n     * and the key press did not include a meta, alt/option, or control key;\n     * then the modality is keyboard. Otherwise, the modality is not keyboard.\n     * Apply `focus-visible` to any current active element and keep track\n     * of our keyboard modality state with `hadKeyboardEvent`.\n     * @param {KeyboardEvent} e\n     */\n    function onKeyDown(e) {\n      if (e.metaKey || e.altKey || e.ctrlKey) {\n        return;\n      }\n\n      if (isValidFocusTarget(scope.activeElement)) {\n        addFocusVisibleClass(scope.activeElement);\n      }\n\n      hadKeyboardEvent = true;\n    }\n\n    /**\n     * If at any point a user clicks with a pointing device, ensure that we change\n     * the modality away from keyboard.\n     * This avoids the situation where a user presses a key on an already focused\n     * element, and then clicks on a different element, focusing it with a\n     * pointing device, while we still think we're in keyboard modality.\n     * @param {Event} e\n     */\n    function onPointerDown(e) {\n      hadKeyboardEvent = false;\n    }\n\n    /**\n     * On `focus`, add the `focus-visible` class to the target if:\n     * - the target received focus as a result of keyboard navigation, or\n     * - the event target is an element that will likely require interaction\n     *   via the keyboard (e.g. a text box)\n     * @param {Event} e\n     */\n    function onFocus(e) {\n      // Prevent IE from focusing the document or HTML element.\n      if (!isValidFocusTarget(e.target)) {\n        return;\n      }\n\n      if (hadKeyboardEvent || focusTriggersKeyboardModality(e.target)) {\n        addFocusVisibleClass(e.target);\n      }\n    }\n\n    /**\n     * On `blur`, remove the `focus-visible` class from the target.\n     * @param {Event} e\n     */\n    function onBlur(e) {\n      if (!isValidFocusTarget(e.target)) {\n        return;\n      }\n\n      if (\n        e.target.classList.contains('focus-visible') ||\n        e.target.hasAttribute('data-focus-visible-added')\n      ) {\n        // To detect a tab/window switch, we look for a blur event followed\n        // rapidly by a visibility change.\n        // If we don't see a visibility change within 100ms, it's probably a\n        // regular focus change.\n        hadFocusVisibleRecently = true;\n        window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n        hadFocusVisibleRecentlyTimeout = window.setTimeout(function() {\n          hadFocusVisibleRecently = false;\n        }, 100);\n        removeFocusVisibleClass(e.target);\n      }\n    }\n\n    /**\n     * If the user changes tabs, keep track of whether or not the previously\n     * focused element had .focus-visible.\n     * @param {Event} e\n     */\n    function onVisibilityChange(e) {\n      if (document.visibilityState === 'hidden') {\n        // If the tab becomes active again, the browser will handle calling focus\n        // on the element (Safari actually calls it twice).\n        // If this tab change caused a blur on an element with focus-visible,\n        // re-apply the class when the user switches back to the tab.\n        if (hadFocusVisibleRecently) {\n          hadKeyboardEvent = true;\n        }\n        addInitialPointerMoveListeners();\n      }\n    }\n\n    /**\n     * Add a group of listeners to detect usage of any pointing devices.\n     * These listeners will be added when the polyfill first loads, and anytime\n     * the window is blurred, so that they are active when the window regains\n     * focus.\n     */\n    function addInitialPointerMoveListeners() {\n      document.addEventListener('mousemove', onInitialPointerMove);\n      document.addEventListener('mousedown', onInitialPointerMove);\n      document.addEventListener('mouseup', onInitialPointerMove);\n      document.addEventListener('pointermove', onInitialPointerMove);\n      document.addEventListener('pointerdown', onInitialPointerMove);\n      document.addEventListener('pointerup', onInitialPointerMove);\n      document.addEventListener('touchmove', onInitialPointerMove);\n      document.addEventListener('touchstart', onInitialPointerMove);\n      document.addEventListener('touchend', onInitialPointerMove);\n    }\n\n    function removeInitialPointerMoveListeners() {\n      document.removeEventListener('mousemove', onInitialPointerMove);\n      document.removeEventListener('mousedown', onInitialPointerMove);\n      document.removeEventListener('mouseup', onInitialPointerMove);\n      document.removeEventListener('pointermove', onInitialPointerMove);\n      document.removeEventListener('pointerdown', onInitialPointerMove);\n      document.removeEventListener('pointerup', onInitialPointerMove);\n      document.removeEventListener('touchmove', onInitialPointerMove);\n      document.removeEventListener('touchstart', onInitialPointerMove);\n      document.removeEventListener('touchend', onInitialPointerMove);\n    }\n\n    /**\n     * When the polfyill first loads, assume the user is in keyboard modality.\n     * If any event is received from a pointing device (e.g. mouse, pointer,\n     * touch), turn off keyboard modality.\n     * This accounts for situations where focus enters the page from the URL bar.\n     * @param {Event} e\n     */\n    function onInitialPointerMove(e) {\n      // Work around a Safari quirk that fires a mousemove on <html> whenever the\n      // window blurs, even if you're tabbing out of the page. ¯\\_(ツ)_/¯\n      if (e.target.nodeName && e.target.nodeName.toLowerCase() === 'html') {\n        return;\n      }\n\n      hadKeyboardEvent = false;\n      removeInitialPointerMoveListeners();\n    }\n\n    // For some kinds of state, we are interested in changes at the global scope\n    // only. For example, global pointer input, global key presses and global\n    // visibility change should affect the state at every scope:\n    document.addEventListener('keydown', onKeyDown, true);\n    document.addEventListener('mousedown', onPointerDown, true);\n    document.addEventListener('pointerdown', onPointerDown, true);\n    document.addEventListener('touchstart', onPointerDown, true);\n    document.addEventListener('visibilitychange', onVisibilityChange, true);\n\n    addInitialPointerMoveListeners();\n\n    // For focus and blur, we specifically care about state changes in the local\n    // scope. This is because focus / blur events that originate from within a\n    // shadow root are not re-dispatched from the host element if it was already\n    // the active element in its own scope:\n    scope.addEventListener('focus', onFocus, true);\n    scope.addEventListener('blur', onBlur, true);\n\n    // We detect that a node is a ShadowRoot by ensuring that it is a\n    // DocumentFragment and also has a host property. This check covers native\n    // implementation and polyfill implementation transparently. If we only cared\n    // about the native implementation, we could just check if the scope was\n    // an instance of a ShadowRoot.\n    if (scope.nodeType === Node.DOCUMENT_FRAGMENT_NODE && scope.host) {\n      // Since a ShadowRoot is a special kind of DocumentFragment, it does not\n      // have a root element to add a class to. So, we add this attribute to the\n      // host element instead:\n      scope.host.setAttribute('data-js-focus-visible', '');\n    } else if (scope.nodeType === Node.DOCUMENT_NODE) {\n      document.documentElement.classList.add('js-focus-visible');\n      document.documentElement.setAttribute('data-js-focus-visible', '');\n    }\n  }\n\n  // It is important to wrap all references to global window and document in\n  // these checks to support server-side rendering use cases\n  // @see https://github.com/WICG/focus-visible/issues/199\n  if (typeof window !== 'undefined' && typeof document !== 'undefined') {\n    // Make the polyfill helper globally available. This can be used as a signal\n    // to interested libraries that wish to coordinate with the polyfill for e.g.,\n    // applying the polyfill to a shadow root:\n    window.applyFocusVisiblePolyfill = applyFocusVisiblePolyfill;\n\n    // Notify interested libraries of the polyfill's presence, in case the\n    // polyfill was loaded lazily:\n    var event;\n\n    try {\n      event = new CustomEvent('focus-visible-polyfill-ready');\n    } catch (error) {\n      // IE11 does not support using CustomEvent as a constructor directly:\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent('focus-visible-polyfill-ready', false, false, {});\n    }\n\n    window.dispatchEvent(event);\n  }\n\n  if (typeof document !== 'undefined') {\n    // Apply the polyfill to the global document, so that no JavaScript\n    // coordination is required to use the polyfill in the top-level document:\n    applyFocusVisiblePolyfill(document);\n  }\n\n})));\n","/**\n * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).\n * @version v5.2.12\n * @link https://github.com/ten1seven/what-input\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"whatInput\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"whatInput\"] = factory();\n\telse\n\t\troot[\"whatInput\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\tmodule.exports = function () {\n\t  /*\n\t   * bail out if there is no document or window\n\t   * (i.e. in a node/non-DOM environment)\n\t   *\n\t   * Return a stubbed API instead\n\t   */\n\t  if (typeof document === 'undefined' || typeof window === 'undefined') {\n\t    return {\n\t      // always return \"initial\" because no interaction will ever be detected\n\t      ask: function ask() {\n\t        return 'initial';\n\t      },\n\n\t      // always return null\n\t      element: function element() {\n\t        return null;\n\t      },\n\n\t      // no-op\n\t      ignoreKeys: function ignoreKeys() {},\n\n\t      // no-op\n\t      specificKeys: function specificKeys() {},\n\n\t      // no-op\n\t      registerOnChange: function registerOnChange() {},\n\n\t      // no-op\n\t      unRegisterOnChange: function unRegisterOnChange() {}\n\t    };\n\t  }\n\n\t  /*\n\t   * variables\n\t   */\n\n\t  // cache document.documentElement\n\t  var docElem = document.documentElement;\n\n\t  // currently focused dom element\n\t  var currentElement = null;\n\n\t  // last used input type\n\t  var currentInput = 'initial';\n\n\t  // last used input intent\n\t  var currentIntent = currentInput;\n\n\t  // UNIX timestamp of current event\n\t  var currentTimestamp = Date.now();\n\n\t  // check for a `data-whatpersist` attribute on either the `html` or `body` elements, defaults to `true`\n\t  var shouldPersist = false;\n\n\t  // form input types\n\t  var formInputs = ['button', 'input', 'select', 'textarea'];\n\n\t  // empty array for holding callback functions\n\t  var functionList = [];\n\n\t  // list of modifier keys commonly used with the mouse and\n\t  // can be safely ignored to prevent false keyboard detection\n\t  var ignoreMap = [16, // shift\n\t  17, // control\n\t  18, // alt\n\t  91, // Windows key / left Apple cmd\n\t  93 // Windows menu / right Apple cmd\n\t  ];\n\n\t  var specificMap = [];\n\n\t  // mapping of events to input types\n\t  var inputMap = {\n\t    keydown: 'keyboard',\n\t    keyup: 'keyboard',\n\t    mousedown: 'mouse',\n\t    mousemove: 'mouse',\n\t    MSPointerDown: 'pointer',\n\t    MSPointerMove: 'pointer',\n\t    pointerdown: 'pointer',\n\t    pointermove: 'pointer',\n\t    touchstart: 'touch',\n\t    touchend: 'touch'\n\n\t    // boolean: true if the page is being scrolled\n\t  };var isScrolling = false;\n\n\t  // store current mouse position\n\t  var mousePos = {\n\t    x: null,\n\t    y: null\n\n\t    // map of IE 10 pointer events\n\t  };var pointerMap = {\n\t    2: 'touch',\n\t    3: 'touch', // treat pen like touch\n\t    4: 'mouse'\n\n\t    // check support for passive event listeners\n\t  };var supportsPassive = false;\n\n\t  try {\n\t    var opts = Object.defineProperty({}, 'passive', {\n\t      get: function get() {\n\t        supportsPassive = true;\n\t      }\n\t    });\n\n\t    window.addEventListener('test', null, opts);\n\t  } catch (e) {}\n\t  // fail silently\n\n\n\t  /*\n\t   * set up\n\t   */\n\n\t  var setUp = function setUp() {\n\t    // add correct mouse wheel event mapping to `inputMap`\n\t    inputMap[detectWheel()] = 'mouse';\n\n\t    addListeners();\n\t  };\n\n\t  /*\n\t   * events\n\t   */\n\n\t  var addListeners = function addListeners() {\n\t    // `pointermove`, `MSPointerMove`, `mousemove` and mouse wheel event binding\n\t    // can only demonstrate potential, but not actual, interaction\n\t    // and are treated separately\n\t    var options = supportsPassive ? { passive: true, capture: true } : true;\n\n\t    document.addEventListener('DOMContentLoaded', setPersist, true);\n\n\t    // pointer events (mouse, pen, touch)\n\t    if (window.PointerEvent) {\n\t      window.addEventListener('pointerdown', setInput, true);\n\t      window.addEventListener('pointermove', setIntent, true);\n\t    } else if (window.MSPointerEvent) {\n\t      window.addEventListener('MSPointerDown', setInput, true);\n\t      window.addEventListener('MSPointerMove', setIntent, true);\n\t    } else {\n\t      // mouse events\n\t      window.addEventListener('mousedown', setInput, true);\n\t      window.addEventListener('mousemove', setIntent, true);\n\n\t      // touch events\n\t      if ('ontouchstart' in window) {\n\t        window.addEventListener('touchstart', setInput, options);\n\t        window.addEventListener('touchend', setInput, true);\n\t      }\n\t    }\n\n\t    // mouse wheel\n\t    window.addEventListener(detectWheel(), setIntent, options);\n\n\t    // keyboard events\n\t    window.addEventListener('keydown', setInput, true);\n\t    window.addEventListener('keyup', setInput, true);\n\n\t    // focus events\n\t    window.addEventListener('focusin', setElement, true);\n\t    window.addEventListener('focusout', clearElement, true);\n\t  };\n\n\t  // checks if input persistence should happen and\n\t  // get saved state from session storage if true (defaults to `false`)\n\t  var setPersist = function setPersist() {\n\t    shouldPersist = !(docElem.getAttribute('data-whatpersist') === 'false' || document.body.getAttribute('data-whatpersist') === 'false');\n\n\t    if (shouldPersist) {\n\t      // check for session variables and use if available\n\t      try {\n\t        if (window.sessionStorage.getItem('what-input')) {\n\t          currentInput = window.sessionStorage.getItem('what-input');\n\t        }\n\n\t        if (window.sessionStorage.getItem('what-intent')) {\n\t          currentIntent = window.sessionStorage.getItem('what-intent');\n\t        }\n\t      } catch (e) {\n\t        // fail silently\n\t      }\n\t    }\n\n\t    // always run these so at least `initial` state is set\n\t    doUpdate('input');\n\t    doUpdate('intent');\n\t  };\n\n\t  // checks conditions before updating new input\n\t  var setInput = function setInput(event) {\n\t    var eventKey = event.which;\n\t    var value = inputMap[event.type];\n\n\t    if (value === 'pointer') {\n\t      value = pointerType(event);\n\t    }\n\n\t    var ignoreMatch = !specificMap.length && ignoreMap.indexOf(eventKey) === -1;\n\n\t    var specificMatch = specificMap.length && specificMap.indexOf(eventKey) !== -1;\n\n\t    var shouldUpdate = value === 'keyboard' && eventKey && (ignoreMatch || specificMatch) || value === 'mouse' || value === 'touch';\n\n\t    // prevent touch detection from being overridden by event execution order\n\t    if (validateTouch(value)) {\n\t      shouldUpdate = false;\n\t    }\n\n\t    if (shouldUpdate && currentInput !== value) {\n\t      currentInput = value;\n\n\t      persistInput('input', currentInput);\n\t      doUpdate('input');\n\t    }\n\n\t    if (shouldUpdate && currentIntent !== value) {\n\t      // preserve intent for keyboard interaction with form fields\n\t      var activeElem = document.activeElement;\n\t      var notFormInput = activeElem && activeElem.nodeName && (formInputs.indexOf(activeElem.nodeName.toLowerCase()) === -1 || activeElem.nodeName.toLowerCase() === 'button' && !checkClosest(activeElem, 'form'));\n\n\t      if (notFormInput) {\n\t        currentIntent = value;\n\n\t        persistInput('intent', currentIntent);\n\t        doUpdate('intent');\n\t      }\n\t    }\n\t  };\n\n\t  // updates the doc and `inputTypes` array with new input\n\t  var doUpdate = function doUpdate(which) {\n\t    docElem.setAttribute('data-what' + which, which === 'input' ? currentInput : currentIntent);\n\n\t    fireFunctions(which);\n\t  };\n\n\t  // updates input intent for `mousemove` and `pointermove`\n\t  var setIntent = function setIntent(event) {\n\t    var value = inputMap[event.type];\n\n\t    if (value === 'pointer') {\n\t      value = pointerType(event);\n\t    }\n\n\t    // test to see if `mousemove` happened relative to the screen to detect scrolling versus mousemove\n\t    detectScrolling(event);\n\n\t    // only execute if scrolling isn't happening\n\t    if ((!isScrolling && !validateTouch(value) || isScrolling && event.type === 'wheel' || event.type === 'mousewheel' || event.type === 'DOMMouseScroll') && currentIntent !== value) {\n\t      currentIntent = value;\n\n\t      persistInput('intent', currentIntent);\n\t      doUpdate('intent');\n\t    }\n\t  };\n\n\t  var setElement = function setElement(event) {\n\t    if (!event.target.nodeName) {\n\t      // If nodeName is undefined, clear the element\n\t      // This can happen if click inside an <svg> element.\n\t      clearElement();\n\t      return;\n\t    }\n\n\t    currentElement = event.target.nodeName.toLowerCase();\n\t    docElem.setAttribute('data-whatelement', currentElement);\n\n\t    if (event.target.classList && event.target.classList.length) {\n\t      docElem.setAttribute('data-whatclasses', event.target.classList.toString().replace(' ', ','));\n\t    }\n\t  };\n\n\t  var clearElement = function clearElement() {\n\t    currentElement = null;\n\n\t    docElem.removeAttribute('data-whatelement');\n\t    docElem.removeAttribute('data-whatclasses');\n\t  };\n\n\t  var persistInput = function persistInput(which, value) {\n\t    if (shouldPersist) {\n\t      try {\n\t        window.sessionStorage.setItem('what-' + which, value);\n\t      } catch (e) {\n\t        // fail silently\n\t      }\n\t    }\n\t  };\n\n\t  /*\n\t   * utilities\n\t   */\n\n\t  var pointerType = function pointerType(event) {\n\t    if (typeof event.pointerType === 'number') {\n\t      return pointerMap[event.pointerType];\n\t    } else {\n\t      // treat pen like touch\n\t      return event.pointerType === 'pen' ? 'touch' : event.pointerType;\n\t    }\n\t  };\n\n\t  // prevent touch detection from being overridden by event execution order\n\t  var validateTouch = function validateTouch(value) {\n\t    var timestamp = Date.now();\n\n\t    var touchIsValid = value === 'mouse' && currentInput === 'touch' && timestamp - currentTimestamp < 200;\n\n\t    currentTimestamp = timestamp;\n\n\t    return touchIsValid;\n\t  };\n\n\t  // detect version of mouse wheel event to use\n\t  // via https://developer.mozilla.org/en-US/docs/Web/API/Element/wheel_event\n\t  var detectWheel = function detectWheel() {\n\t    var wheelType = null;\n\n\t    // Modern browsers support \"wheel\"\n\t    if ('onwheel' in document.createElement('div')) {\n\t      wheelType = 'wheel';\n\t    } else {\n\t      // Webkit and IE support at least \"mousewheel\"\n\t      // or assume that remaining browsers are older Firefox\n\t      wheelType = document.onmousewheel !== undefined ? 'mousewheel' : 'DOMMouseScroll';\n\t    }\n\n\t    return wheelType;\n\t  };\n\n\t  // runs callback functions\n\t  var fireFunctions = function fireFunctions(type) {\n\t    for (var i = 0, len = functionList.length; i < len; i++) {\n\t      if (functionList[i].type === type) {\n\t        functionList[i].fn.call(undefined, type === 'input' ? currentInput : currentIntent);\n\t      }\n\t    }\n\t  };\n\n\t  // finds matching element in an object\n\t  var objPos = function objPos(match) {\n\t    for (var i = 0, len = functionList.length; i < len; i++) {\n\t      if (functionList[i].fn === match) {\n\t        return i;\n\t      }\n\t    }\n\t  };\n\n\t  var detectScrolling = function detectScrolling(event) {\n\t    if (mousePos.x !== event.screenX || mousePos.y !== event.screenY) {\n\t      isScrolling = false;\n\n\t      mousePos.x = event.screenX;\n\t      mousePos.y = event.screenY;\n\t    } else {\n\t      isScrolling = true;\n\t    }\n\t  };\n\n\t  // manual version of `closest()`\n\t  var checkClosest = function checkClosest(elem, tag) {\n\t    var ElementPrototype = window.Element.prototype;\n\n\t    if (!ElementPrototype.matches) {\n\t      ElementPrototype.matches = ElementPrototype.msMatchesSelector || ElementPrototype.webkitMatchesSelector;\n\t    }\n\n\t    if (!ElementPrototype.closest) {\n\t      do {\n\t        if (elem.matches(tag)) {\n\t          return elem;\n\t        }\n\n\t        elem = elem.parentElement || elem.parentNode;\n\t      } while (elem !== null && elem.nodeType === 1);\n\n\t      return null;\n\t    } else {\n\t      return elem.closest(tag);\n\t    }\n\t  };\n\n\t  /*\n\t   * init\n\t   */\n\n\t  // don't start script unless browser cuts the mustard\n\t  // (also passes if polyfills are used)\n\t  if ('addEventListener' in window && Array.prototype.indexOf) {\n\t    setUp();\n\t  }\n\n\t  /*\n\t   * api\n\t   */\n\n\t  return {\n\t    // returns string: the current input type\n\t    // opt: 'intent'|'input'\n\t    // 'input' (default): returns the same value as the `data-whatinput` attribute\n\t    // 'intent': includes `data-whatintent` value if it's different than `data-whatinput`\n\t    ask: function ask(opt) {\n\t      return opt === 'intent' ? currentIntent : currentInput;\n\t    },\n\n\t    // returns string: the currently focused element or null\n\t    element: function element() {\n\t      return currentElement;\n\t    },\n\n\t    // overwrites ignored keys with provided array\n\t    ignoreKeys: function ignoreKeys(arr) {\n\t      ignoreMap = arr;\n\t    },\n\n\t    // overwrites specific char keys to update on\n\t    specificKeys: function specificKeys(arr) {\n\t      specificMap = arr;\n\t    },\n\n\t    // attach functions to input and intent \"events\"\n\t    // funct: function to fire on change\n\t    // eventType: 'input'|'intent'\n\t    registerOnChange: function registerOnChange(fn, eventType) {\n\t      functionList.push({\n\t        fn: fn,\n\t        type: eventType || 'input'\n\t      });\n\t    },\n\n\t    unRegisterOnChange: function unRegisterOnChange(fn) {\n\t      var position = objPos(fn);\n\n\t      if (position || position === 0) {\n\t        functionList.splice(position, 1);\n\t      }\n\t    },\n\n\t    clearStorage: function clearStorage() {\n\t      window.sessionStorage.clear();\n\t    }\n\t  };\n\t}();\n\n/***/ })\n/******/ ])\n});\n;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * DOM event delegator\n *\n * The delegator will listen\n * for events that bubble up\n * to the root node.\n *\n * @constructor\n * @param {Node|string} [root] The root node or a selector string matching the root node\n */\nfunction Delegate(root) {\n  /**\n   * Maintain a map of listener\n   * lists, keyed by event name.\n   *\n   * @type Object\n   */\n  this.listenerMap = [{}, {}];\n\n  if (root) {\n    this.root(root);\n  }\n  /** @type function() */\n\n\n  this.handle = Delegate.prototype.handle.bind(this); // Cache of event listeners removed during an event cycle\n\n  this._removedListeners = [];\n}\n/**\n * Start listening for events\n * on the provided DOM element\n *\n * @param  {Node|string} [root] The root node or a selector string matching the root node\n * @returns {Delegate} This method is chainable\n */\n\n\nDelegate.prototype.root = function (root) {\n  var listenerMap = this.listenerMap;\n  var eventType; // Remove master event listeners\n\n  if (this.rootElement) {\n    for (eventType in listenerMap[1]) {\n      if (listenerMap[1].hasOwnProperty(eventType)) {\n        this.rootElement.removeEventListener(eventType, this.handle, true);\n      }\n    }\n\n    for (eventType in listenerMap[0]) {\n      if (listenerMap[0].hasOwnProperty(eventType)) {\n        this.rootElement.removeEventListener(eventType, this.handle, false);\n      }\n    }\n  } // If no root or root is not\n  // a dom node, then remove internal\n  // root reference and exit here\n\n\n  if (!root || !root.addEventListener) {\n    if (this.rootElement) {\n      delete this.rootElement;\n    }\n\n    return this;\n  }\n  /**\n   * The root node at which\n   * listeners are attached.\n   *\n   * @type Node\n   */\n\n\n  this.rootElement = root; // Set up master event listeners\n\n  for (eventType in listenerMap[1]) {\n    if (listenerMap[1].hasOwnProperty(eventType)) {\n      this.rootElement.addEventListener(eventType, this.handle, true);\n    }\n  }\n\n  for (eventType in listenerMap[0]) {\n    if (listenerMap[0].hasOwnProperty(eventType)) {\n      this.rootElement.addEventListener(eventType, this.handle, false);\n    }\n  }\n\n  return this;\n};\n/**\n * @param {string} eventType\n * @returns boolean\n */\n\n\nDelegate.prototype.captureForType = function (eventType) {\n  return ['blur', 'error', 'focus', 'load', 'resize', 'scroll'].indexOf(eventType) !== -1;\n};\n/**\n * Attach a handler to one\n * event for all elements\n * that match the selector,\n * now or in the future\n *\n * The handler function receives\n * three arguments: the DOM event\n * object, the node that matched\n * the selector while the event\n * was bubbling and a reference\n * to itself. Within the handler,\n * 'this' is equal to the second\n * argument.\n *\n * The node that actually received\n * the event can be accessed via\n * 'event.target'.\n *\n * @param {string} eventType Listen for these events\n * @param {string|undefined} selector Only handle events on elements matching this selector, if undefined match root element\n * @param {function()} handler Handler function - event data passed here will be in event.data\n * @param {boolean} [useCapture] see 'useCapture' in <https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener>\n * @returns {Delegate} This method is chainable\n */\n\n\nDelegate.prototype.on = function (eventType, selector, handler, useCapture) {\n  var root;\n  var listenerMap;\n  var matcher;\n  var matcherParam;\n\n  if (!eventType) {\n    throw new TypeError('Invalid event type: ' + eventType);\n  } // handler can be passed as\n  // the second or third argument\n\n\n  if (typeof selector === 'function') {\n    useCapture = handler;\n    handler = selector;\n    selector = null;\n  } // Fallback to sensible defaults\n  // if useCapture not set\n\n\n  if (useCapture === undefined) {\n    useCapture = this.captureForType(eventType);\n  }\n\n  if (typeof handler !== 'function') {\n    throw new TypeError('Handler must be a type of Function');\n  }\n\n  root = this.rootElement;\n  listenerMap = this.listenerMap[useCapture ? 1 : 0]; // Add master handler for type if not created yet\n\n  if (!listenerMap[eventType]) {\n    if (root) {\n      root.addEventListener(eventType, this.handle, useCapture);\n    }\n\n    listenerMap[eventType] = [];\n  }\n\n  if (!selector) {\n    matcherParam = null; // COMPLEX - matchesRoot needs to have access to\n    // this.rootElement, so bind the function to this.\n\n    matcher = matchesRoot.bind(this); // Compile a matcher for the given selector\n  } else if (/^[a-z]+$/i.test(selector)) {\n    matcherParam = selector;\n    matcher = matchesTag;\n  } else if (/^#[a-z0-9\\-_]+$/i.test(selector)) {\n    matcherParam = selector.slice(1);\n    matcher = matchesId;\n  } else {\n    matcherParam = selector;\n    matcher = Element.prototype.matches;\n  } // Add to the list of listeners\n\n\n  listenerMap[eventType].push({\n    selector: selector,\n    handler: handler,\n    matcher: matcher,\n    matcherParam: matcherParam\n  });\n  return this;\n};\n/**\n * Remove an event handler\n * for elements that match\n * the selector, forever\n *\n * @param {string} [eventType] Remove handlers for events matching this type, considering the other parameters\n * @param {string} [selector] If this parameter is omitted, only handlers which match the other two will be removed\n * @param {function()} [handler] If this parameter is omitted, only handlers which match the previous two will be removed\n * @returns {Delegate} This method is chainable\n */\n\n\nDelegate.prototype.off = function (eventType, selector, handler, useCapture) {\n  var i;\n  var listener;\n  var listenerMap;\n  var listenerList;\n  var singleEventType; // Handler can be passed as\n  // the second or third argument\n\n  if (typeof selector === 'function') {\n    useCapture = handler;\n    handler = selector;\n    selector = null;\n  } // If useCapture not set, remove\n  // all event listeners\n\n\n  if (useCapture === undefined) {\n    this.off(eventType, selector, handler, true);\n    this.off(eventType, selector, handler, false);\n    return this;\n  }\n\n  listenerMap = this.listenerMap[useCapture ? 1 : 0];\n\n  if (!eventType) {\n    for (singleEventType in listenerMap) {\n      if (listenerMap.hasOwnProperty(singleEventType)) {\n        this.off(singleEventType, selector, handler);\n      }\n    }\n\n    return this;\n  }\n\n  listenerList = listenerMap[eventType];\n\n  if (!listenerList || !listenerList.length) {\n    return this;\n  } // Remove only parameter matches\n  // if specified\n\n\n  for (i = listenerList.length - 1; i >= 0; i--) {\n    listener = listenerList[i];\n\n    if ((!selector || selector === listener.selector) && (!handler || handler === listener.handler)) {\n      this._removedListeners.push(listener);\n\n      listenerList.splice(i, 1);\n    }\n  } // All listeners removed\n\n\n  if (!listenerList.length) {\n    delete listenerMap[eventType]; // Remove the main handler\n\n    if (this.rootElement) {\n      this.rootElement.removeEventListener(eventType, this.handle, useCapture);\n    }\n  }\n\n  return this;\n};\n/**\n * Handle an arbitrary event.\n *\n * @param {Event} event\n */\n\n\nDelegate.prototype.handle = function (event) {\n  var i;\n  var l;\n  var type = event.type;\n  var root;\n  var phase;\n  var listener;\n  var returned;\n  var listenerList = [];\n  var target;\n  var eventIgnore = 'ftLabsDelegateIgnore';\n\n  if (event[eventIgnore] === true) {\n    return;\n  }\n\n  target = event.target; // Hardcode value of Node.TEXT_NODE\n  // as not defined in IE8\n\n  if (target.nodeType === 3) {\n    target = target.parentNode;\n  } // Handle SVG <use> elements in IE\n\n\n  if (target.correspondingUseElement) {\n    target = target.correspondingUseElement;\n  }\n\n  root = this.rootElement;\n  phase = event.eventPhase || (event.target !== event.currentTarget ? 3 : 2); // eslint-disable-next-line default-case\n\n  switch (phase) {\n    case 1:\n      //Event.CAPTURING_PHASE:\n      listenerList = this.listenerMap[1][type];\n      break;\n\n    case 2:\n      //Event.AT_TARGET:\n      if (this.listenerMap[0] && this.listenerMap[0][type]) {\n        listenerList = listenerList.concat(this.listenerMap[0][type]);\n      }\n\n      if (this.listenerMap[1] && this.listenerMap[1][type]) {\n        listenerList = listenerList.concat(this.listenerMap[1][type]);\n      }\n\n      break;\n\n    case 3:\n      //Event.BUBBLING_PHASE:\n      listenerList = this.listenerMap[0][type];\n      break;\n  }\n\n  var toFire = []; // Need to continuously check\n  // that the specific list is\n  // still populated in case one\n  // of the callbacks actually\n  // causes the list to be destroyed.\n\n  l = listenerList.length;\n\n  while (target && l) {\n    for (i = 0; i < l; i++) {\n      listener = listenerList[i]; // Bail from this loop if\n      // the length changed and\n      // no more listeners are\n      // defined between i and l.\n\n      if (!listener) {\n        break;\n      }\n\n      if (target.tagName && [\"button\", \"input\", \"select\", \"textarea\"].indexOf(target.tagName.toLowerCase()) > -1 && target.hasAttribute(\"disabled\")) {\n        // Remove things that have previously fired\n        toFire = [];\n      } // Check for match and fire\n      // the event if there's one\n      //\n      // TODO:MCG:20120117: Need a way\n      // to check if event#stopImmediatePropagation\n      // was called. If so, break both loops.\n      else if (listener.matcher.call(target, listener.matcherParam, target)) {\n          toFire.push([event, target, listener]);\n        }\n    } // TODO:MCG:20120117: Need a way to\n    // check if event#stopPropagation\n    // was called. If so, break looping\n    // through the DOM. Stop if the\n    // delegation root has been reached\n\n\n    if (target === root) {\n      break;\n    }\n\n    l = listenerList.length; // Fall back to parentNode since SVG children have no parentElement in IE\n\n    target = target.parentElement || target.parentNode; // Do not traverse up to document root when using parentNode, though\n\n    if (target instanceof HTMLDocument) {\n      break;\n    }\n  }\n\n  var ret;\n\n  for (i = 0; i < toFire.length; i++) {\n    // Has it been removed during while the event function was fired\n    if (this._removedListeners.indexOf(toFire[i][2]) > -1) {\n      continue;\n    }\n\n    returned = this.fire.apply(this, toFire[i]); // Stop propagation to subsequent\n    // callbacks if the callback returned\n    // false\n\n    if (returned === false) {\n      toFire[i][0][eventIgnore] = true;\n      toFire[i][0].preventDefault();\n      ret = false;\n      break;\n    }\n  }\n\n  return ret;\n};\n/**\n * Fire a listener on a target.\n *\n * @param {Event} event\n * @param {Node} target\n * @param {Object} listener\n * @returns {boolean}\n */\n\n\nDelegate.prototype.fire = function (event, target, listener) {\n  return listener.handler.call(target, event, target);\n};\n/**\n * Check whether an element\n * matches a tag selector.\n *\n * Tags are NOT case-sensitive,\n * except in XML (and XML-based\n * languages such as XHTML).\n *\n * @param {string} tagName The tag name to test against\n * @param {Element} element The element to test with\n * @returns boolean\n */\n\n\nfunction matchesTag(tagName, element) {\n  return tagName.toLowerCase() === element.tagName.toLowerCase();\n}\n/**\n * Check whether an element\n * matches the root.\n *\n * @param {?String} selector In this case this is always passed through as null and not used\n * @param {Element} element The element to test with\n * @returns boolean\n */\n\n\nfunction matchesRoot(selector, element) {\n  if (this.rootElement === window) {\n    return (// Match the outer document (dispatched from document)\n      element === document || // The <html> element (dispatched from document.body or document.documentElement)\n      element === document.documentElement || // Or the window itself (dispatched from window)\n      element === window\n    );\n  }\n\n  return this.rootElement === element;\n}\n/**\n * Check whether the ID of\n * the element in 'this'\n * matches the given ID.\n *\n * IDs are case-sensitive.\n *\n * @param {string} id The ID to test against\n * @param {Element} element The element to test with\n * @returns boolean\n */\n\n\nfunction matchesId(id, element) {\n  return id === element.id;\n}\n/**\n * Short hand for off()\n * and root(), ie both\n * with no parameters\n *\n * @return void\n */\n\n\nDelegate.prototype.destroy = function () {\n  this.off();\n  this.root();\n};\n\nvar _default = Delegate;\nexports.default = _default;\nmodule.exports = exports.default;","export default function Listeners() {\n  this.entries = [];\n}\n\nListeners.prototype.add = function(element, event, fn) {\n  this.entries.push({ element: element, event: event, fn: fn });\n  element.addEventListener(event, fn);\n};\n\nListeners.prototype.removeAll = function() {\n  this.entries = this.entries.filter(function(listener) {\n    listener.element.removeEventListener(listener.event, listener.fn);\n    return false;\n  });\n};\n","/**\n * Returns a product JSON object when passed a product URL\n * @param {*} url\n */\nexport function getProductJson(handle) {\n  return fetch('/products/' + handle + '.js').then(function(response) {\n    return response.json();\n  });\n}\n\n/**\n * Find a match in the project JSON (using a ID number) and return the variant (as an Object)\n * @param {Object} product Product JSON object\n * @param {Number} value Accepts Number (e.g. 6908023078973)\n * @returns {Object} The variant object once a match has been successful. Otherwise null will be return\n */\nexport function getVariantFromId(product, value) {\n  _validateProductStructure(product);\n\n  if (typeof value !== 'number') {\n    throw new TypeError(value + ' is not a Number.');\n  }\n\n  var result = product.variants.filter(function(variant) {\n    return variant.id === value;\n  });\n\n  return result[0] || null;\n}\n\n/**\n * Convert the Object (with 'name' and 'value' keys) into an Array of values, then find a match & return the variant (as an Object)\n * @param {Object} product Product JSON object\n * @param {Object} collection Object with 'name' and 'value' keys (e.g. [{ name: \"Size\", value: \"36\" }, { name: \"Color\", value: \"Black\" }])\n * @returns {Object || null} The variant object once a match has been successful. Otherwise null will be returned\n */\nexport function getVariantFromSerializedArray(product, collection) {\n  _validateProductStructure(product);\n\n  // If value is an array of options\n  var optionArray = _createOptionArrayFromOptionCollection(product, collection);\n  return getVariantFromOptionArray(product, optionArray);\n}\n\n/**\n * Find a match in the project JSON (using Array with option values) and return the variant (as an Object)\n * @param {Object} product Product JSON object\n * @param {Array} options List of submitted values (e.g. ['36', 'Black'])\n * @returns {Object || null} The variant object once a match has been successful. Otherwise null will be returned\n */\nexport function getVariantFromOptionArray(product, options) {\n  _validateProductStructure(product);\n  _validateOptionsArray(options);\n\n  var result = product.variants.filter(function(variant) {\n    return options.every(function(option, index) {\n      return variant.options[index] === option;\n    });\n  });\n\n  return result[0] || null;\n}\n\n/**\n * Creates an array of selected options from the object\n * Loops through the project.options and check if the \"option name\" exist (product.options.name) and matches the target\n * @param {Object} product Product JSON object\n * @param {Array} collection Array of object (e.g. [{ name: \"Size\", value: \"36\" }, { name: \"Color\", value: \"Black\" }])\n * @returns {Array} The result of the matched values. (e.g. ['36', 'Black'])\n */\nfunction _createOptionArrayFromOptionCollection(product, collection) {\n  _validateProductStructure(product);\n  _validateSerializedArray(collection);\n\n  var optionArray = [];\n\n  collection.forEach(function(option) {\n    for (var i = 0; i < product.options.length; i++) {\n      if (product.options[i].name.toLowerCase() === option.name.toLowerCase()) {\n        optionArray[i] = option.value;\n        break;\n      }\n    }\n  });\n\n  return optionArray;\n}\n\n/**\n * Check if the product data is a valid JS object\n * Error will be thrown if type is invalid\n * @param {object} product Product JSON object\n */\nfunction _validateProductStructure(product) {\n  if (typeof product !== 'object') {\n    throw new TypeError(product + ' is not an object.');\n  }\n\n  if (Object.keys(product).length === 0 && product.constructor === Object) {\n    throw new Error(product + ' is empty.');\n  }\n}\n\n/**\n * Validate the structure of the array\n * It must be formatted like jQuery's serializeArray()\n * @param {Array} collection Array of object [{ name: \"Size\", value: \"36\" }, { name: \"Color\", value: \"Black\" }]\n */\nfunction _validateSerializedArray(collection) {\n  if (!Array.isArray(collection)) {\n    throw new TypeError(collection + ' is not an array.');\n  }\n\n  if (collection.length === 0) {\n    return [];\n  }\n\n  if (collection[0].hasOwnProperty('name')) {\n    if (typeof collection[0].name !== 'string') {\n      throw new TypeError(\n        'Invalid value type passed for name of option ' +\n          collection[0].name +\n          '. Value should be string.'\n      );\n    }\n  } else {\n    throw new Error(collection[0] + 'does not contain name key.');\n  }\n}\n\n/**\n * Validate the structure of the array\n * It must be formatted as list of values\n * @param {Array} collection Array of object (e.g. ['36', 'Black'])\n */\nfunction _validateOptionsArray(options) {\n  if (Array.isArray(options) && typeof options[0] === 'object') {\n    throw new Error(options + 'is not a valid array of options.');\n  }\n}\n","import Listeners from './listeners';\nimport { getVariantFromSerializedArray } from '@shopify/theme-product';\n\nvar selectors = {\n  idInput: '[name=\"id\"]',\n  optionInput: '[name^=\"options\"]',\n  quantityInput: '[name=\"quantity\"]',\n  propertyInput: '[name^=\"properties\"]'\n};\n\n// Public Methods\n// -----------------------------------------------------------------------------\n\n/**\n * Returns a URL with a variant ID query parameter. Useful for updating window.history\n * with a new URL based on the currently select product variant.\n * @param {string} url - The URL you wish to append the variant ID to\n * @param {number} id  - The variant ID you wish to append to the URL\n * @returns {string} - The new url which includes the variant ID query parameter\n */\n\nexport function getUrlWithVariant(url, id) {\n  if (/variant=/.test(url)) {\n    return url.replace(/(variant=)[^&]+/, '$1' + id);\n  } else if (/\\?/.test(url)) {\n    return url.concat('&variant=').concat(id);\n  }\n\n  return url.concat('?variant=').concat(id);\n}\n\n/**\n * Constructor class that creates a new instance of a product form controller.\n *\n * @param {Element} element - DOM element which is equal to the <form> node wrapping product form inputs\n * @param {Object} product - A product object\n * @param {Object} options - Optional options object\n * @param {Function} options.onOptionChange - Callback for whenever an option input changes\n * @param {Function} options.onQuantityChange - Callback for whenever an quantity input changes\n * @param {Function} options.onPropertyChange - Callback for whenever a property input changes\n * @param {Function} options.onFormSubmit - Callback for whenever the product form is submitted\n */\nexport function ProductForm(element, product, options) {\n  this.element = element;\n  this.product = _validateProductObject(product);\n\n  options = options || {};\n\n  this._listeners = new Listeners();\n  this._listeners.add(\n    this.element,\n    'submit',\n    this._onSubmit.bind(this, options)\n  );\n\n  this.optionInputs = this._initInputs(\n    selectors.optionInput,\n    options.onOptionChange\n  );\n\n  this.quantityInputs = this._initInputs(\n    selectors.quantityInput,\n    options.onQuantityChange\n  );\n\n  this.propertyInputs = this._initInputs(\n    selectors.propertyInput,\n    options.onPropertyChange\n  );\n}\n\n/**\n * Cleans up all event handlers that were assigned when the Product Form was constructed.\n * Useful for use when a section needs to be reloaded in the theme editor.\n */\nProductForm.prototype.destroy = function() {\n  this._listeners.removeAll();\n};\n\n/**\n * Getter method which returns the array of currently selected option values\n *\n * @returns {Array} An array of option values\n */\nProductForm.prototype.options = function() {\n  return _serializeOptionValues(this.optionInputs, function(item) {\n    var regex = /(?:^(options\\[))(.*?)(?:\\])/;\n    item.name = regex.exec(item.name)[2]; // Use just the value between 'options[' and ']'\n    return item;\n  });\n};\n\n/**\n * Getter method which returns the currently selected variant, or `null` if variant\n * doesn't exist.\n *\n * @returns {Object|null} Variant object\n */\nProductForm.prototype.variant = function() {\n  return getVariantFromSerializedArray(this.product, this.options());\n};\n\n/**\n * Getter method which returns a collection of objects containing name and values\n * of property inputs\n *\n * @returns {Array} Collection of objects with name and value keys\n */\nProductForm.prototype.properties = function() {\n  var properties = _serializePropertyValues(this.propertyInputs, function(\n    propertyName\n  ) {\n    var regex = /(?:^(properties\\[))(.*?)(?:\\])/;\n    var name = regex.exec(propertyName)[2]; // Use just the value between 'properties[' and ']'\n    return name;\n  });\n\n  return Object.entries(properties).length === 0 ? null : properties;\n};\n\n/**\n * Getter method which returns the current quantity or 1 if no quantity input is\n * included in the form\n *\n * @returns {Array} Collection of objects with name and value keys\n */\nProductForm.prototype.quantity = function() {\n  return this.quantityInputs[0]\n    ? Number.parseInt(this.quantityInputs[0].value, 10)\n    : 1;\n};\n\n// Private Methods\n// -----------------------------------------------------------------------------\nProductForm.prototype._setIdInputValue = function(value) {\n  var idInputElement = this.element.querySelector(selectors.idInput);\n\n  if (!idInputElement) {\n    idInputElement = document.createElement('input');\n    idInputElement.type = 'hidden';\n    idInputElement.name = 'id';\n    this.element.appendChild(idInputElement);\n  }\n\n  idInputElement.value = value.toString();\n};\n\nProductForm.prototype._onSubmit = function(options, event) {\n  event.dataset = this._getProductFormEventData();\n\n  this._setIdInputValue(event.dataset.variant.id);\n\n  if (options.onFormSubmit) {\n    options.onFormSubmit(event);\n  }\n};\n\nProductForm.prototype._onFormEvent = function(cb) {\n  if (typeof cb === 'undefined') {\n    return Function.prototype;\n  }\n\n  return function(event) {\n    event.dataset = this._getProductFormEventData();\n    cb(event);\n  }.bind(this);\n};\n\nProductForm.prototype._initInputs = function(selector, cb) {\n  var elements = Array.prototype.slice.call(\n    this.element.querySelectorAll(selector)\n  );\n\n  return elements.map(\n    function(element) {\n      this._listeners.add(element, 'change', this._onFormEvent(cb));\n      return element;\n    }.bind(this)\n  );\n};\n\nProductForm.prototype._getProductFormEventData = function() {\n  return {\n    options: this.options(),\n    variant: this.variant(),\n    properties: this.properties(),\n    quantity: this.quantity()\n  };\n};\n\nfunction _serializeOptionValues(inputs, transform) {\n  return inputs.reduce(function(options, input) {\n    if (\n      input.checked || // If input is a checked (means type radio or checkbox)\n      (input.type !== 'radio' && input.type !== 'checkbox') // Or if its any other type of input\n    ) {\n      options.push(transform({ name: input.name, value: input.value }));\n    }\n\n    return options;\n  }, []);\n}\n\nfunction _serializePropertyValues(inputs, transform) {\n  return inputs.reduce(function(properties, input) {\n    if (\n      input.checked || // If input is a checked (means type radio or checkbox)\n      (input.type !== 'radio' && input.type !== 'checkbox') // Or if its any other type of input\n    ) {\n      properties[transform(input.name)] = input.value;\n    }\n\n    return properties;\n  }, {});\n}\n\nfunction _validateProductObject(product) {\n  if (typeof product !== 'object') {\n    throw new TypeError(product + ' is not an object.');\n  }\n\n  if (typeof product.variants[0].options === 'undefined') {\n    throw new TypeError(\n      'Product object is invalid. Make sure you use the product object that is output from {{ product | json }} or from the http://[your-product-url].js route'\n    );\n  }\n\n  return product;\n}\n","function t(){try{return localStorage.setItem(\"test\",\"test\"),localStorage.removeItem(\"test\"),!0}catch(t){return!1}}function e(e){if(t())return JSON.parse(localStorage.getItem(\"neon_\"+e))}function r(e,r){if(t())return localStorage.setItem(\"neon_\"+e,r)}export{e as get,r as set};\n","var n=function(n){if(\"object\"!=typeof(t=n)||Array.isArray(t))throw\"state should be an object\";var t},t=function(n,t,e,c){return(r=n,r.reduce(function(n,t,e){return n.indexOf(t)>-1?n:n.concat(t)},[])).reduce(function(n,e){return n.concat(t[e]||[])},[]).map(function(n){return n(e,c)});var r},e=a(),c=e.on,r=e.emit,o=e.hydrate,u=e.getState;function a(e){void 0===e&&(e={});var c={};return{getState:function(){return Object.assign({},e)},hydrate:function(r){return n(r),Object.assign(e,r),function(){var n=[\"*\"].concat(Object.keys(r));t(n,c,e)}},on:function(n,t){return(n=[].concat(n)).map(function(n){return c[n]=(c[n]||[]).concat(t)}),function(){return n.map(function(n){return c[n].splice(c[n].indexOf(t),1)})}},emit:function(r,o,u){var a=(\"*\"===r?[]:[\"*\"]).concat(r);(o=\"function\"==typeof o?o(e):o)&&(n(o),Object.assign(e,o),a=a.concat(Object.keys(o))),t(a,c,e,u)}}}export{c as on,r as emit,o as hydrate,u as getState,a as create};\n//# sourceMappingURL=evx.es.js.map\n","const CustomEvents = {\n  cartItemAdded: \"flu:cart:item-added\",\n  cartUpdated: \"flu:cart:updated\",\n  cartError: \"flu:cart:error\",\n  productVariantChange: \"flu:product:variant-change\",\n  productQuanityUpdate: \"flu:product:quantity-update\",\n  quickCartOpen: \"flu:quick-cart:open\",\n  quickCartClose: \"flu:quick-cart:close\",\n  // For use with apps. No need to use `flu:`\n  quickViewLoaded: \"quickview:loaded\",\n};\n\nconst dispatchCustomEvent = (eventName, data = {}) => {\n  const detail = { detail: data };\n  const event = new CustomEvent(eventName, data ? detail : null);\n\n  document.dispatchEvent(event);\n};\n\nexport { CustomEvents, dispatchCustomEvent };\n","import { get as getStorage, set as setStorage } from \"@fluorescent/storage\";\nimport { emit } from \"evx\";\nimport { dispatchCustomEvent, CustomEvents } from \"@/lib/dispatch-custom-event\";\n\nconst routes = window.theme.routes.cart || {};\n\nconst paths = {\n  base: `${routes.base || \"/cart\"}.js`,\n  add: `${routes.add || \"/cart/add\"}.js`,\n  change: `${routes.change || \"/cart/change\"}.js`,\n  clear: `${routes.clear || \"/cart/clear\"}.js`,\n};\n\n// Add a `sorted` key that orders line items\n// in the order the customer added them if possible\nfunction sortCart(cart) {\n  const order = getStorage(\"cart_order\") || [];\n\n  if (order.length) {\n    cart.sorted = [...cart.items].sort(\n      (a, b) => order.indexOf(a.variant_id) - order.indexOf(b.variant_id)\n    );\n    return cart;\n  }\n\n  cart.sorted = cart.items;\n  return cart;\n}\n\nfunction addVariant(variant, quantity) {\n  const numAvailable =\n    variant.inventory_policy === \"deny\" &&\n    variant.inventory_management === \"shopify\"\n      ? variant.inventory_quantity\n      : null; // null means they can add as many as they want\n\n  return get().then(({ items }) => {\n    const existing = items.filter(item => item.id === variant.id)[0] || {};\n    const numRequested = (existing.quantity || 0) + quantity;\n\n    if (numAvailable !== null && numRequested > numAvailable) {\n      const err = `There are only ${numAvailable} of that product available, requested ${numRequested}.`;\n      throw new Error(err);\n    } else {\n      return addItemById(variant.id, quantity);\n    }\n  });\n}\n\nexport function updateItem(id, quantity) {\n  return get().then(({ items }) => {\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].variant_id === parseInt(id)) {\n        return changeItem(i + 1, quantity); // shopify cart is a 1-based index\n      }\n    }\n  });\n}\n\nfunction changeItem(line, quantity) {\n  return fetch(paths.change, {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ line, quantity }),\n  })\n    .then(res => res.json())\n    .then(cart => {\n      emit(\"cart:updated\", { cart: sortCart(cart) });\n      dispatchCustomEvent(CustomEvents.cartUpdated, { cart: sortCart(cart) });\n      return sortCart(cart);\n    });\n}\n\nfunction addItemById(id, quantity) {\n  emit(\"cart:updating\");\n\n  return fetch(paths.add, {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ id, quantity }),\n  })\n    .then(r => r.json())\n    .then(item => {\n      return get().then(cart => {\n        const order = getStorage(\"cart_order\") || [];\n        const newOrder = [\n          item.variant_id,\n          ...order.filter(i => i !== item.variant_id),\n        ];\n        setStorage(\"cart_order\", JSON.stringify(newOrder));\n\n        emit(\"cart:updated\", { cart: sortCart(cart) });\n        return { item, cart: sortCart(cart) };\n      });\n    });\n}\n\nfunction get() {\n  return fetch(paths.base, {\n    method: \"GET\",\n    credentials: \"include\",\n  })\n    .then(res => res.json())\n    .then(data => {\n      return sortCart(data);\n    });\n}\n\nfunction addItem(form) {\n  emit(\"cart:updating\");\n\n  return fetch(paths.add, {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      \"X-Requested-With\": \"XMLHttpRequest\",\n    },\n    body: serialize(form),\n  })\n    .then(r => r.json())\n    .then(res => {\n      if (res.status == \"422\") {\n        dispatchCustomEvent(CustomEvents.cartError, {\n          errorMessage: res.description,\n        });\n        throw { code: 422, message: res.description };\n      }\n\n      return get().then(cart => {\n        const order = getStorage(\"cart_order\") || [];\n        const newOrder = [\n          res.variant_id,\n          ...order.filter(i => i !== res.variant_id),\n        ];\n        setStorage(\"cart_order\", JSON.stringify(newOrder));\n\n        emit(\"cart:updated\", { cart: sortCart(cart) });\n        dispatchCustomEvent(CustomEvents.cartUpdated, { cart: sortCart(cart) });\n        return { item: res, cart: sortCart(cart) };\n      });\n    });\n}\n\n// !\n//  Serialize all form data into a SearchParams string\n//  (c) 2020 Chris Ferdinandi, MIT License, https://gomakethings.com\n//  @param  {Node}   form The form to serialize\n//  @return {String}      The serialized form data\n//\nfunction serialize(form) {\n  var arr = [];\n  Array.prototype.slice.call(form.elements).forEach(function (field) {\n    if (\n      !field.name ||\n      field.disabled ||\n      [\"file\", \"reset\", \"submit\", \"button\"].indexOf(field.type) > -1\n    ) {\n      return;\n    }\n    if (field.type === \"select-multiple\") {\n      Array.prototype.slice.call(field.options).forEach(function (option) {\n        if (!option.selected) return;\n        arr.push(\n          encodeURIComponent(field.name) +\n            \"=\" +\n            encodeURIComponent(option.value)\n        );\n      });\n      return;\n    }\n    if ([\"checkbox\", \"radio\"].indexOf(field.type) > -1 && !field.checked) {\n      return;\n    }\n    arr.push(\n      encodeURIComponent(field.name) + \"=\" + encodeURIComponent(field.value)\n    );\n  });\n  return arr.join(\"&\");\n}\n\nexport default { addItem, addItemById, addVariant, get, updateItem };\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatMoney = formatMoney;\n/**\n * Currency Helpers\n * -----------------------------------------------------------------------------\n * A collection of useful functions that help with currency formatting\n *\n * Current contents\n * - formatMoney - Takes an amount in cents and returns it as a formatted dollar value.\n *\n */\n\nvar moneyFormat = '${{amount}}';\n\n/**\n * Format money values based on your shop currency settings\n * @param  {Number|string} cents - value in cents or dollar amount e.g. 300 cents\n * or 3.00 dollars\n * @param  {String} format - shop money_format setting\n * @return {String} value - formatted value\n */\nfunction formatMoney(cents, format) {\n  if (typeof cents === 'string') {\n    cents = cents.replace('.', '');\n  }\n  var value = '';\n  var placeholderRegex = /\\{\\{\\s*(\\w+)\\s*\\}\\}/;\n  var formatString = format || moneyFormat;\n\n  function formatWithDelimiters(number) {\n    var precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    var thousands = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ',';\n    var decimal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n\n    if (isNaN(number) || number == null) {\n      return 0;\n    }\n\n    number = (number / 100.0).toFixed(precision);\n\n    var parts = number.split('.');\n    var dollarsAmount = parts[0].replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1' + thousands);\n    var centsAmount = parts[1] ? decimal + parts[1] : '';\n\n    return dollarsAmount + centsAmount;\n  }\n\n  switch (formatString.match(placeholderRegex)[1]) {\n    case 'amount':\n      value = formatWithDelimiters(cents, 2);\n      break;\n    case 'amount_no_decimals':\n      value = formatWithDelimiters(cents, 0);\n      break;\n    case 'amount_with_comma_separator':\n      value = formatWithDelimiters(cents, 2, '.', ',');\n      break;\n    case 'amount_no_decimals_with_comma_separator':\n      value = formatWithDelimiters(cents, 0, '.', ',');\n      break;\n  }\n\n  return formatString.replace(placeholderRegex, value);\n}\n","import { formatMoney } from \"@shopify/theme-currency\";\n\nexport default val =>\n  formatMoney(val, window.theme.moneyFormat || \"${{amount}}\");\n","// Fetch the product data from the .js endpoint because it includes\n// more data than the .json endpoint.\n\nexport default handle => cb =>\n  fetch(`${window.theme.routes.products}/${handle}.js`)\n    .then(res => res.json())\n    .then(data => cb(data))\n    .catch(err => console.log(err.message));\n","import { listen, qs, qsa, toggle } from \"@fluorescent/dom\";\n\nexport default function OptionButtons(els) {\n  const groups = els.map(createOptionGroup);\n\n  function destroy() {\n    groups && groups.forEach(group => group());\n  }\n\n  return { groups, destroy };\n}\n\nfunction createOptionGroup(el) {\n  const select = qs(\"select\", el);\n  const buttons = qsa(\"[data-button]\", el);\n  const buttonClick = listen(buttons, \"click\", e => {\n    e.preventDefault();\n    const { button, swatchButton, label } = e.currentTarget.dataset;\n\n    if (swatchButton) {\n      const optionSelectedLabel = qs(\n        \"[data-swatch-selected]\",\n        e.currentTarget.closest(\".pf-container\")\n      );\n      if (optionSelectedLabel) optionSelectedLabel.innerHTML = label;\n    }\n\n    buttons.forEach(btn =>\n      toggle(btn, \"selected\", btn.dataset.button === button)\n    );\n\n    const opt = qs(`[data-value-handle=\"${button}\"]`, select);\n    opt.selected = true;\n\n    select.dispatchEvent(new Event(\"change\"));\n  });\n\n  return () => buttonClick();\n}\n","import { add, qs, qsa, remove } from \"@fluorescent/dom\";\nimport { ProductForm } from \"@shopify/theme-product-form\";\nimport Delegate from \"ftdomdelegate\";\n\nimport { cart, formatMoney } from \"@/neon\";\nimport { emit } from \"@/neon/events\";\nimport { dispatchCustomEvent, CustomEvents } from \"@/lib/dispatch-custom-event\";\nimport OptionButtons from \"@/lib/option-buttons\";\n\nconst selectors = {\n  addToCart: \"[data-add-to-cart]\",\n  price: \"[data-price]\",\n  comparePrice: \"[data-compare-price]\",\n};\n\nconst getProductMarkup = handle => cb =>\n  fetch(`${window.theme.routes.products}/${handle}?view=quick`)\n    .then(res => res.text())\n    .then(data => cb(data))\n    .catch(err => console.log(err.message));\n\nexport default function () {\n  const delegate = new Delegate(document.body);\n  delegate.on(\"click\", \"button[data-quick-add]\", handleClick);\n\n  function handleClick(_, target) {\n    const { quickAdd: handle } = target.dataset;\n\n    // Open and show loading state\n    emit(\"cart:configureLoading\");\n\n    // Fetch markup and send to quick cart\n    const product = getProductMarkup(handle);\n    product(html => emit(\"cart:configureReady\", null, { html, handle }));\n  }\n}\n\nexport function handleForm(data, scope) {\n  const buyButton = qs(\"[data-add-to-cart]\", scope);\n  const errorMessage = qs(\"[data-error-message]\", scope);\n  const optionButtons = OptionButtons(qsa(\"[data-option-buttons]\", scope));\n\n  const productForm = new ProductForm(qs(\"[data-product-form]\", scope), data, {\n    onOptionChange: ({ dataset: { variant } }) => {\n      // Update prices\n      const price = qsa(selectors.price, scope);\n      const comparePrice = qsa(selectors.comparePrice, scope);\n\n      dispatchCustomEvent(CustomEvents.productVariantChange, {\n        variant: variant,\n      });\n      if (variant) {\n        price.forEach(el => (el.innerHTML = formatMoney(variant.price)));\n        comparePrice.forEach(\n          el =>\n            (el.innerHTML =\n              variant.compare_at_price > variant.price\n                ? formatMoney(variant.compare_at_price)\n                : \"\")\n        );\n      }\n\n      // Update add to cart button\n      const text = qs(\"[data-add-to-cart-text]\", buyButton);\n      const { langAvailable, langUnavailable, langSoldOut } = buyButton.dataset;\n\n      if (!variant) {\n        buyButton.setAttribute(\"disabled\", \"disabled\");\n        text.textContent = langUnavailable;\n      } else if (variant.available) {\n        buyButton.removeAttribute(\"disabled\");\n        text.textContent = langAvailable;\n      } else {\n        buyButton.setAttribute(\"disabled\", \"disabled\");\n        text.textContent = langSoldOut;\n      }\n    },\n\n    onFormSubmit: e => {\n      const { enableQuickCart } = document.body.dataset;\n      if (!enableQuickCart) return;\n\n      e.preventDefault();\n      add(buyButton, \"loading\");\n      remove(errorMessage, \"visible\");\n\n      cart\n        .addItem(productForm.element)\n        .then(({ item }) => {\n          remove(buyButton, \"loading\");\n          emit(\"cart:open\", null, { flash: item.variant_id });\n        })\n        .catch(error => {\n          remove(buyButton, \"loading\");\n          add(errorMessage, \"visible\");\n          errorMessage.innerText = error.message;\n        });\n    },\n  });\n}\n","import { on } from \"@/neon/events\";\n\nexport function loadReviews() {\n  const { SPR } = window;\n\n  if (SPR) {\n    SPR.registerCallbacks();\n    SPR.initRatingHandler();\n    SPR.initDomEls();\n    SPR.loadProducts();\n    SPR.loadBadges();\n  }\n}\n\nexport default () => {\n  // Reload reviews when a collection is filtered\n  on(\"collection:updated\", loadReviews);\n};\n","import { add, qsa, remove } from \"@fluorescent/dom\";\n\nconst cn = \"full-width\";\n\nexport default () => {\n  function adjustClasses() {\n    const sections = qsa(\".shopify-section\");\n    sections.forEach(s => {\n      const { firstElementChild: child } = s;\n      if (child && child.classList.contains(cn)) {\n        remove(child, cn);\n        add(s, cn);\n      }\n    });\n  }\n\n  adjustClasses();\n  document.addEventListener(\"shopify:section:load\", adjustClasses);\n};\n","/*!\n* tabbable 5.3.3\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]:not(slot)', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])', 'details>summary:first-of-type', 'details'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar NoElement = typeof Element === 'undefined';\nvar matches = NoElement ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\nvar getRootNode = !NoElement && Element.prototype.getRootNode ? function (element) {\n  return element.getRootNode();\n} : function (element) {\n  return element.ownerDocument;\n};\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\n\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidatesScope\n * @property {Element} scope contains inner candidates\n * @property {Element[]} candidates\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidatesScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidatesScope>}\n */\n\n\nvar getCandidatesIteratively = function getCandidatesIteratively(elements, includeContainer, options) {\n  var candidates = [];\n  var elementsToCheck = Array.from(elements);\n\n  while (elementsToCheck.length) {\n    var element = elementsToCheck.shift();\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      var assigned = element.assignedElements();\n      var content = assigned.length ? assigned : element.children;\n      var nestedCandidates = getCandidatesIteratively(content, true, options);\n\n      if (options.flatten) {\n        candidates.push.apply(candidates, nestedCandidates);\n      } else {\n        candidates.push({\n          scope: element,\n          candidates: nestedCandidates\n        });\n      }\n    } else {\n      // check candidate element\n      var validCandidate = matches.call(element, candidateSelector);\n\n      if (validCandidate && options.filter(element) && (includeContainer || !elements.includes(element))) {\n        candidates.push(element);\n      } // iterate over shadow content if possible\n\n\n      var shadowRoot = element.shadowRoot || // check for an undisclosed shadow\n      typeof options.getShadowRoot === 'function' && options.getShadowRoot(element);\n      var validShadowRoot = !options.shadowRootFilter || options.shadowRootFilter(element);\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        var _nestedCandidates = getCandidatesIteratively(shadowRoot === true ? element.children : shadowRoot.children, true, options);\n\n        if (options.flatten) {\n          candidates.push.apply(candidates, _nestedCandidates);\n        } else {\n          candidates.push({\n            scope: element,\n            candidates: _nestedCandidates\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift.apply(elementsToCheck, element.children);\n      }\n    }\n  }\n\n  return candidates;\n};\n\nvar getTabindex = function getTabindex(node, isScope) {\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    //\n    // isScope is positive for custom element with shadow root or slot that by default\n    // have tabIndex -1, but need to be sorted by document order in order for their\n    // content to be inserted in the correct position\n    if ((isScope || /^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) || node.isContentEditable) && isNaN(parseInt(node.getAttribute('tabindex'), 10))) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\n\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\n\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\n\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n\n  var radioScope = node.form || getRootNode(node);\n\n  var queryRadios = function queryRadios(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n\n  var radioSet;\n\n  if (typeof window !== 'undefined' && typeof window.CSS !== 'undefined' && typeof window.CSS.escape === 'function') {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);\n      return false;\n    }\n  }\n\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nvar isZeroArea = function isZeroArea(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      width = _node$getBoundingClie.width,\n      height = _node$getBoundingClie.height;\n\n  return width === 0 && height === 0;\n};\n\nvar isHidden = function isHidden(node, _ref) {\n  var displayCheck = _ref.displayCheck,\n      getShadowRoot = _ref.getShadowRoot;\n\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  } // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n\n\n  var nodeRootHost = getRootNode(node).host;\n  var nodeIsAttached = (nodeRootHost === null || nodeRootHost === void 0 ? void 0 : nodeRootHost.ownerDocument.contains(nodeRootHost)) || node.ownerDocument.contains(node);\n\n  if (!displayCheck || displayCheck === 'full') {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      var originalNode = node;\n\n      while (node) {\n        var parentElement = node.parentElement;\n        var rootNode = getRootNode(node);\n\n        if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    } // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n\n    if (nodeIsAttached) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    } // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  } // visible, as far as we can tell, or per current `displayCheck` mode\n\n\n  return false;\n}; // form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\n\n\nvar isDisabledFromFieldset = function isDisabledFromFieldset(node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    var parentNode = node.parentElement; // check if `node` is contained in a disabled <fieldset>\n\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i); // when the first <legend> (in document order) is found\n\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *') ? true : !child.contains(node);\n          }\n        } // the disabled <fieldset> containing `node` has no <legend>\n\n\n        return true;\n      }\n\n      parentNode = parentNode.parentElement;\n    }\n  } // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n\n\n  return false;\n};\n\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node, options) || // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {\n  if (isNonTabbableRadio(node) || getTabindex(node) < 0 || !isNodeMatchingSelectorFocusable(options, node)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isValidShadowRootTabbable = function isValidShadowRootTabbable(shadowHostNode) {\n  var tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  } // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n\n\n  return false;\n};\n/**\n * @param {Array.<Element|CandidatesScope>} candidates\n * @returns Element[]\n */\n\n\nvar sortByOrder = function sortByOrder(candidates) {\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    var isScope = !!item.scope;\n    var element = isScope ? item.scope : item;\n    var candidateTabindex = getTabindex(element, isScope);\n    var elements = isScope ? sortByOrder(item.candidates) : element;\n\n    if (candidateTabindex === 0) {\n      isScope ? regularTabbables.push.apply(regularTabbables, elements) : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements\n      });\n    }\n  });\n  return orderedTabbables.sort(sortOrderedTabbables).reduce(function (acc, sortable) {\n    sortable.isScope ? acc.push.apply(acc, sortable.content) : acc.push(sortable.content);\n    return acc;\n  }, []).concat(regularTabbables);\n};\n\nvar tabbable = function tabbable(el, options) {\n  options = options || {};\n  var candidates;\n\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable\n    });\n  } else {\n    candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  }\n\n  return sortByOrder(candidates);\n};\n\nvar focusable = function focusable(el, options) {\n  options = options || {};\n  var candidates;\n\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot\n    });\n  } else {\n    candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  }\n\n  return candidates;\n};\n\nvar isTabbable = function isTabbable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\n\nvar isFocusable = function isFocusable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { focusable, isFocusable, isTabbable, tabbable };\n//# sourceMappingURL=index.esm.js.map\n","/*!\n* focus-trap 6.9.4\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { tabbable, focusable, isTabbable, isFocusable } from 'tabbable';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar activeFocusTraps = function () {\n  var trapQueue = [];\n  return {\n    activateTrap: function activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n    deactivateTrap: function deactivateTrap(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n}();\n\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\n\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n}; // Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\n\n\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n  return idx;\n};\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\n\n\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\n\nvar getActualTarget = function getActualTarget(event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;\n};\n\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true\n  }, userOptions);\n\n  var state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [],\n    // same order/length as `containers` list\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n\n\n  var findContainerIndex = function findContainerIndex(element) {\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(function (_ref) {\n      var container = _ref.container,\n          tabbableNodes = _ref.tabbableNodes;\n      return container.contains(element) || // fall back to explicit tabbable search which will take into consideration any\n      //  web components if the `tabbableOptions.getShadowRoot` option was used for\n      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n      //  look inside web components even if open)\n      tabbableNodes.find(function (node) {\n        return node === element;\n      });\n    });\n  };\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n\n\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n\n      optionValue = optionValue.apply(void 0, params);\n    }\n\n    if (optionValue === true) {\n      optionValue = undefined; // use default value\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      } // else, empty string (invalid), null (invalid), 0 (invalid)\n\n\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n\n    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n\n    return node;\n  };\n\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node = getNodeForOption('initialFocus'); // false explicitly indicates we want no initialFocus at all\n\n    if (node === false) {\n      return false;\n    }\n\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode; // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n\n    return node;\n  };\n\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.containerGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container, config.tabbableOptions); // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes\n\n      var focusableNodes = focusable(container, config.tabbableOptions);\n      return {\n        container: container,\n        tabbableNodes: tabbableNodes,\n        focusableNodes: focusableNodes,\n        firstTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[0] : null,\n        lastTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : null,\n\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode: function nextTabbableNode(node) {\n          var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n          //  from the DOM order), this __will not work__ because the list of focusableNodes,\n          //  while it contains tabbable nodes, does not sort its nodes in any order other\n          //  than DOM order, because it can't: Where would you place focusable (but not\n          //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n          // Support for positive tabindex is already broken and hard to manage (possibly\n          //  not supportable, TBD), so this isn't going to make things worse than they\n          //  already are, and at least makes things better for the majority of cases where\n          //  tabindex is either 0/unset or negative.\n          // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n          var nodeIdx = focusableNodes.findIndex(function (n) {\n            return n === node;\n          });\n\n          if (nodeIdx < 0) {\n            return undefined;\n          }\n\n          if (forward) {\n            return focusableNodes.slice(nodeIdx + 1).find(function (n) {\n              return isTabbable(n, config.tabbableOptions);\n            });\n          }\n\n          return focusableNodes.slice(0, nodeIdx).reverse().find(function (n) {\n            return isTabbable(n, config.tabbableOptions);\n          });\n        }\n      };\n    });\n    state.tabbableGroups = state.containerGroups.filter(function (group) {\n      return group.tabbableNodes.length > 0;\n    }); // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  }; // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n\n\n  var checkPointerDown = function checkPointerDown(e) {\n    var target = getActualTarget(e);\n\n    if (findContainerIndex(target) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(target, config.tabbableOptions)\n      });\n      return;\n    } // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    } // otherwise, prevent the click\n\n\n    e.preventDefault();\n  }; // In case focus escapes the trap for some strange reason, pull it back in.\n\n\n  var checkFocusIn = function checkFocusIn(e) {\n    var target = getActualTarget(e);\n    var targetContained = findContainerIndex(target) >= 0; // In Firefox when you Tab out of an iframe the Document is briefly focused.\n\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  }; // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n\n\n  var checkTab = function checkTab(e) {\n    var target = getActualTarget(e);\n    updateTabbableNodes();\n    var destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findContainerIndex(target);\n      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var firstTabbableNode = _ref2.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var lastTabbableNode = _ref3.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    } // else, let the browser take care of [shift+]tab and move the focus\n\n  };\n\n  var checkKey = function checkKey(e) {\n    if (isEscapeEvent(e) && valueOrHandler(config.escapeDeactivates, e) !== false) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  var checkClick = function checkClick(e) {\n    var target = getActualTarget(e);\n\n    if (findContainerIndex(target) >= 0) {\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }; //\n  // EVENT LISTENERS\n  //\n\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    } // There can be only one listening focus trap at a time\n\n\n    activeFocusTraps.activateTrap(trap); // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  }; //\n  // TRAP DEFINITION\n  //\n\n\n  trap = {\n    get active() {\n      return state.active;\n    },\n\n    get paused() {\n      return state.paused;\n    },\n\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n\n        addListeners();\n\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      var options = _objectSpread2({\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus\n      }, deactivateOptions);\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      activeFocusTraps.deactivateTrap(trap);\n      var onDeactivate = getOption(options, 'onDeactivate');\n      var onPostDeactivate = getOption(options, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');\n      var returnFocus = getOption(options, 'returnFocus', 'returnFocusOnDeactivate');\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n      return this;\n    },\n    unpause: function unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    }\n  }; // initialize container elements\n\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nexport { createFocusTrap };\n//# sourceMappingURL=focus-trap.esm.js.map\n","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nvar hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  var passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    }\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nvar isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n\nvar locks = [];\nvar documentListenerAdded = false;\nvar initialClientY = -1;\nvar previousBodyOverflowSetting = void 0;\nvar previousBodyPaddingRight = void 0;\n\n// returns true if `el` should be allowed to receive touchmove events.\nvar allowTouchMove = function allowTouchMove(el) {\n  return locks.some(function (lock) {\n    if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n      return true;\n    }\n\n    return false;\n  });\n};\n\nvar preventDefault = function preventDefault(rawEvent) {\n  var e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nvar setOverflowHidden = function setOverflowHidden(options) {\n  // If previousBodyPaddingRight is already set, don't set it again.\n  if (previousBodyPaddingRight === undefined) {\n    var _reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n    var scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n    if (_reserveScrollBarGap && scrollBarGap > 0) {\n      previousBodyPaddingRight = document.body.style.paddingRight;\n      document.body.style.paddingRight = scrollBarGap + 'px';\n    }\n  }\n\n  // If previousBodyOverflowSetting is already set, don't set it again.\n  if (previousBodyOverflowSetting === undefined) {\n    previousBodyOverflowSetting = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  }\n};\n\nvar restoreOverflowSetting = function restoreOverflowSetting() {\n  if (previousBodyPaddingRight !== undefined) {\n    document.body.style.paddingRight = previousBodyPaddingRight;\n\n    // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n    // can be set again.\n    previousBodyPaddingRight = undefined;\n  }\n\n  if (previousBodyOverflowSetting !== undefined) {\n    document.body.style.overflow = previousBodyOverflowSetting;\n\n    // Restore previousBodyOverflowSetting to undefined\n    // so setOverflowHidden knows it can be set again.\n    previousBodyOverflowSetting = undefined;\n  }\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nvar isTargetElementTotallyScrolled = function isTargetElementTotallyScrolled(targetElement) {\n  return targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;\n};\n\nvar handleScroll = function handleScroll(event, targetElement) {\n  var clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll.\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the bottom of its scroll.\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport var disableBodyScroll = function disableBodyScroll(targetElement, options) {\n  // targetElement must be provided\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n    return;\n  }\n\n  // disableBodyScroll must not have been called on this targetElement before\n  if (locks.some(function (lock) {\n    return lock.targetElement === targetElement;\n  })) {\n    return;\n  }\n\n  var lock = {\n    targetElement: targetElement,\n    options: options || {}\n  };\n\n  locks = [].concat(_toConsumableArray(locks), [lock]);\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        initialClientY = event.targetTouches[0].clientY;\n      }\n    };\n    targetElement.ontouchmove = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        handleScroll(event, targetElement);\n      }\n    };\n\n    if (!documentListenerAdded) {\n      document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = true;\n    }\n  } else {\n    setOverflowHidden(options);\n  }\n};\n\nexport var clearAllBodyScrollLocks = function clearAllBodyScrollLocks() {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references.\n    locks.forEach(function (lock) {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    // Reset initial clientY.\n    initialClientY = -1;\n  } else {\n    restoreOverflowSetting();\n  }\n\n  locks = [];\n};\n\nexport var enableBodyScroll = function enableBodyScroll(targetElement) {\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n    return;\n  }\n\n  locks = locks.filter(function (lock) {\n    return lock.targetElement !== targetElement;\n  });\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n  } else if (!locks.length) {\n    restoreOverflowSetting();\n  }\n};\n\n","/**\n * Image Helper Functions\n * -----------------------------------------------------------------------------\n * A collection of functions that help with basic image operations.\n *\n */\n\n/**\n * Preloads an image in memory and uses the browsers cache to store it until needed.\n *\n * @param {Array} images - A list of image urls\n * @param {String} size - A shopify image size attribute\n */\nexport function preload(images, size) {\n  if (typeof images === \"string\") {\n    images = [images];\n  }\n\n  for (var i = 0; i < images.length; i++) {\n    var image = images[i];\n    loadImage(getSizedImageUrl(image, size));\n  }\n}\n\n/**\n * Loads and caches an image in the browsers cache.\n * @param {string} path - An image url\n */\nexport function loadImage(path) {\n  /* eslint-disable */\n  new Image().src = path;\n  /* eslint-enable */\n}\n\n/**\n * Find the Shopify image attribute size\n *\n * @param {string} src\n * @returns {null}\n */\nexport function imageSize(src) {\n  /* eslint-disable */\n  var match = src.match(\n    /.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\\d{1,4}x\\d{0,4}|x\\d{1,4})[_\\.@]/\n  );\n  /* esling-enable */\n\n  if (match) {\n    return match[1];\n  } else {\n    return null;\n  }\n}\n\n/**\n * Adds a Shopify size attribute to a URL\n *\n * @param src\n * @param size\n * @returns {*}\n */\nexport function getSizedImageUrl(src, size) {\n  if (size === null) {\n    return src;\n  }\n\n  if (size === \"master\") {\n    return removeProtocol(src);\n  }\n\n  var match = src.match(\n    /\\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif|webp)(\\?v=\\d+)?$/i\n  );\n\n  if (match) {\n    var prefix = src.split(match[0]);\n    var suffix = match[0];\n\n    return removeProtocol(prefix[0] + \"_\" + size + suffix);\n  } else {\n    return null;\n  }\n}\n\nexport function removeProtocol(path) {\n  return path.replace(/http(s)?:/, \"\");\n}\n\nexport function onImagesLoaded(container, event) {\n  const images = container.getElementsByTagName(\"img\");\n  const imageCount = images.length;\n  let imagesLoaded = 0;\n\n  for (let i = 0; i < imageCount; i++) {\n    images[i].onload = function () {\n      imagesLoaded++;\n\n      if (imagesLoaded === imageCount) {\n        event();\n      }\n    };\n  }\n}\n","import { qsa, toggle } from \"@fluorescent/dom\";\nimport { formatMoney } from \"@/neon\";\n\nconst {\n  strings: { products: strings },\n} = window.theme;\n\nconst selectors = {\n  unitPriceContainer: \"[data-unit-price-container]\",\n  unitPrice: \"[data-unit-price]\",\n  unitPriceBase: \"[data-unit-base]\",\n};\n\nconst classes = {\n  available: \"unit-price--available\",\n};\n\nconst updateUnitPrices = (container, variant) => {\n  const unitPriceContainers = qsa(selectors.unitPriceContainer, container);\n  const unitPrices = qsa(selectors.unitPrice, container);\n  const unitPriceBases = qsa(selectors.unitPriceBase, container);\n\n  const showUnitPricing = !variant || !variant.unit_price;\n\n  toggle(unitPriceContainers, classes.available, !showUnitPricing);\n\n  if (!variant || !variant.unit_price) return;\n\n  _replaceText(unitPrices, formatMoney(variant.unit_price));\n  _replaceText(unitPriceBases, _getBaseUnit(variant.unit_price_measurement));\n};\n\nconst renderUnitPrice = (unitPrice, unitPriceMeasurement) => {\n  if (unitPrice && unitPriceMeasurement) {\n    const label = strings.product.unitPrice;\n    return `\n      <div class=\"unit-price ${classes.available}\">\n        <dt>\n          <span class=\"visually-hidden visually-hidden--inline\">${label}</span>\n        </dt>\n        <dd class=\"unit-price__price\">\n          <span data-unit-price>${formatMoney(\n            unitPrice\n          )}</span><span aria-hidden=\"true\">/</span><span class=\"visually-hidden\">${\n      strings.product.unitPriceSeparator\n    }&nbsp;</span><span data-unit-base>${_getBaseUnit(\n      unitPriceMeasurement\n    )}</span>\n        </dd>\n      </div>\n    `;\n  }\n\n  return \"\";\n};\n\nconst _getBaseUnit = unitPriceMeasurement => {\n  return unitPriceMeasurement.reference_value === 1\n    ? unitPriceMeasurement.reference_unit\n    : unitPriceMeasurement.reference_value +\n        unitPriceMeasurement.reference_unit;\n};\n\nconst _replaceText = (nodeList, replacementText) => {\n  nodeList.forEach(node => (node.innerText = replacementText));\n};\n\nexport { updateUnitPrices, renderUnitPrice };\n","import { createFocusTrap } from \"focus-trap\";\nimport { add, listen, qs, remove } from \"@fluorescent/dom\";\nimport { formatMoney } from \"@/neon\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\n\nimport { on } from \"@/neon/events\";\nimport { getSizedImageUrl } from \"@/lib/images\";\nimport { renderUnitPrice } from \"@/lib/unit-pricing\";\n\nconst classes = {\n  visible: \"is-visible\",\n  active: \"active\",\n  fixed: \"is-fixed\",\n};\n\nconst selectors = {\n  productTitle: \"[data-store-availability-product-title]\",\n  variantTitle: \"[data-store-availability-variant-title]\",\n  productCard: \"[data-store-availability-product]\",\n  storeListcontainer: \"[data-store-list-container]\",\n  wash: \"[data-store-availability-modal-wash]\",\n};\n\nconst storeAvailabilityModal = node => {\n  var focusTrap = createFocusTrap(node, { allowOutsideClick: true });\n  const wash = qs(selectors.wash, node.parentNode);\n  const productCard = qs(selectors.productCard, node);\n  const storeListContainer = qs(selectors.storeListcontainer, node);\n\n  const events = [\n    listen(wash, \"click\", e => {\n      e.preventDefault();\n      _close();\n    }),\n    listen(node, \"keydown\", ({ keyCode }) => {\n      if (keyCode === 27) _close();\n    }),\n    on(\"availability:showMore\", ({ product, variant, storeList, options }) => {\n      productCard.innerHTML = _renderProductCard(product, variant, options);\n      _renderAvailabilityList(storeList);\n      _open();\n    }),\n  ];\n\n  const _renderAvailabilityList = storeList => {\n    storeListContainer.innerHTML = \"\";\n    storeListContainer.appendChild(storeList);\n  };\n\n  const _renderProductCard = (\n    { featured_image: image, title },\n    {\n      title: variant_title,\n      featured_image,\n      price,\n      unit_price,\n      unit_price_measurement,\n    },\n    { hideVariantTitle }\n  ) => {\n    let productImage = _getVariantImage(image, featured_image);\n\n    return `\n      <div class=\"store-availbility-modal__product-card\">\n        ${\n          productImage\n            ? `\n            <div class='store-availbility-modal__product-card-image'>\n              <img src='${productImage}' alt='${title}'/>\n            </div>\n          `\n            : \"\"\n        }\n        <div class='store-availbility-modal__product-card-details'>\n          <div>\n            <h4>\n              <span>${title}</span>\n            </h4>\n            <div class=\"store-availbility-modal__product-price-wrapper\">\n              <span class=\"store-availbility-modal__product-price\">${formatMoney(\n                price\n              )}</span>\n              ${renderUnitPrice(unit_price, unit_price_measurement)}\n            </div>\n            <div class=\"store-availbility-modal__product-card-variant${\n              hideVariantTitle ? \" hidden\" : \"\"\n            }\">\n              ${variant_title}\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  };\n\n  const _getVariantImage = (productImage, variantImage) => {\n    if (!productImage && !variantImage) return \"\";\n\n    if (variantImage) {\n      return _updateImageSize(variantImage.src);\n    }\n\n    return _updateImageSize(productImage);\n  };\n\n  const _updateImageSize = imageUrl => {\n    return getSizedImageUrl(imageUrl, \"200x\");\n  };\n\n  const _open = () => {\n    // Due to this component being shared between templates we have to\n    // animate around it being fixed to the window\n    add(node, classes.fixed);\n\n    setTimeout(() => {\n      add(node, classes.visible);\n      add(node, classes.active);\n    }, 50);\n\n    node.setAttribute(\"aria-hidden\", \"false\");\n    focusTrap.activate();\n    disableBodyScroll(node, {\n      allowTouchMove: el => {\n        while (el && el !== document.body) {\n          if (el.getAttribute(\"data-scroll-lock-ignore\") !== null) {\n            return true;\n          }\n          el = el.parentNode;\n        }\n      },\n      reserveScrollBarGap: true,\n    });\n  };\n\n  const _close = () => {\n    focusTrap.deactivate();\n    remove(node, classes.active);\n    remove(node, classes.visible);\n    node.setAttribute(\"aria-hidden\", \"true\");\n    enableBodyScroll(node);\n\n    setTimeout(() => {\n      remove(node, classes.fixed);\n    }, 300);\n  };\n\n  const unload = () => {\n    events.forEach(unsubscribe => unsubscribe());\n  };\n\n  return { unload };\n};\n\nexport default storeAvailabilityModal;\n","/*!\n * slide-anim\n * https://github.com/yomotsu/slide-anim\n * (c) 2017 @yomotsu\n * Released under the MIT License.\n */\nvar global = window;\r\nvar isPromiseSuppoted = typeof global.Promise === 'function';\r\nvar PromiseLike = isPromiseSuppoted ? global.Promise : (function () {\r\n    function PromiseLike(executor) {\r\n        var callback = function () { };\r\n        var resolve = function () {\r\n            callback();\r\n        };\r\n        executor(resolve);\r\n        return {\r\n            then: function (_callback) {\r\n                callback = _callback;\r\n            }\r\n        };\r\n    }\r\n    return PromiseLike;\r\n}());\n\nvar pool = [];\r\nvar inAnimItems = {\r\n    add: function (el, defaultStyle, timeoutId, onCancelled) {\r\n        var inAnimItem = { el: el, defaultStyle: defaultStyle, timeoutId: timeoutId, onCancelled: onCancelled };\r\n        this.remove(el);\r\n        pool.push(inAnimItem);\r\n    },\r\n    remove: function (el) {\r\n        var index = inAnimItems.findIndex(el);\r\n        if (index === -1)\r\n            return;\r\n        var inAnimItem = pool[index];\r\n        clearTimeout(inAnimItem.timeoutId);\r\n        inAnimItem.onCancelled();\r\n        pool.splice(index, 1);\r\n    },\r\n    find: function (el) {\r\n        return pool[inAnimItems.findIndex(el)];\r\n    },\r\n    findIndex: function (el) {\r\n        var index = -1;\r\n        pool.some(function (item, i) {\r\n            if (item.el === el) {\r\n                index = i;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return index;\r\n    }\r\n};\n\nvar CSS_EASEOUT_EXPO = 'cubic-bezier( 0.19, 1, 0.22, 1 )';\r\nfunction slideDown(el, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return new PromiseLike(function (resolve) {\r\n        if (inAnimItems.findIndex(el) !== -1)\r\n            return;\r\n        var _isVisible = isVisible(el);\r\n        var hasEndHeight = typeof options.endHeight === 'number';\r\n        var display = options.display || 'block';\r\n        var duration = options.duration || 400;\r\n        var onCancelled = options.onCancelled || function () { };\r\n        var defaultStyle = el.getAttribute('style') || '';\r\n        var style = window.getComputedStyle(el);\r\n        var defaultStyles = getDefaultStyles(el, display);\r\n        var isBorderBox = /border-box/.test(style.getPropertyValue('box-sizing'));\r\n        var contentHeight = defaultStyles.height;\r\n        var minHeight = defaultStyles.minHeight;\r\n        var paddingTop = defaultStyles.paddingTop;\r\n        var paddingBottom = defaultStyles.paddingBottom;\r\n        var borderTop = defaultStyles.borderTop;\r\n        var borderBottom = defaultStyles.borderBottom;\r\n        var cssDuration = duration + \"ms\";\r\n        var cssEasing = CSS_EASEOUT_EXPO;\r\n        var cssTransition = [\r\n            \"height \" + cssDuration + \" \" + cssEasing,\r\n            \"min-height \" + cssDuration + \" \" + cssEasing,\r\n            \"padding \" + cssDuration + \" \" + cssEasing,\r\n            \"border-width \" + cssDuration + \" \" + cssEasing\r\n        ].join();\r\n        var startHeight = _isVisible ? style.height : '0px';\r\n        var startMinHeight = _isVisible ? style.minHeight : '0px';\r\n        var startPaddingTop = _isVisible ? style.paddingTop : '0px';\r\n        var startPaddingBottom = _isVisible ? style.paddingBottom : '0px';\r\n        var startBorderTopWidth = _isVisible ? style.borderTopWidth : '0px';\r\n        var startBorderBottomWidth = _isVisible ? style.borderBottomWidth : '0px';\r\n        var endHeight = (function () {\r\n            if (hasEndHeight)\r\n                return options.endHeight + \"px\";\r\n            return !isBorderBox ?\r\n                contentHeight - paddingTop - paddingBottom + \"px\" :\r\n                contentHeight + borderTop + borderBottom + \"px\";\r\n        })();\r\n        var endMinHeight = minHeight + \"px\";\r\n        var endPaddingTop = paddingTop + \"px\";\r\n        var endPaddingBottom = paddingBottom + \"px\";\r\n        var endBorderTopWidth = borderTop + \"px\";\r\n        var endBorderBottomWidth = borderBottom + \"px\";\r\n        if (startHeight === endHeight &&\r\n            startPaddingTop === endPaddingTop &&\r\n            startPaddingBottom === endPaddingBottom &&\r\n            startBorderTopWidth === endBorderTopWidth &&\r\n            startBorderBottomWidth === endBorderBottomWidth) {\r\n            resolve();\r\n            return;\r\n        }\r\n        requestAnimationFrame(function () {\r\n            el.style.height = startHeight;\r\n            el.style.minHeight = startMinHeight;\r\n            el.style.paddingTop = startPaddingTop;\r\n            el.style.paddingBottom = startPaddingBottom;\r\n            el.style.borderTopWidth = startBorderTopWidth;\r\n            el.style.borderBottomWidth = startBorderBottomWidth;\r\n            el.style.display = display;\r\n            el.style.overflow = 'hidden';\r\n            el.style.visibility = 'visible';\r\n            el.style.transition = cssTransition;\r\n            el.style.webkitTransition = cssTransition;\r\n            requestAnimationFrame(function () {\r\n                el.style.height = endHeight;\r\n                el.style.minHeight = endMinHeight;\r\n                el.style.paddingTop = endPaddingTop;\r\n                el.style.paddingBottom = endPaddingBottom;\r\n                el.style.borderTopWidth = endBorderTopWidth;\r\n                el.style.borderBottomWidth = endBorderBottomWidth;\r\n            });\r\n        });\r\n        var timeoutId = setTimeout(function () {\r\n            resetStyle(el);\r\n            el.style.display = display;\r\n            if (hasEndHeight) {\r\n                el.style.height = options.endHeight + \"px\";\r\n                el.style.overflow = \"hidden\";\r\n            }\r\n            inAnimItems.remove(el);\r\n            resolve();\r\n        }, duration);\r\n        inAnimItems.add(el, defaultStyle, timeoutId, onCancelled);\r\n    });\r\n}\r\nfunction slideUp(el, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return new PromiseLike(function (resolve) {\r\n        if (inAnimItems.findIndex(el) !== -1)\r\n            return;\r\n        var _isVisible = isVisible(el);\r\n        var display = options.display || 'block';\r\n        var duration = options.duration || 400;\r\n        var onCancelled = options.onCancelled || function () { };\r\n        if (!_isVisible) {\r\n            resolve();\r\n            return;\r\n        }\r\n        var defaultStyle = el.getAttribute('style') || '';\r\n        var style = window.getComputedStyle(el);\r\n        var isBorderBox = /border-box/.test(style.getPropertyValue('box-sizing'));\r\n        var minHeight = pxToNumber(style.getPropertyValue('min-height'));\r\n        var paddingTop = pxToNumber(style.getPropertyValue('padding-top'));\r\n        var paddingBottom = pxToNumber(style.getPropertyValue('padding-bottom'));\r\n        var borderTop = pxToNumber(style.getPropertyValue('border-top-width'));\r\n        var borderBottom = pxToNumber(style.getPropertyValue('border-bottom-width'));\r\n        var contentHeight = el.scrollHeight;\r\n        var cssDuration = duration + 'ms';\r\n        var cssEasing = CSS_EASEOUT_EXPO;\r\n        var cssTransition = [\r\n            \"height \" + cssDuration + \" \" + cssEasing,\r\n            \"padding \" + cssDuration + \" \" + cssEasing,\r\n            \"border-width \" + cssDuration + \" \" + cssEasing\r\n        ].join();\r\n        var startHeight = !isBorderBox ?\r\n            contentHeight - paddingTop - paddingBottom + \"px\" :\r\n            contentHeight + borderTop + borderBottom + \"px\";\r\n        var startMinHeight = minHeight + \"px\";\r\n        var startPaddingTop = paddingTop + \"px\";\r\n        var startPaddingBottom = paddingBottom + \"px\";\r\n        var startBorderTopWidth = borderTop + \"px\";\r\n        var startBorderBottomWidth = borderBottom + \"px\";\r\n        requestAnimationFrame(function () {\r\n            el.style.height = startHeight;\r\n            el.style.minHeight = startMinHeight;\r\n            el.style.paddingTop = startPaddingTop;\r\n            el.style.paddingBottom = startPaddingBottom;\r\n            el.style.borderTopWidth = startBorderTopWidth;\r\n            el.style.borderBottomWidth = startBorderBottomWidth;\r\n            el.style.display = display;\r\n            el.style.overflow = 'hidden';\r\n            el.style.transition = cssTransition;\r\n            el.style.webkitTransition = cssTransition;\r\n            requestAnimationFrame(function () {\r\n                el.style.height = '0';\r\n                el.style.minHeight = '0';\r\n                el.style.paddingTop = '0';\r\n                el.style.paddingBottom = '0';\r\n                el.style.borderTopWidth = '0';\r\n                el.style.borderBottomWidth = '0';\r\n            });\r\n        });\r\n        var timeoutId = setTimeout(function () {\r\n            resetStyle(el);\r\n            el.style.display = 'none';\r\n            inAnimItems.remove(el);\r\n            resolve();\r\n        }, duration);\r\n        inAnimItems.add(el, defaultStyle, timeoutId, onCancelled);\r\n    });\r\n}\r\nfunction slideStop(el) {\r\n    var elementObject = inAnimItems.find(el);\r\n    if (!elementObject)\r\n        return;\r\n    var style = window.getComputedStyle(el);\r\n    var height = style.height;\r\n    var paddingTop = style.paddingTop;\r\n    var paddingBottom = style.paddingBottom;\r\n    var borderTopWidth = style.borderTopWidth;\r\n    var borderBottomWidth = style.borderBottomWidth;\r\n    resetStyle(el);\r\n    el.style.height = height;\r\n    el.style.paddingTop = paddingTop;\r\n    el.style.paddingBottom = paddingBottom;\r\n    el.style.borderTopWidth = borderTopWidth;\r\n    el.style.borderBottomWidth = borderBottomWidth;\r\n    el.style.overflow = 'hidden';\r\n    inAnimItems.remove(el);\r\n}\r\nfunction isVisible(el) {\r\n    return el.offsetHeight !== 0;\r\n}\r\nfunction resetStyle(el) {\r\n    el.style.visibility = '';\r\n    el.style.height = '';\r\n    el.style.minHeight = '';\r\n    el.style.paddingTop = '';\r\n    el.style.paddingBottom = '';\r\n    el.style.borderTopWidth = '';\r\n    el.style.borderBottomWidth = '';\r\n    el.style.overflow = '';\r\n    el.style.transition = '';\r\n    el.style.webkitTransition = '';\r\n}\r\nfunction getDefaultStyles(el, defaultDisplay) {\r\n    if (defaultDisplay === void 0) { defaultDisplay = 'block'; }\r\n    var defaultStyle = el.getAttribute('style') || '';\r\n    var style = window.getComputedStyle(el);\r\n    el.style.visibility = 'hidden';\r\n    el.style.display = defaultDisplay;\r\n    var width = pxToNumber(style.getPropertyValue('width'));\r\n    el.style.position = 'absolute';\r\n    el.style.width = width + \"px\";\r\n    el.style.height = '';\r\n    el.style.minHeight = '';\r\n    el.style.paddingTop = '';\r\n    el.style.paddingBottom = '';\r\n    el.style.borderTopWidth = '';\r\n    el.style.borderBottomWidth = '';\r\n    var minHeight = pxToNumber(style.getPropertyValue('min-height'));\r\n    var paddingTop = pxToNumber(style.getPropertyValue('padding-top'));\r\n    var paddingBottom = pxToNumber(style.getPropertyValue('padding-bottom'));\r\n    var borderTop = pxToNumber(style.getPropertyValue('border-top-width'));\r\n    var borderBottom = pxToNumber(style.getPropertyValue('border-bottom-width'));\r\n    var height = el.scrollHeight;\r\n    el.setAttribute('style', defaultStyle);\r\n    return {\r\n        height: height,\r\n        minHeight: minHeight,\r\n        paddingTop: paddingTop,\r\n        paddingBottom: paddingBottom,\r\n        borderTop: borderTop,\r\n        borderBottom: borderBottom\r\n    };\r\n}\r\nfunction pxToNumber(px) {\r\n    return +px.replace(/px/, '');\r\n}\n\nexport { isVisible, slideDown, slideStop, slideUp };\n","import { listen, qs, qsa, add } from \"@fluorescent/dom\";\nimport { slideDown, slideUp, slideStop, isVisible } from \"slide-anim\";\n\nfunction Accordion(node) {\n  const labels = qsa(\".accordion__label\", node);\n\n  // Make it accessible by keyboard\n  labels.forEach(label => {\n    label.href = \"#\";\n\n    const iconExists = qs(\".icon\", label);\n\n    if (!iconExists) {\n      const icon = document.createElement(\"div\");\n      icon.classList.add(\"icon\");\n      icon.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewBox=\"0 0 24 24\"><path d=\"M7 10L12 15L17 10H7Z\" fill=\"currentColor\"/></svg>`;\n\n      label.append(icon);\n    }\n  });\n\n  const labelClick = listen(labels, \"click\", e => {\n    const { parentNode: group, nextElementSibling: content } = e.currentTarget;\n    e.preventDefault();\n    slideStop(content);\n\n    if (isVisible(content)) {\n      slideUp(content);\n      group.setAttribute(\"data-open\", false);\n    } else {\n      slideDown(content);\n      group.setAttribute(\"data-open\", true);\n    }\n  });\n\n  // Nicer way to do this? show in CSS?\n  const openGroups = qsa('.accordion__group[data-open=\"true\"]', node);\n  openGroups.forEach(group => qs(\".accordion__label\", group).click());\n\n  function destroy() {\n    return () => labelClick();\n  }\n\n  return { destroy };\n}\n\nexport default function Accordions(nodes) {\n  const accordions = nodes.map(Accordion);\n\n  function destroy() {\n    accordions.forEach(accordion => accordion.destroy());\n  }\n\n  return { accordions, destroy };\n}\n","import { qsa } from \"@fluorescent/dom\";\n\nimport Accordions from \"@/lib/accordion\";\n\nexport const accordions = node => {\n  const accordions = Accordions(qsa(\".accordion\", node));\n\n  return {\n    destroy: () => {\n      accordions.destroy();\n    },\n  };\n};\n\nexport function wrapTables(elements = []) {\n  elements.forEach(el => {\n    const wrapper = document.createElement(\"div\");\n    wrapper.classList.add(\"rte__table-wrapper\");\n    wrapper.tabIndex = 0;\n\n    el.parentNode.insertBefore(wrapper, el);\n    wrapper.appendChild(el);\n  });\n}\n\nexport function wrapIframes(elements = []) {\n  elements.forEach(el => {\n    const wrapper = document.createElement(\"div\");\n    wrapper.classList.add(\"rte__iframe\");\n\n    el.parentNode.insertBefore(wrapper, el);\n    wrapper.appendChild(el);\n    el.src = el.src;\n  });\n}\n","import { createFocusTrap } from \"focus-trap\";\nimport { add, listen, qs, qsa, remove, toggle } from \"@fluorescent/dom\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport Delegate from \"ftdomdelegate\";\n\nimport { on } from \"@/neon/events\";\nimport { accordions, wrapIframes, wrapTables } from \"@/lib/rte\";\n\nconst classes = {\n  visible: \"is-visible\",\n  active: \"active\",\n  fixed: \"is-fixed\",\n};\n\nconst selectors = {\n  closeBtn: \"[data-modal-close]\",\n  wash: \".modal__wash\",\n  modalContent: \".modal__content\",\n  accordion: \".accordion\",\n};\n\nconst modal = node => {\n  const focusTrap = createFocusTrap(node, { allowOutsideClick: true });\n  const modalContent = qs(selectors.modalContent, node);\n  let accordion = null;\n\n  const delegate = new Delegate(document);\n\n  delegate.on(\"click\", selectors.wash, () => _close());\n\n  const events = [\n    listen(qs(selectors.closeBtn, node), \"click\", e => {\n      e.preventDefault();\n      _close();\n    }),\n    listen(node, \"keydown\", ({ keyCode }) => {\n      if (keyCode === 27) _close();\n    }),\n    on(\"modal:open\", (state, { modalContent, narrow = false }) => {\n      toggle(node, \"modal--narrow\", narrow);\n      _renderModalContent(modalContent);\n      _open();\n    }),\n  ];\n\n  const _renderModalContent = content => {\n    const clonedContent = content.cloneNode(true);\n    modalContent.innerHTML = \"\";\n    modalContent.appendChild(clonedContent);\n    wrapIframes(qsa(\"iframe\", modalContent));\n    wrapTables(qsa(\"table\", modalContent));\n    _initAccordion();\n  };\n\n  const _initAccordion = () => {\n    accordion = accordions(node);\n  };\n\n  const _open = () => {\n    // Due to this component being shared between templates we have to\n    // animate around it being fixed to the window\n    add(node, classes.active);\n\n    focusTrap.activate();\n    disableBodyScroll(node, {\n      allowTouchMove: el => {\n        while (el && el !== document.body) {\n          if (el.getAttribute(\"data-scroll-lock-ignore\") !== null) {\n            return true;\n          }\n          el = el.parentNode;\n        }\n      },\n      reserveScrollBarGap: true,\n    });\n  };\n\n  const _close = () => {\n    focusTrap.deactivate();\n    remove(node, classes.active);\n    enableBodyScroll(node);\n\n    setTimeout(() => {\n      modalContent.innerHTML = \"\";\n    }, 300);\n  };\n\n  const unload = () => {\n    events.forEach(unsubscribe => unsubscribe());\n    accordion.unload();\n  };\n\n  return { unload };\n};\n\nexport default modal;\n","import { listen } from \"@fluorescent/dom\";\n\nimport { emit } from \"@/neon/events\";\n\nconst queries = {\n  small: \"(max-width: 40em)\",\n  medium: \"(min-width: 40em) and (max-width: 60em)\",\n  large: \"(min-width: 60em)\",\n};\n\nexport default () => {\n  let currentWidth = checkWidth();\n\n  function checkWidth() {\n    if (window.matchMedia(queries.small).matches) {\n      return \"small\";\n    } else if (window.matchMedia(queries.medium).matches) {\n      return \"medium\";\n    } else if (window.matchMedia(queries.large).matches) {\n      return \"large\";\n    }\n  }\n\n  listen(window, \"resize\", () => {\n    const windowWidth = checkWidth();\n\n    if (currentWidth !== windowWidth) {\n      currentWidth = windowWidth;\n      emit(`viewport-resize:${currentWidth}`);\n    }\n  });\n};\n","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document, Date);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(typeof window != 'undefined' ?\n      window : {}, \n/**\n * import(\"./types/global\")\n * @typedef { import(\"./types/lazysizes-config\").LazySizesConfigPartial } LazySizesConfigPartial\n */\nfunction l(window, document, Date) { // Pass in the window Date function also for SSR because the Date class can be lost\n\t'use strict';\n\t/*jshint eqnull:true */\n\n\tvar lazysizes,\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tlazySizesCfg;\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tfastLoadedClass: 'ls-is-cached',\n\t\t\tiframeLoadMode: 0,\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesCfg)){\n\t\t\t\tlazySizesCfg[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tif (!document || !document.getElementsByClassName) {\n\t\treturn {\n\t\t\tinit: function () {},\n\t\t\t/**\n\t\t\t * @type { LazySizesConfigPartial }\n\t\t\t */\n\t\t\tcfg: lazySizesCfg,\n\t\t\t/**\n\t\t\t * @type { true }\n\t\t\t */\n\t\t\tnoSupport: true,\n\t\t};\n\t}\n\n\tvar docElem = document.documentElement;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\t/**\n\t * Update to bind to window because 'this' becomes null during SSR\n\t * builds.\n\t */\n\tvar addEventListener = window[_addEventListener].bind(window);\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\t/**\n\t * @param elem { Element }\n\t * @param name { string }\n\t * @param detail { any }\n\t * @param noBubbles { boolean }\n\t * @param noCancelable { boolean }\n\t * @returns { CustomEvent }\n\t */\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\t/**\n\t *\n\t * @param elem { Element }\n\t * @param parent { Element }\n\t * @param [width] {number}\n\t * @returns {number}\n\t */\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesCfg.throttleDelay;\n\t\tvar rICTimeout = lazySizesCfg.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesCfg.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesCfg.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isVisible = function (elem) {\n\t\t\tif (isBodyHidden == null) {\n\t\t\t\tisBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n\t\t\t}\n\n\t\t\treturn isBodyHidden || !(getCSS(elem.parentNode, 'visibility') == 'hidden' && getCSS(elem, 'visibility') == 'hidden');\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = isVisible(elem);\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!defaultExpand) {\n\t\t\t\t\t\tdefaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?\n\t\t\t\t\t\t\tdocElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :\n\t\t\t\t\t\t\tlazySizesCfg.expand;\n\n\t\t\t\t\t\tlazysizes._defEx = defaultExpand;\n\n\t\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesCfg.expFactor;\n\t\t\t\t\t\thFac = lazySizesCfg.hFac;\n\t\t\t\t\t\tisBodyHidden = null;\n\n\t\t\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\t\t\tlowRuns = 0;\n\t\t\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\tvar elem = e.target;\n\n\t\t\tif (elem._lazyCache) {\n\t\t\t\tdelete elem._lazyCache;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresetPreloading(e);\n\t\t\taddClass(elem, lazySizesCfg.loadedClass);\n\t\t\tremoveClass(elem, lazySizesCfg.loadingClass);\n\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(elem, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\tvar loadMode = elem.getAttribute('data-load-mode') || lazySizesCfg.iframeLoadMode;\n\n\t\t\t// loadMode can be also a string!\n\t\t\tif (loadMode == 0) {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} else if (loadMode == 1) {\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\taddClass(elem, lazySizesCfg.loadingClass);\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesCfg.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\t// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n\t\t\t\tvar isLoaded = elem.complete && elem.naturalWidth > 1;\n\n\t\t\t\tif( !firesLoad || isLoaded){\n\t\t\t\t\tif (isLoaded) {\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.fastLoadedClass);\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t\telem._lazyCache = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tif ('_lazyCache' in elem) {\n\t\t\t\t\t\t\tdelete elem._lazyCache;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9);\n\t\t\t\t}\n\t\t\t\tif (elem.loading == 'lazy') {\n\t\t\t\t\tisLoading--;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\t/**\n\t\t *\n\t\t * @param elem { Element }\n\t\t */\n\t\tvar unveilElement = function (elem){\n\t\t\tif (elem._lazyRace) {return;}\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar afterScroll = debounce(function(){\n\t\t\tlazySizesCfg.loadMode = 3;\n\t\t\tthrottledCheckElements();\n\t\t});\n\n\t\tvar altLoadmodeScrollListner = function(){\n\t\t\tif(lazySizesCfg.loadMode == 3){\n\t\t\t\tlazySizesCfg.loadMode = 2;\n\t\t\t}\n\t\t\tafterScroll();\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesCfg.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', altLoadmodeScrollListner, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('pageshow', function (e) {\n\t\t\t\t\tif (e.persisted) {\n\t\t\t\t\t\tvar loadingElements = document.querySelectorAll('.' + lazySizesCfg.loadingClass);\n\n\t\t\t\t\t\tif (loadingElements.length && loadingElements.forEach) {\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tloadingElements.forEach( function (img) {\n\t\t\t\t\t\t\t\t\tif (img.complete) {\n\t\t\t\t\t\t\t\t\t\tunveilElement(img);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement,\n\t\t\t_aLSL: altLoadmodeScrollListner,\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\t/**\n\t\t *\n\t\t * @param elem {Element}\n\t\t * @param dataAttr\n\t\t * @param [width] { number }\n\t\t */\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i && document.getElementsByClassName){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tsetTimeout(function(){\n\t\tif(lazySizesCfg.init){\n\t\t\tinit();\n\t\t}\n\t});\n\n\tlazysizes = {\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tcfg: lazySizesCfg,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n","(function(window, factory) {\n\tif(!window) {return;}\n\tvar globalInstall = function(initialEvent){\n\t\tfactory(window.lazySizes, initialEvent);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(typeof window != 'undefined' ?\n\twindow : 0, function(window, document, lazySizes, initialEvent) {\n\t'use strict';\n\tvar cloneElementClass;\n\tvar style = document.createElement('a').style;\n\tvar fitSupport = 'objectFit' in style;\n\tvar positionSupport = fitSupport && 'objectPosition' in style;\n\tvar regCssFit = /object-fit[\"']*\\s*:\\s*[\"']*(contain|cover)/;\n\tvar regCssPosition = /object-position[\"']*\\s*:\\s*[\"']*(.+?)(?=($|,|'|\"|;))/;\n\tvar blankSrc = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n\tvar regBgUrlEscape = /\\(|\\)|'/;\n\tvar positionDefaults = {\n\t\tcenter: 'center',\n\t\t'50% 50%': 'center',\n\t};\n\n\tfunction getObject(element){\n\t\tvar css = (getComputedStyle(element, null) || {});\n\t\tvar content = css.fontFamily || '';\n\t\tvar objectFit = content.match(regCssFit) || '';\n\t\tvar objectPosition = objectFit && content.match(regCssPosition) || '';\n\n\t\tif(objectPosition){\n\t\t\tobjectPosition = objectPosition[1];\n\t\t}\n\n\t\treturn {\n\t\t\tfit: objectFit && objectFit[1] || '',\n\t\t\tposition: positionDefaults[objectPosition] || objectPosition || 'center',\n\t\t};\n\t}\n\n\tfunction generateStyleClass() {\n\t\tif (cloneElementClass) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar styleElement = document.createElement('style');\n\n\t\tcloneElementClass = lazySizes.cfg.objectFitClass || 'lazysizes-display-clone';\n\n\t\tdocument.querySelector('head').appendChild(styleElement);\n\t}\n\n\tfunction removePrevClone(element) {\n\t\tvar prev = element.previousElementSibling;\n\n\t\tif (prev && lazySizes.hC(prev, cloneElementClass)) {\n\t\t\tprev.parentNode.removeChild(prev);\n\t\t\telement.style.position = prev.getAttribute('data-position') || '';\n\t\t\telement.style.visibility = prev.getAttribute('data-visibility') || '';\n\t\t}\n\t}\n\n\tfunction initFix(element, config){\n\t\tvar switchClassesAdded, addedSrc, styleElement, styleElementStyle;\n\t\tvar lazysizesCfg = lazySizes.cfg;\n\n\t\tvar onChange = function(){\n\t\t\tvar src = element.currentSrc || element.src;\n\n\t\t\tif(src && addedSrc !== src){\n\t\t\t\taddedSrc = src;\n\t\t\t\tstyleElementStyle.backgroundImage = 'url(' + (regBgUrlEscape.test(src) ? JSON.stringify(src) : src ) + ')';\n\n\t\t\t\tif(!switchClassesAdded){\n\t\t\t\t\tswitchClassesAdded = true;\n\t\t\t\t\tlazySizes.rC(styleElement, lazysizesCfg.loadingClass);\n\t\t\t\t\tlazySizes.aC(styleElement, lazysizesCfg.loadedClass);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar rafedOnChange = function(){\n\t\t\tlazySizes.rAF(onChange);\n\t\t};\n\n\t\telement._lazysizesParentFit = config.fit;\n\n\t\telement.addEventListener('lazyloaded', rafedOnChange, true);\n\t\telement.addEventListener('load', rafedOnChange, true);\n\n\t\tlazySizes.rAF(function(){\n\n\t\t\tvar hideElement = element;\n\t\t\tvar container = element.parentNode;\n\n\t\t\tif(container.nodeName.toUpperCase() == 'PICTURE'){\n\t\t\t\thideElement = container;\n\t\t\t\tcontainer = container.parentNode;\n\t\t\t}\n\n\t\t\tremovePrevClone(hideElement);\n\n\t\t\tif (!cloneElementClass) {\n\t\t\t\tgenerateStyleClass();\n\t\t\t}\n\n\t\t\tstyleElement = element.cloneNode(false);\n\t\t\tstyleElementStyle = styleElement.style;\n\n\t\t\tstyleElement.addEventListener('load', function(){\n\t\t\t\tvar curSrc = styleElement.currentSrc || styleElement.src;\n\n\t\t\t\tif(curSrc && curSrc != blankSrc){\n\t\t\t\t\tstyleElement.src = blankSrc;\n\t\t\t\t\tstyleElement.srcset = '';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlazySizes.rC(styleElement, lazysizesCfg.loadedClass);\n\t\t\tlazySizes.rC(styleElement, lazysizesCfg.lazyClass);\n\t\t\tlazySizes.rC(styleElement, lazysizesCfg.autosizesClass);\n\t\t\tlazySizes.aC(styleElement, lazysizesCfg.loadingClass);\n\t\t\tlazySizes.aC(styleElement, cloneElementClass);\n\n\t\t\t['data-parent-fit', 'data-parent-container', 'data-object-fit-polyfilled',\n\t\t\t\tlazysizesCfg.srcsetAttr, lazysizesCfg.srcAttr].forEach(function(attr) {\n\t\t\t\tstyleElement.removeAttribute(attr);\n\t\t\t});\n\n\t\t\tstyleElement.src = blankSrc;\n\t\t\tstyleElement.srcset = '';\n\n\t\t\tstyleElementStyle.backgroundRepeat = 'no-repeat';\n\t\t\tstyleElementStyle.backgroundPosition = config.position;\n\t\t\tstyleElementStyle.backgroundSize = config.fit;\n\n\t\t\tstyleElement.setAttribute('data-position', hideElement.style.position);\n\t\t\tstyleElement.setAttribute('data-visibility', hideElement.style.visibility);\n\n\t\t\thideElement.style.visibility = 'hidden';\n\t\t\thideElement.style.position = 'absolute';\n\n\t\t\telement.setAttribute('data-parent-fit', config.fit);\n\t\t\telement.setAttribute('data-parent-container', 'prev');\n\t\t\telement.setAttribute('data-object-fit-polyfilled', '');\n\t\t\telement._objectFitPolyfilledDisplay = styleElement;\n\n\t\t\tcontainer.insertBefore(styleElement, hideElement);\n\n\t\t\tif(element._lazysizesParentFit){\n\t\t\t\tdelete element._lazysizesParentFit;\n\t\t\t}\n\n\t\t\tif(element.complete){\n\t\t\t\tonChange();\n\t\t\t}\n\t\t});\n\t}\n\n\tif(!fitSupport || !positionSupport){\n\t\tvar onRead = function(e){\n\t\t\tif(e.detail.instance != lazySizes){return;}\n\n\t\t\tvar element = e.target;\n\t\t\tvar obj = getObject(element);\n\n\t\t\tif(obj.fit && (!fitSupport || (obj.position != 'center'))){\n\t\t\t\tinitFix(element, obj);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\twindow.addEventListener('lazybeforesizes', function(e) {\n\t\t\tif(e.detail.instance != lazySizes){return;}\n\t\t\tvar element = e.target;\n\n\t\t\tif (element.getAttribute('data-object-fit-polyfilled') != null && !element._objectFitPolyfilledDisplay) {\n\t\t\t\tif(!onRead(e)){\n\t\t\t\t\tlazySizes.rAF(function () {\n\t\t\t\t\t\telement.removeAttribute('data-object-fit-polyfilled');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\twindow.addEventListener('lazyunveilread', onRead, true);\n\n\t\tif(initialEvent && initialEvent.detail){\n\t\t\tonRead(initialEvent);\n\t\t}\n\t}\n}));\n","(function(window, factory) {\n\tif(!window) {return;}\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(typeof window != 'undefined' ?\n\twindow : 0, function(window, document, lazySizes) {\n\t'use strict';\n\n\tif(!window.addEventListener){return;}\n\n\tvar regDescriptors = /\\s+(\\d+)(w|h)\\s+(\\d+)(w|h)/;\n\tvar regCssFit = /parent-fit[\"']*\\s*:\\s*[\"']*(contain|cover|width)/;\n\tvar regCssObject = /parent-container[\"']*\\s*:\\s*[\"']*(.+?)(?=(\\s|$|,|'|\"|;))/;\n\tvar regPicture = /^picture$/i;\n\tvar cfg = lazySizes.cfg;\n\n\tvar getCSS = function (elem){\n\t\treturn (getComputedStyle(elem, null) || {});\n\t};\n\n\tvar parentFit = {\n\n\t\tgetParent: function(element, parentSel){\n\t\t\tvar parent = element;\n\t\t\tvar parentNode = element.parentNode;\n\n\t\t\tif((!parentSel || parentSel == 'prev') && parentNode && regPicture.test(parentNode.nodeName || '')){\n\t\t\t\tparentNode = parentNode.parentNode;\n\t\t\t}\n\n\t\t\tif(parentSel != 'self'){\n\t\t\t\tif(parentSel == 'prev'){\n\t\t\t\t\tparent = element.previousElementSibling;\n\t\t\t\t} else if(parentSel && (parentNode.closest || window.jQuery)){\n\t\t\t\t\tparent = (parentNode.closest ?\n\t\t\t\t\t\t\tparentNode.closest(parentSel) :\n\t\t\t\t\t\t\tjQuery(parentNode).closest(parentSel)[0]) ||\n\t\t\t\t\t\tparentNode\n\t\t\t\t\t;\n\t\t\t\t} else {\n\t\t\t\t\tparent = parentNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn parent;\n\t\t},\n\n\t\tgetFit: function(element){\n\t\t\tvar tmpMatch, parentObj;\n\t\t\tvar css = getCSS(element);\n\t\t\tvar content = css.content || css.fontFamily;\n\t\t\tvar obj = {\n\t\t\t\tfit: element._lazysizesParentFit || element.getAttribute('data-parent-fit')\n\t\t\t};\n\n\t\t\tif(!obj.fit && content && (tmpMatch = content.match(regCssFit))){\n\t\t\t\tobj.fit = tmpMatch[1];\n\t\t\t}\n\n\t\t\tif(obj.fit){\n\t\t\t\tparentObj = element._lazysizesParentContainer || element.getAttribute('data-parent-container');\n\n\t\t\t\tif(!parentObj && content && (tmpMatch = content.match(regCssObject))){\n\t\t\t\t\tparentObj = tmpMatch[1];\n\t\t\t\t}\n\n\t\t\t\tobj.parent = parentFit.getParent(element, parentObj);\n\n\n\t\t\t} else {\n\t\t\t\tobj.fit = css.objectFit;\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t},\n\n\t\tgetImageRatio: function(element){\n\t\t\tvar i, srcset, media, ratio, match, width, height;\n\t\t\tvar parent = element.parentNode;\n\t\t\tvar elements = parent && regPicture.test(parent.nodeName || '') ?\n\t\t\t\t\tparent.querySelectorAll('source, img') :\n\t\t\t\t\t[element]\n\t\t\t\t;\n\n\t\t\tfor(i = 0; i < elements.length; i++){\n\t\t\t\telement = elements[i];\n\t\t\t\tsrcset = element.getAttribute(cfg.srcsetAttr) || element.getAttribute('srcset') || element.getAttribute('data-pfsrcset') || element.getAttribute('data-risrcset') || '';\n\t\t\t\tmedia = element._lsMedia || element.getAttribute('media');\n\t\t\t\tmedia = cfg.customMedia[element.getAttribute('data-media') || media] || media;\n\n\t\t\t\tif(srcset && (!media || (window.matchMedia && matchMedia(media) || {}).matches )){\n\t\t\t\t\tratio = parseFloat(element.getAttribute('data-aspectratio'));\n\n\t\t\t\t\tif (!ratio) {\n\t\t\t\t\t\tmatch = srcset.match(regDescriptors);\n\n\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\tif(match[2] == 'w'){\n\t\t\t\t\t\t\t\twidth = match[1];\n\t\t\t\t\t\t\t\theight = match[3];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidth = match[3];\n\t\t\t\t\t\t\t\theight = match[1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidth = element.getAttribute('width');\n\t\t\t\t\t\t\theight = element.getAttribute('height');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tratio = width / height;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ratio;\n\t\t},\n\n\t\tcalculateSize: function(element, width){\n\t\t\tvar displayRatio, height, imageRatio, retWidth;\n\t\t\tvar fitObj = this.getFit(element);\n\t\t\tvar fit = fitObj.fit;\n\t\t\tvar fitElem = fitObj.parent;\n\n\t\t\tif(fit != 'width' && ((fit != 'contain' && fit != 'cover') || !(imageRatio = this.getImageRatio(element)))){\n\t\t\t\treturn width;\n\t\t\t}\n\n\t\t\tif(fitElem){\n\t\t\t\twidth = fitElem.clientWidth;\n\t\t\t} else {\n\t\t\t\tfitElem = element;\n\t\t\t}\n\n\t\t\tretWidth = width;\n\n\t\t\tif(fit == 'width'){\n\t\t\t\tretWidth = width;\n\t\t\t} else {\n\t\t\t\theight = fitElem.clientHeight;\n\n\t\t\t\tif((displayRatio =  width / height) && ((fit == 'cover' && displayRatio < imageRatio) || (fit == 'contain' && displayRatio > imageRatio))){\n\t\t\t\t\tretWidth = width * (imageRatio / displayRatio);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn retWidth;\n\t\t}\n\t};\n\n\tlazySizes.parentFit = parentFit;\n\n\tdocument.addEventListener('lazybeforesizes', function(e){\n\t\tif(e.defaultPrevented || e.detail.instance != lazySizes){return;}\n\n\t\tvar element = e.target;\n\t\te.detail.width = parentFit.calculateSize(element, e.detail.width);\n\t});\n}));\n","(function(window, factory) {\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(window, function(window, document, lazySizes) {\n\t/*jshint eqnull:true */\n\t'use strict';\n\n\tvar config, riasCfg;\n\tvar lazySizesCfg = lazySizes.cfg;\n\tvar replaceTypes = {string: 1, number: 1};\n\tvar regNumber = /^\\-*\\+*\\d+\\.*\\d*$/;\n\tvar regPicture = /^picture$/i;\n\tvar regWidth = /\\s*\\{\\s*width\\s*\\}\\s*/i;\n\tvar regHeight = /\\s*\\{\\s*height\\s*\\}\\s*/i;\n\tvar regPlaceholder = /\\s*\\{\\s*([a-z0-9]+)\\s*\\}\\s*/ig;\n\tvar regObj = /^\\[.*\\]|\\{.*\\}$/;\n\tvar regAllowedSizes = /^(?:auto|\\d+(px)?)$/;\n\tvar anchor = document.createElement('a');\n\tvar img = document.createElement('img');\n\tvar buggySizes = ('srcset' in img) && !('sizes' in img);\n\tvar supportPicture = !!window.HTMLPictureElement && !buggySizes;\n\n\t(function(){\n\t\tvar prop;\n\t\tvar noop = function(){};\n\t\tvar riasDefaults = {\n\t\t\tprefix: '',\n\t\t\tpostfix: '',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tabsUrl: false,\n\t\t\tmodifyOptions: noop,\n\t\t\twidthmap: {},\n\t\t\tratio: false,\n\t\t\ttraditionalRatio: false,\n\t\t\taspectratio: false,\n\t\t};\n\n\t\tconfig = lazySizes && lazySizes.cfg;\n\n\t\tif(!config.supportsType){\n\t\t\tconfig.supportsType = function(type/*, elem*/){\n\t\t\t\treturn !type;\n\t\t\t};\n\t\t}\n\n\t\tif(!config.rias){\n\t\t\tconfig.rias = {};\n\t\t}\n\t\triasCfg = config.rias;\n\n\t\tif(!('widths' in riasCfg)){\n\t\t\triasCfg.widths = [];\n\t\t\t(function (widths){\n\t\t\t\tvar width;\n\t\t\t\tvar i = 0;\n\t\t\t\twhile(!width || width < 3000){\n\t\t\t\t\ti += 5;\n\t\t\t\t\tif(i > 30){\n\t\t\t\t\t\ti += 1;\n\t\t\t\t\t}\n\t\t\t\t\twidth = (36 * i);\n\t\t\t\t\twidths.push(width);\n\t\t\t\t}\n\t\t\t})(riasCfg.widths);\n\t\t}\n\n\t\tfor(prop in riasDefaults){\n\t\t\tif(!(prop in riasCfg)){\n\t\t\t\triasCfg[prop] = riasDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tfunction getElementOptions(elem, src, options){\n\t\tvar attr, parent, setOption, prop, opts;\n\t\tvar elemStyles = window.getComputedStyle(elem);\n\n\t\tif (!options) {\n\t\t\tparent = elem.parentNode;\n\n\t\t\toptions = {\n\t\t\t\tisPicture: !!(parent && regPicture.test(parent.nodeName || ''))\n\t\t\t};\n\t\t} else {\n\t\t\topts = {};\n\n\t\t\tfor (prop in options) {\n\t\t\t\topts[prop] = options[prop];\n\t\t\t}\n\n\t\t\toptions = opts;\n\t\t}\n\n\t\tsetOption = function(attr, run){\n\t\t\tvar attrVal = elem.getAttribute('data-'+ attr);\n\n\t\t\tif (!attrVal) {\n\t\t\t\t// no data- attr, get value from the CSS\n\t\t\t\tvar styles = elemStyles.getPropertyValue('--ls-' + attr);\n\t\t\t\t// at least Safari 9 returns null rather than\n\t\t\t\t// an empty string for getPropertyValue causing\n\t\t\t\t// .trim() to fail\n\t\t\t\tif (styles) {\n\t\t\t\t\tattrVal = styles.trim();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (attrVal) {\n\t\t\t\tif(attrVal == 'true'){\n\t\t\t\t\tattrVal = true;\n\t\t\t\t} else if(attrVal == 'false'){\n\t\t\t\t\tattrVal = false;\n\t\t\t\t} else if(regNumber.test(attrVal)){\n\t\t\t\t\tattrVal = parseFloat(attrVal);\n\t\t\t\t} else if(typeof riasCfg[attr] == 'function'){\n\t\t\t\t\tattrVal = riasCfg[attr](elem, attrVal);\n\t\t\t\t} else if(regObj.test(attrVal)){\n\t\t\t\t\ttry {\n\t\t\t\t\t\tattrVal = JSON.parse(attrVal);\n\t\t\t\t\t} catch(e){}\n\t\t\t\t}\n\t\t\t\toptions[attr] = attrVal;\n\t\t\t} else if((attr in riasCfg) && typeof riasCfg[attr] != 'function' && !options[attr]){\n\t\t\t\toptions[attr] = riasCfg[attr];\n\t\t\t} else if(run && typeof riasCfg[attr] == 'function'){\n\t\t\t\toptions[attr] = riasCfg[attr](elem, attrVal);\n\t\t\t}\n\t\t};\n\n\t\tfor(attr in riasCfg){\n\t\t\tsetOption(attr);\n\t\t}\n\t\tsrc.replace(regPlaceholder, function(full, match){\n\t\t\tif(!(match in options)){\n\t\t\t\tsetOption(match, true);\n\t\t\t}\n\t\t});\n\n\t\treturn options;\n\t}\n\n\tfunction replaceUrlProps(url, options){\n\t\tvar candidates = [];\n\t\tvar replaceFn = function(full, match){\n\t\t\treturn (replaceTypes[typeof options[match]]) ? options[match] : full;\n\t\t};\n\t\tcandidates.srcset = [];\n\n\t\tif(options.absUrl){\n\t\t\tanchor.setAttribute('href', url);\n\t\t\turl = anchor.href;\n\t\t}\n\n\t\turl = ((options.prefix || '') + url + (options.postfix || '')).replace(regPlaceholder, replaceFn);\n\n\t\toptions.widths.forEach(function(width){\n\t\t\tvar widthAlias = options.widthmap[width] || width;\n\t\t\tvar ratio = options.aspectratio || options.ratio;\n\t\t\tvar traditionalRatio = !options.aspectratio && riasCfg.traditionalRatio;\n\t\t\tvar candidate = {\n\t\t\t\tu: url.replace(regWidth, widthAlias)\n\t\t\t\t\t\t.replace(regHeight, ratio ?\n\t\t\t\t\t\t\ttraditionalRatio ?\n\t\t\t\t\t\t\t\tMath.round(width * ratio) :\n\t\t\t\t\t\t\t\tMath.round(width / ratio)\n\t\t\t\t\t\t\t: ''),\n\t\t\t\tw: width\n\t\t\t};\n\n\t\t\tcandidates.push(candidate);\n\t\t\tcandidates.srcset.push( (candidate.c = candidate.u + ' ' + width + 'w') );\n\t\t});\n\t\treturn candidates;\n\t}\n\n\tfunction setSrc(src, opts, elem){\n\t\tvar elemW = 0;\n\t\tvar elemH = 0;\n\t\tvar sizeElement = elem;\n\n\t\tif(!src){return;}\n\n\t\tif (opts.ratio === 'container') {\n\t\t\t// calculate image or parent ratio\n\t\t\telemW = sizeElement.scrollWidth;\n\t\t\telemH = sizeElement.scrollHeight;\n\n\t\t\twhile ((!elemW || !elemH) && sizeElement !== document) {\n\t\t\t\tsizeElement = sizeElement.parentNode;\n\t\t\t\telemW = sizeElement.scrollWidth;\n\t\t\t\telemH = sizeElement.scrollHeight;\n\t\t\t}\n\t\t\tif (elemW && elemH) {\n\t\t\t\topts.ratio = opts.traditionalRatio ? elemH / elemW : elemW / elemH;\n\t\t\t}\n\t\t}\n\n\t\tsrc = replaceUrlProps(src, opts);\n\n\t\tsrc.isPicture = opts.isPicture;\n\n\t\tif(buggySizes && elem.nodeName.toUpperCase() == 'IMG'){\n\t\t\telem.removeAttribute(config.srcsetAttr);\n\t\t} else {\n\t\t\telem.setAttribute(config.srcsetAttr, src.srcset.join(', '));\n\t\t}\n\n\t\tObject.defineProperty(elem, '_lazyrias', {\n\t\t\tvalue: src,\n\t\t\twritable: true\n\t\t});\n\t}\n\n\tfunction createAttrObject(elem, src){\n\t\tvar opts = getElementOptions(elem, src);\n\n\t\triasCfg.modifyOptions.call(elem, {target: elem, details: opts, detail: opts});\n\n\t\tlazySizes.fire(elem, 'lazyriasmodifyoptions', opts);\n\t\treturn opts;\n\t}\n\n\tfunction getSrc(elem){\n\t\treturn elem.getAttribute( elem.getAttribute('data-srcattr') || riasCfg.srcAttr ) || elem.getAttribute(config.srcsetAttr) || elem.getAttribute(config.srcAttr) || elem.getAttribute('data-pfsrcset') || '';\n\t}\n\n\taddEventListener('lazybeforesizes', function(e){\n\t\tif(e.detail.instance != lazySizes){return;}\n\n\t\tvar elem, src, elemOpts, sourceOpts, parent, sources, i, len, sourceSrc, sizes, detail, hasPlaceholder, modified, emptyList;\n\t\telem = e.target;\n\n\t\tif(!e.detail.dataAttr || e.defaultPrevented || riasCfg.disabled || !((sizes = elem.getAttribute(config.sizesAttr) || elem.getAttribute('sizes')) && regAllowedSizes.test(sizes))){return;}\n\n\t\tsrc = getSrc(elem);\n\n\t\telemOpts = createAttrObject(elem, src);\n\n\t\thasPlaceholder = regWidth.test(elemOpts.prefix) || regWidth.test(elemOpts.postfix);\n\n\t\tif(elemOpts.isPicture && (parent = elem.parentNode)){\n\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\tif ( hasPlaceholder || regWidth.test(sourceSrc = getSrc(sources[i])) ){\n\t\t\t\t\tsourceOpts = getElementOptions(sources[i], sourceSrc, elemOpts);\n\t\t\t\t\tsetSrc(sourceSrc, sourceOpts, sources[i]);\n\t\t\t\t\tmodified = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( hasPlaceholder || regWidth.test(src) ){\n\t\t\tsetSrc(src, elemOpts, elem);\n\t\t\tmodified = true;\n\t\t} else if (modified) {\n\t\t\temptyList = [];\n\t\t\temptyList.srcset = [];\n\t\t\temptyList.isPicture = true;\n\t\t\tObject.defineProperty(elem, '_lazyrias', {\n\t\t\t\tvalue: emptyList,\n\t\t\t\twritable: true\n\t\t\t});\n\t\t}\n\n\t\tif(modified){\n\t\t\tif(supportPicture){\n\t\t\t\telem.removeAttribute(config.srcAttr);\n\t\t\t} else if(sizes != 'auto') {\n\t\t\t\tdetail = {\n\t\t\t\t\twidth: parseInt(sizes, 10)\n\t\t\t\t};\n\t\t\t\tpolyfill({\n\t\t\t\t\ttarget: elem,\n\t\t\t\t\tdetail: detail\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, true);\n\t// partial polyfill\n\tvar polyfill = (function(){\n\t\tvar ascendingSort = function( a, b ) {\n\t\t\treturn a.w - b.w;\n\t\t};\n\n\t\tvar reduceCandidate = function (srces) {\n\t\t\tvar lowerCandidate, bonusFactor;\n\t\t\tvar len = srces.length;\n\t\t\tvar candidate = srces[len -1];\n\t\t\tvar i = 0;\n\n\t\t\tfor(i; i < len;i++){\n\t\t\t\tcandidate = srces[i];\n\t\t\t\tcandidate.d = candidate.w / srces.w;\n\t\t\t\tif(candidate.d >= srces.d){\n\t\t\t\t\tif(!candidate.cached && (lowerCandidate = srces[i - 1]) &&\n\t\t\t\t\t\tlowerCandidate.d > srces.d - (0.13 * Math.pow(srces.d, 2.2))){\n\n\t\t\t\t\t\tbonusFactor = Math.pow(lowerCandidate.d - 0.6, 1.6);\n\n\t\t\t\t\t\tif(lowerCandidate.cached) {\n\t\t\t\t\t\t\tlowerCandidate.d += 0.15 * bonusFactor;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(lowerCandidate.d + ((candidate.d - srces.d) * bonusFactor) > srces.d){\n\t\t\t\t\t\t\tcandidate = lowerCandidate;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn candidate;\n\t\t};\n\n\t\tvar getWSet = function(elem, testPicture){\n\t\t\tvar src;\n\t\t\tif(!elem._lazyrias && lazySizes.pWS && (src = lazySizes.pWS(elem.getAttribute(config.srcsetAttr || ''))).length){\n\t\t\t\tObject.defineProperty(elem, '_lazyrias', {\n\t\t\t\t\tvalue: src,\n\t\t\t\t\twritable: true\n\t\t\t\t});\n\t\t\t\tif(testPicture && elem.parentNode){\n\t\t\t\t\tsrc.isPicture = elem.parentNode.nodeName.toUpperCase() == 'PICTURE';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn elem._lazyrias;\n\t\t};\n\n\t\tvar getX = function(elem){\n\t\t\tvar dpr = window.devicePixelRatio || 1;\n\t\t\tvar optimum = lazySizes.getX && lazySizes.getX(elem);\n\t\t\treturn Math.min(optimum || dpr, 2.4, dpr);\n\t\t};\n\n\t\tvar getCandidate = function(elem, width){\n\t\t\tvar sources, i, len, media, srces, src;\n\n\t\t\tsrces = elem._lazyrias;\n\n\t\t\tif(srces.isPicture && window.matchMedia){\n\t\t\t\tfor(i = 0, sources = elem.parentNode.getElementsByTagName('source'), len = sources.length; i < len; i++){\n\t\t\t\t\tif(getWSet(sources[i]) && !sources[i].getAttribute('type') && ( !(media = sources[i].getAttribute('media')) || ((matchMedia(media) || {}).matches))){\n\t\t\t\t\t\tsrces = sources[i]._lazyrias;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!srces.w || srces.w < width){\n\t\t\t\tsrces.w = width;\n\t\t\t\tsrces.d = getX(elem);\n\t\t\t\tsrc = reduceCandidate(srces.sort(ascendingSort));\n\t\t\t}\n\n\t\t\treturn src;\n\t\t};\n\n\t\tvar polyfill = function(e){\n\t\t\tif(e.detail.instance != lazySizes){return;}\n\n\t\t\tvar candidate;\n\t\t\tvar elem = e.target;\n\n\t\t\tif(!buggySizes && (window.respimage || window.picturefill || lazySizesCfg.pf)){\n\t\t\t\tdocument.removeEventListener('lazybeforesizes', polyfill);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!('_lazyrias' in elem) && (!e.detail.dataAttr || !getWSet(elem, true))){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcandidate = getCandidate(elem, e.detail.width);\n\n\t\t\tif(candidate && candidate.u && elem._lazyrias.cur != candidate.u){\n\t\t\t\telem._lazyrias.cur = candidate.u;\n\t\t\t\tcandidate.cached = true;\n\t\t\t\tlazySizes.rAF(function(){\n\t\t\t\t\telem.setAttribute(config.srcAttr, candidate.u);\n\t\t\t\t\telem.setAttribute('src', candidate.u);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tif(!supportPicture){\n\t\t\taddEventListener('lazybeforesizes', polyfill);\n\t\t} else {\n\t\t\tpolyfill = function(){};\n\t\t}\n\n\t\treturn polyfill;\n\n\t})();\n\n}));\n","(function(window, factory) {\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(window, function(window, document, lazySizes) {\n\t'use strict';\n\tif(!window.addEventListener){return;}\n\n\tvar lazySizesCfg = lazySizes.cfg;\n\tvar regWhite = /\\s+/g;\n\tvar regSplitSet = /\\s*\\|\\s+|\\s+\\|\\s*/g;\n\tvar regSource = /^(.+?)(?:\\s+\\[\\s*(.+?)\\s*\\])(?:\\s+\\[\\s*(.+?)\\s*\\])?$/;\n\tvar regType = /^\\s*\\(*\\s*type\\s*:\\s*(.+?)\\s*\\)*\\s*$/;\n\tvar regBgUrlEscape = /\\(|\\)|'/;\n\tvar allowedBackgroundSize = {contain: 1, cover: 1};\n\tvar proxyWidth = function(elem){\n\t\tvar width = lazySizes.gW(elem, elem.parentNode);\n\n\t\tif(!elem._lazysizesWidth || width > elem._lazysizesWidth){\n\t\t\telem._lazysizesWidth = width;\n\t\t}\n\t\treturn elem._lazysizesWidth;\n\t};\n\tvar getBgSize = function(elem){\n\t\tvar bgSize;\n\n\t\tbgSize = (getComputedStyle(elem) || {getPropertyValue: function(){}}).getPropertyValue('background-size');\n\n\t\tif(!allowedBackgroundSize[bgSize] && allowedBackgroundSize[elem.style.backgroundSize]){\n\t\t\tbgSize = elem.style.backgroundSize;\n\t\t}\n\n\t\treturn bgSize;\n\t};\n\tvar setTypeOrMedia = function(source, match){\n\t\tif(match){\n\t\t\tvar typeMatch = match.match(regType);\n\t\t\tif(typeMatch && typeMatch[1]){\n\t\t\t\tsource.setAttribute('type', typeMatch[1]);\n\t\t\t} else {\n\t\t\t\tsource.setAttribute('media', lazySizesCfg.customMedia[match] || match);\n\t\t\t}\n\t\t}\n\t};\n\tvar createPicture = function(sets, elem, img){\n\t\tvar picture = document.createElement('picture');\n\t\tvar sizes = elem.getAttribute(lazySizesCfg.sizesAttr);\n\t\tvar ratio = elem.getAttribute('data-ratio');\n\t\tvar optimumx = elem.getAttribute('data-optimumx');\n\n\t\tif(elem._lazybgset && elem._lazybgset.parentNode == elem){\n\t\t\telem.removeChild(elem._lazybgset);\n\t\t}\n\n\t\tObject.defineProperty(img, '_lazybgset', {\n\t\t\tvalue: elem,\n\t\t\twritable: true\n\t\t});\n\t\tObject.defineProperty(elem, '_lazybgset', {\n\t\t\tvalue: picture,\n\t\t\twritable: true\n\t\t});\n\n\t\tsets = sets.replace(regWhite, ' ').split(regSplitSet);\n\n\t\tpicture.style.display = 'none';\n\t\timg.className = lazySizesCfg.lazyClass;\n\n\t\tif(sets.length == 1 && !sizes){\n\t\t\tsizes = 'auto';\n\t\t}\n\n\t\tsets.forEach(function(set){\n\t\t\tvar match;\n\t\t\tvar source = document.createElement('source');\n\n\t\t\tif(sizes && sizes != 'auto'){\n\t\t\t\tsource.setAttribute('sizes', sizes);\n\t\t\t}\n\n\t\t\tif((match = set.match(regSource))){\n\t\t\t\tsource.setAttribute(lazySizesCfg.srcsetAttr, match[1]);\n\n\t\t\t\tsetTypeOrMedia(source, match[2]);\n\t\t\t\tsetTypeOrMedia(source, match[3]);\n\t\t\t} else {\n\t\t\t\tsource.setAttribute(lazySizesCfg.srcsetAttr, set);\n\t\t\t}\n\n\t\t\tpicture.appendChild(source);\n\t\t});\n\n\t\tif(sizes){\n\t\t\timg.setAttribute(lazySizesCfg.sizesAttr, sizes);\n\t\t\telem.removeAttribute(lazySizesCfg.sizesAttr);\n\t\t\telem.removeAttribute('sizes');\n\t\t}\n\t\tif(optimumx){\n\t\t\timg.setAttribute('data-optimumx', optimumx);\n\t\t}\n\t\tif(ratio) {\n\t\t\timg.setAttribute('data-ratio', ratio);\n\t\t}\n\n\t\tpicture.appendChild(img);\n\n\t\telem.appendChild(picture);\n\t};\n\n\tvar proxyLoad = function(e){\n\t\tif(!e.target._lazybgset){return;}\n\n\t\tvar image = e.target;\n\t\tvar elem = image._lazybgset;\n\t\tvar bg = image.currentSrc || image.src;\n\n\n\t\tif(bg){\n\t\t\tvar useSrc = regBgUrlEscape.test(bg) ? JSON.stringify(bg) : bg;\n\t\t\tvar event = lazySizes.fire(elem, 'bgsetproxy', {\n\t\t\t\tsrc: bg,\n\t\t\t\tuseSrc: useSrc,\n\t\t\t\tfullSrc: null,\n\t\t\t});\n\n\t\t\tif(!event.defaultPrevented){\n\t\t\t\telem.style.backgroundImage = event.detail.fullSrc || 'url(' + event.detail.useSrc + ')';\n\t\t\t}\n\t\t}\n\n\t\tif(image._lazybgsetLoading){\n\t\t\tlazySizes.fire(elem, '_lazyloaded', {}, false, true);\n\t\t\tdelete image._lazybgsetLoading;\n\t\t}\n\t};\n\n\taddEventListener('lazybeforeunveil', function(e){\n\t\tvar set, image, elem;\n\n\t\tif(e.defaultPrevented || !(set = e.target.getAttribute('data-bgset'))){return;}\n\n\t\telem = e.target;\n\t\timage = document.createElement('img');\n\n\t\timage.alt = '';\n\n\t\timage._lazybgsetLoading = true;\n\t\te.detail.firesLoad = true;\n\n\t\tcreatePicture(set, elem, image);\n\n\t\tsetTimeout(function(){\n\t\t\tlazySizes.loader.unveil(image);\n\n\t\t\tlazySizes.rAF(function(){\n\t\t\t\tlazySizes.fire(image, '_lazyloaded', {}, true, true);\n\t\t\t\tif(image.complete) {\n\t\t\t\t\tproxyLoad({target: image});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t});\n\n\tdocument.addEventListener('load', proxyLoad, true);\n\n\twindow.addEventListener('lazybeforesizes', function(e){\n\t\tif(e.detail.instance != lazySizes){return;}\n\t\tif(e.target._lazybgset && e.detail.dataAttr){\n\t\t\tvar elem = e.target._lazybgset;\n\t\t\tvar bgSize = getBgSize(elem);\n\n\t\t\tif(allowedBackgroundSize[bgSize]){\n\t\t\t\te.target._lazysizesParentFit = bgSize;\n\n\t\t\t\tlazySizes.rAF(function(){\n\t\t\t\t\te.target.setAttribute('data-parent-fit', bgSize);\n\t\t\t\t\tif(e.target._lazysizesParentFit){\n\t\t\t\t\t\tdelete e.target._lazysizesParentFit;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, true);\n\n\tdocument.documentElement.addEventListener('lazybeforesizes', function(e){\n\t\tif(e.defaultPrevented || !e.target._lazybgset || e.detail.instance != lazySizes){return;}\n\t\te.detail.width = proxyWidth(e.target._lazybgset);\n\t});\n}));\n","(function(window, factory) {\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(window, function(window, document, lazySizes) {\n\t'use strict';\n\n\tvar imgSupport = 'loading' in HTMLImageElement.prototype;\n\tvar iframeSupport = 'loading' in HTMLIFrameElement.prototype;\n\tvar isConfigSet = false;\n\tvar oldPrematureUnveil = lazySizes.prematureUnveil;\n\tvar cfg = lazySizes.cfg;\n\tvar listenerMap = {\n\t\tfocus: 1,\n\t\tmouseover: 1,\n\t\tclick: 1,\n\t\tload: 1,\n\t\ttransitionend: 1,\n\t\tanimationend: 1,\n\t\tscroll: 1,\n\t\tresize: 1,\n\t};\n\n\tif (!cfg.nativeLoading) {\n\t\tcfg.nativeLoading = {};\n\t}\n\n\tif (!window.addEventListener || !window.MutationObserver || (!imgSupport && !iframeSupport)) {\n\t\treturn;\n\t}\n\n\tfunction disableEvents() {\n\t\tvar loader = lazySizes.loader;\n\t\tvar throttledCheckElements = loader.checkElems;\n\t\tvar removeALSL = function(){\n\t\t\tsetTimeout(function(){\n\t\t\t\twindow.removeEventListener('scroll', loader._aLSL, true);\n\t\t\t}, 1000);\n\t\t};\n\t\tvar currentListenerMap = typeof cfg.nativeLoading.disableListeners == 'object' ?\n\t\t\tcfg.nativeLoading.disableListeners :\n\t\t\tlistenerMap;\n\n\t\tif (currentListenerMap.scroll) {\n\t\t\twindow.addEventListener('load', removeALSL);\n\t\t\tremoveALSL();\n\n\t\t\twindow.removeEventListener('scroll', throttledCheckElements, true);\n\t\t}\n\n\t\tif (currentListenerMap.resize) {\n\t\t\twindow.removeEventListener('resize', throttledCheckElements, true);\n\t\t}\n\n\t\tObject.keys(currentListenerMap).forEach(function(name) {\n\t\t\tif (currentListenerMap[name]) {\n\t\t\t\tdocument.removeEventListener(name, throttledCheckElements, true);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction runConfig() {\n\t\tif (isConfigSet) {return;}\n\t\tisConfigSet = true;\n\n\t\tif (imgSupport && iframeSupport && cfg.nativeLoading.disableListeners) {\n\t\t\tif (cfg.nativeLoading.disableListeners === true) {\n\t\t\t\tcfg.nativeLoading.setLoadingAttribute = true;\n\t\t\t}\n\n\t\t\tdisableEvents();\n\t\t}\n\n\t\tif (cfg.nativeLoading.setLoadingAttribute) {\n\t\t\twindow.addEventListener('lazybeforeunveil', function(e){\n\t\t\t\tvar element = e.target;\n\n\t\t\t\tif ('loading' in element && !element.getAttribute('loading')) {\n\t\t\t\t\telement.setAttribute('loading', 'lazy');\n\t\t\t\t}\n\t\t\t}, true);\n\t\t}\n\t}\n\n\tlazySizes.prematureUnveil = function prematureUnveil(element) {\n\n\t\tif (!isConfigSet) {\n\t\t\trunConfig();\n\t\t}\n\n\t\tif ('loading' in element &&\n\t\t\t(cfg.nativeLoading.setLoadingAttribute || element.getAttribute('loading')) &&\n\t\t\t(element.getAttribute('data-sizes') != 'auto' || element.offsetWidth)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (oldPrematureUnveil) {\n\t\t\treturn oldPrematureUnveil(element);\n\t\t}\n\t};\n\n}));\n","(function(window, factory) {\n\tif(!window) {return;}\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(typeof window != 'undefined' ?\n\twindow : 0, function(window, document, lazySizes) {\n\t/*jshint eqnull:true */\n\t'use strict';\n\tvar polyfill;\n\tvar lazySizesCfg = lazySizes.cfg;\n\tvar img = document.createElement('img');\n\tvar supportSrcset = ('sizes' in img) && ('srcset' in img);\n\tvar regHDesc = /\\s+\\d+h/g;\n\tvar fixEdgeHDescriptor = (function(){\n\t\tvar regDescriptors = /\\s+(\\d+)(w|h)\\s+(\\d+)(w|h)/;\n\t\tvar forEach = Array.prototype.forEach;\n\n\t\treturn function(){\n\t\t\tvar img = document.createElement('img');\n\t\t\tvar removeHDescriptors = function(source){\n\t\t\t\tvar ratio, match;\n\t\t\t\tvar srcset = source.getAttribute(lazySizesCfg.srcsetAttr);\n\t\t\t\tif(srcset){\n\t\t\t\t\tif((match = srcset.match(regDescriptors))){\n\t\t\t\t\t\tif(match[2] == 'w'){\n\t\t\t\t\t\t\tratio = match[1] / match[3];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tratio = match[3] / match[1];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(ratio){\n\t\t\t\t\t\t\tsource.setAttribute('data-aspectratio', ratio);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource.setAttribute(lazySizesCfg.srcsetAttr, srcset.replace(regHDesc, ''));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar handler = function(e){\n\t\t\t\tif(e.detail.instance != lazySizes){return;}\n\t\t\t\tvar picture = e.target.parentNode;\n\n\t\t\t\tif(picture && picture.nodeName == 'PICTURE'){\n\t\t\t\t\tforEach.call(picture.getElementsByTagName('source'), removeHDescriptors);\n\t\t\t\t}\n\t\t\t\tremoveHDescriptors(e.target);\n\t\t\t};\n\n\t\t\tvar test = function(){\n\t\t\t\tif(!!img.currentSrc){\n\t\t\t\t\tdocument.removeEventListener('lazybeforeunveil', handler);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdocument.addEventListener('lazybeforeunveil', handler);\n\n\t\t\timg.onload = test;\n\t\t\timg.onerror = test;\n\n\t\t\timg.srcset = 'data:,a 1w 1h';\n\n\t\t\tif(img.complete){\n\t\t\t\ttest();\n\t\t\t}\n\t\t};\n\t})();\n\n\tif(!lazySizesCfg.supportsType){\n\t\tlazySizesCfg.supportsType = function(type/*, elem*/){\n\t\t\treturn !type;\n\t\t};\n\t}\n\n\tif (window.HTMLPictureElement && supportSrcset) {\n\t\tif(!lazySizes.hasHDescriptorFix && document.msElementsFromPoint){\n\t\t\tlazySizes.hasHDescriptorFix = true;\n\t\t\tfixEdgeHDescriptor();\n\t\t}\n\t\treturn;\n\t}\n\n\tif(window.picturefill || lazySizesCfg.pf){return;}\n\n\tlazySizesCfg.pf = function(options){\n\t\tvar i, len;\n\t\tif(window.picturefill){return;}\n\t\tfor(i = 0, len = options.elements.length; i < len; i++){\n\t\t\tpolyfill(options.elements[i]);\n\t\t}\n\t};\n\n\t// partial polyfill\n\tpolyfill = (function(){\n\t\tvar ascendingSort = function( a, b ) {\n\t\t\treturn a.w - b.w;\n\t\t};\n\t\tvar regPxLength = /^\\s*\\d+\\.*\\d*px\\s*$/;\n\t\tvar reduceCandidate = function (srces) {\n\t\t\tvar lowerCandidate, bonusFactor;\n\t\t\tvar len = srces.length;\n\t\t\tvar candidate = srces[len -1];\n\t\t\tvar i = 0;\n\n\t\t\tfor(i; i < len;i++){\n\t\t\t\tcandidate = srces[i];\n\t\t\t\tcandidate.d = candidate.w / srces.w;\n\n\t\t\t\tif(candidate.d >= srces.d){\n\t\t\t\t\tif(!candidate.cached && (lowerCandidate = srces[i - 1]) &&\n\t\t\t\t\t\tlowerCandidate.d > srces.d - (0.13 * Math.pow(srces.d, 2.2))){\n\n\t\t\t\t\t\tbonusFactor = Math.pow(lowerCandidate.d - 0.6, 1.6);\n\n\t\t\t\t\t\tif(lowerCandidate.cached) {\n\t\t\t\t\t\t\tlowerCandidate.d += 0.15 * bonusFactor;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(lowerCandidate.d + ((candidate.d - srces.d) * bonusFactor) > srces.d){\n\t\t\t\t\t\t\tcandidate = lowerCandidate;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn candidate;\n\t\t};\n\n\t\tvar parseWsrcset = (function(){\n\t\t\tvar candidates;\n\t\t\tvar regWCandidates = /(([^,\\s].[^\\s]+)\\s+(\\d+)w)/g;\n\t\t\tvar regMultiple = /\\s/;\n\t\t\tvar addCandidate = function(match, candidate, url, wDescriptor){\n\t\t\t\tcandidates.push({\n\t\t\t\t\tc: candidate,\n\t\t\t\t\tu: url,\n\t\t\t\t\tw: wDescriptor * 1\n\t\t\t\t});\n\t\t\t};\n\n\t\t\treturn function(input){\n\t\t\t\tcandidates = [];\n\t\t\t\tinput = input.trim();\n\t\t\t\tinput\n\t\t\t\t\t.replace(regHDesc, '')\n\t\t\t\t\t.replace(regWCandidates, addCandidate)\n\t\t\t\t;\n\n\t\t\t\tif(!candidates.length && input && !regMultiple.test(input)){\n\t\t\t\t\tcandidates.push({\n\t\t\t\t\t\tc: input,\n\t\t\t\t\t\tu: input,\n\t\t\t\t\t\tw: 99\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn candidates;\n\t\t\t};\n\t\t})();\n\n\t\tvar runMatchMedia = function(){\n\t\t\tif(runMatchMedia.init){return;}\n\n\t\t\trunMatchMedia.init = true;\n\t\t\taddEventListener('resize', (function(){\n\t\t\t\tvar timer;\n\t\t\t\tvar matchMediaElems = document.getElementsByClassName('lazymatchmedia');\n\t\t\t\tvar run = function(){\n\t\t\t\t\tvar i, len;\n\t\t\t\t\tfor(i = 0, len = matchMediaElems.length; i < len; i++){\n\t\t\t\t\t\tpolyfill(matchMediaElems[i]);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn function(){\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\ttimer = setTimeout(run, 66);\n\t\t\t\t};\n\t\t\t})());\n\t\t};\n\n\t\tvar createSrcset = function(elem, isImage){\n\t\t\tvar parsedSet;\n\t\t\tvar srcSet = elem.getAttribute('srcset') || elem.getAttribute(lazySizesCfg.srcsetAttr);\n\n\t\t\tif(!srcSet && isImage){\n\t\t\t\tsrcSet = !elem._lazypolyfill ?\n\t\t\t\t\t(elem.getAttribute(lazySizesCfg.srcAttr) || elem.getAttribute('src')) :\n\t\t\t\t\telem._lazypolyfill._set\n\t\t\t\t;\n\t\t\t}\n\n\t\t\tif(!elem._lazypolyfill || elem._lazypolyfill._set != srcSet){\n\n\t\t\t\tparsedSet = parseWsrcset( srcSet || '' );\n\t\t\t\tif(isImage && elem.parentNode){\n\t\t\t\t\tparsedSet.isPicture = elem.parentNode.nodeName.toUpperCase() == 'PICTURE';\n\n\t\t\t\t\tif(parsedSet.isPicture){\n\t\t\t\t\t\tif(window.matchMedia){\n\t\t\t\t\t\t\tlazySizes.aC(elem, 'lazymatchmedia');\n\t\t\t\t\t\t\trunMatchMedia();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tparsedSet._set = srcSet;\n\t\t\t\tObject.defineProperty(elem, '_lazypolyfill', {\n\t\t\t\t\tvalue: parsedSet,\n\t\t\t\t\twritable: true\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tvar getX = function(elem){\n\t\t\tvar dpr = window.devicePixelRatio || 1;\n\t\t\tvar optimum = lazySizes.getX && lazySizes.getX(elem);\n\t\t\treturn Math.min(optimum || dpr, 2.5, dpr);\n\t\t};\n\n\t\tvar matchesMedia = function(media){\n\t\t\tif(window.matchMedia){\n\t\t\t\tmatchesMedia = function(media){\n\t\t\t\t\treturn !media || (matchMedia(media) || {}).matches;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn !media;\n\t\t\t}\n\n\t\t\treturn matchesMedia(media);\n\t\t};\n\n\t\tvar getCandidate = function(elem){\n\t\t\tvar sources, i, len, media, source, srces, src, width;\n\n\t\t\tsource = elem;\n\t\t\tcreateSrcset(source, true);\n\t\t\tsrces = source._lazypolyfill;\n\n\t\t\tif(srces.isPicture){\n\t\t\t\tfor(i = 0, sources = elem.parentNode.getElementsByTagName('source'), len = sources.length; i < len; i++){\n\t\t\t\t\tif( lazySizesCfg.supportsType(sources[i].getAttribute('type'), elem) && matchesMedia( sources[i].getAttribute('media')) ){\n\t\t\t\t\t\tsource = sources[i];\n\t\t\t\t\t\tcreateSrcset(source);\n\t\t\t\t\t\tsrces = source._lazypolyfill;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(srces.length > 1){\n\t\t\t\twidth = source.getAttribute('sizes') || '';\n\t\t\t\twidth = regPxLength.test(width) && parseInt(width, 10) || lazySizes.gW(elem, elem.parentNode);\n\t\t\t\tsrces.d = getX(elem);\n\t\t\t\tif(!srces.src || !srces.w || srces.w < width){\n\t\t\t\t\tsrces.w = width;\n\t\t\t\t\tsrc = reduceCandidate(srces.sort(ascendingSort));\n\t\t\t\t\tsrces.src = src;\n\t\t\t\t} else {\n\t\t\t\t\tsrc = srces.src;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsrc = srces[0];\n\t\t\t}\n\n\t\t\treturn src;\n\t\t};\n\n\t\tvar p = function(elem){\n\t\t\tif(supportSrcset && elem.parentNode && elem.parentNode.nodeName.toUpperCase() != 'PICTURE'){return;}\n\t\t\tvar candidate = getCandidate(elem);\n\n\t\t\tif(candidate && candidate.u && elem._lazypolyfill.cur != candidate.u){\n\t\t\t\telem._lazypolyfill.cur = candidate.u;\n\t\t\t\tcandidate.cached = true;\n\t\t\t\telem.setAttribute(lazySizesCfg.srcAttr, candidate.u);\n\t\t\t\telem.setAttribute('src', candidate.u);\n\t\t\t}\n\t\t};\n\n\t\tp.parse = parseWsrcset;\n\n\t\treturn p;\n\t})();\n\n\tif(lazySizesCfg.loadedClass && lazySizesCfg.loadingClass){\n\t\t(function(){\n\t\t\tvar sels = [];\n\t\t\t['img[sizes$=\"px\"][srcset].', 'picture > img:not([srcset]).'].forEach(function(sel){\n\t\t\t\tsels.push(sel + lazySizesCfg.loadedClass);\n\t\t\t\tsels.push(sel + lazySizesCfg.loadingClass);\n\t\t\t});\n\t\t\tlazySizesCfg.pf({\n\t\t\t\telements: document.querySelectorAll(sels.join(', '))\n\t\t\t});\n\t\t})();\n\n\t}\n}));\n","import { add, listen, qsa, toggle } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\n\nconst slideshowOpts = {\n  adaptiveHeight: false,\n  draggable: false,\n  fade: true,\n  pageDots: false,\n  prevNextButtons: false,\n  wrapAround: true,\n};\n\nconst classes = {\n  active: \"is-active\",\n};\n\nsection(\"announcement-bar\", {\n  timer: null,\n\n  onLoad() {\n    const timing = parseInt(this.container.dataset.timing);\n    const announcements = qsa(\"[data-single-announcement]\", this.container);\n\n    if (announcements.length > 1) {\n      import(flu.chunks.flickity).then(({ Flickity }) => {\n        this.slideshow = new Flickity(this.container, {\n          ...slideshowOpts,\n          autoPlay: timing,\n          on: {\n            // Need to add a modifier to animate after the first slide has changed\n            change(index) {\n              announcements.forEach((el, i) =>\n                toggle(el, classes.active, index === i)\n              );\n            },\n          },\n        });\n        this.slideshow.on(\"pointerUp\", () => this.handleRestart());\n      });\n    } else {\n      add(announcements[0], \"is-selected\");\n    }\n\n    this.listeners = [\n      listen(this.container, \"touchend\", () => this.handleRestart()),\n    ];\n  },\n\n  handleRestart() {\n    clearTimeout(this.timer);\n    this.timer = setTimeout(\n      () => this.slideshow && this.slideshow.playPlayer(),\n      3500\n    );\n  },\n\n  onBlockSelect({ target }) {\n    this.slideshow && this.slideshow.pausePlayer();\n    this.slideshow && this.slideshow.select(target.dataset.index);\n  },\n\n  onBlockDeselect() {\n    this.slideshow && this.slideshow.unpausePlayer();\n  },\n\n  onUnload() {\n    this.slideshow && this.slideshow.destroy();\n    this.slideshow && this.listeners.forEach(l => l());\n  },\n});\n","import { qs, qsa, listen } from \"@fluorescent/dom\";\n\nconst {\n  strings: { accessibility: strings },\n} = window.theme;\n\nconst handleTab = () => {\n  let tabHandler = null;\n  const formElments = [\"INPUT\", \"TEXTAREA\", \"SELECT\"];\n  // Determine if the user is a mouse or keyboard user\n  function handleFirstTab(e) {\n    if (\n      e.keyCode === 9 &&\n      !formElments.includes(document.activeElement.tagName)\n    ) {\n      document.body.classList.add(\"user-is-tabbing\");\n\n      tabHandler();\n      tabHandler = listen(window, \"mousedown\", handleMouseDownOnce);\n    }\n  }\n\n  function handleMouseDownOnce() {\n    document.body.classList.remove(\"user-is-tabbing\");\n\n    tabHandler();\n    tabHandler = listen(window, \"keydown\", handleFirstTab);\n  }\n\n  tabHandler = listen(window, \"keydown\", handleFirstTab);\n};\n\nconst focusFormStatus = node => {\n  const formStatus = qs(\".form-status\", node);\n\n  if (!formStatus) return;\n\n  const focusElement = qs(\"[data-form-status]\", formStatus);\n\n  focusElement.focus();\n};\n\nconst prefersReducedMotion = () => {\n  return window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\n};\n\nfunction backgroundVideoHandler(container) {\n  const pause = qs(\".video-pause\", container);\n  const video = container.getElementsByTagName(\"VIDEO\")[0];\n\n  if (!pause || !video) return;\n\n  const pauseListener = listen(pause, \"click\", e => {\n    e.preventDefault();\n\n    if (video.paused) {\n      video.play();\n      pause.innerText = strings.pause_video;\n    } else {\n      video.pause();\n      pause.innerText = strings.play_video;\n    }\n  });\n\n  return () => pauseListener();\n}\n\nfunction disableLinks(links) {\n  links.forEach(link => {\n    link.setAttribute(\"tabindex\", -1);\n  });\n}\n\nfunction enableLinks(links) {\n  links.forEach(link => {\n    link.setAttribute(\"tabindex\", 0);\n  });\n}\n\nfunction disableLinksWithin(wrappingEl) {\n  const links = qsa(\"a\", wrappingEl);\n  disableLinks(links);\n}\n\nfunction enableLinksWithin(wrappingEl) {\n  const links = qsa(\"a\", wrappingEl);\n  enableLinks(links);\n}\n\nfunction syncTabIndexesOnFlickity(flickityInstance) {\n  // This ensures that all non active items have\n  // a tabindex of -1 and that active items do not\n  flickityInstance.slides.forEach(slide => {\n    disableLinksWithin(slide.cells[0].element);\n  });\n  enableLinksWithin(flickityInstance.selectedElement);\n}\n\nexport {\n  handleTab,\n  focusFormStatus,\n  prefersReducedMotion,\n  backgroundVideoHandler,\n  disableLinks,\n  enableLinks,\n  disableLinksWithin,\n  enableLinksWithin,\n  syncTabIndexesOnFlickity,\n};\n","import { add, listen, qs } from \"@fluorescent/dom\";\nimport { syncTabIndexesOnFlickity } from \"@/lib/a11y\";\n\nexport default (node, opts = {}) => {\n  const previousButton = qs(\"[data-prev]\", node);\n  const nextButton = qs(\"[data-next]\", node);\n\n  let slider;\n\n  const io = new IntersectionObserver(\n    ([{ isIntersecting: visible }]) => {\n      if (slider && visible && (slider.slides || {}).length > 1) {\n        add(nextButton, \"visible\");\n        io.unobserve(node);\n      }\n    },\n    { threshold: 0.75 }\n  );\n\n  io.observe(node);\n\n  function change() {\n    add(previousButton, \"visible\");\n    syncTabIndexesOnFlickity(slider);\n  }\n\n  const prevClick = listen(previousButton, \"click\", () => slider.previous());\n  const nextClick = listen(nextButton, \"click\", () => slider.next());\n\n  import(flu.chunks.flickity).then(({ Flickity }) => {\n    slider = new Flickity(node, {\n      adaptiveHeight: true,\n      cellAlign: \"left\",\n      cellSelector: \"[data-slide]\",\n      pageDots: false,\n      prevNextButtons: false,\n      watchCSS: true,\n      wrapAround: true,\n      on: {\n        ready: function () {\n          var flkty = Flickity.data(node); // This is a pain but we can't access the instance within here\n          syncTabIndexesOnFlickity(flkty);\n        },\n      },\n      ...opts,\n    });\n    slider.on(\"change\", change);\n  });\n\n  return {\n    destroy: () => {\n      if (slider && (slider.slides || {}).length > 1) {\n        prevClick();\n        nextClick();\n      }\n      io.disconnect();\n      slider && slider.destroy();\n    },\n    select: index => slider && slider.select(index),\n  };\n};\n","import { section } from \"@/neon\";\nimport mobileCarousel from \"@/lib/mobile-carousel\";\n\nconst sel = {\n  slider: \"[data-slider]\",\n};\n\nsection(\"blog-posts\", {\n  onLoad() {\n    const carousel = this.container.querySelector(sel.slider);\n    this.mobileCarousel = mobileCarousel(carousel);\n  },\n\n  onUnload() {\n    this.mobileCarousel.destroy();\n  },\n});\n","import { add, listen, qs, qsa } from \"@fluorescent/dom\";\nimport { section } from \"@/neon\";\nimport { on, emit } from \"@/neon/events\";\n\nimport { syncTabIndexesOnFlickity } from \"@/lib/a11y\";\n\nconst sel = {\n  arrow: \".mobile-carousel__pagination-arrow\",\n  slide: \"[data-js-slide]\",\n  slider: \"[data-js-slider]\",\n  next: \"[data-js-next]\",\n};\n\nsection(\"carousel\", {\n  events: [],\n  carousel: null,\n\n  onLoad() {\n    const slider = qs(sel.slider, this.container);\n    const arrows = qsa(sel.arrow, this.container);\n    const previousButton = qs(\"[data-prev]\", this.container);\n    const nextButton = qs(\"[data-next]\", this.container);\n\n    // Show pagination arrows\n    add(arrows, \"visible\");\n\n    const setHeight = () => {\n      const first = qs(\".carousel__slide .carousel__image\", this.container);\n      if (!first) return;\n\n      this.container.style.setProperty(\n        \"--height-carousel\",\n        first.offsetHeight + \"px\"\n      );\n    };\n\n    import(flu.chunks.flickity).then(({ Flickity }) => {\n      this.carousel = new Flickity(slider, {\n        adaptiveHeight: false,\n        cellSelector: sel.slide,\n        pageDots: false,\n        prevNextButtons: false,\n        setGallerySize: false,\n        wrapAround: true,\n        on: {\n          ready: () => {\n            var carousel = Flickity.data(slider); // This is a pain but we can't access the instance within here\n            setHeight();\n            syncTabIndexesOnFlickity(carousel);\n          },\n        },\n      });\n\n      this.carousel.on(\"resize\", () => setHeight());\n\n      this.carousel.on(\"change\", () => {\n        syncTabIndexesOnFlickity(this.carousel);\n      });\n\n      this.prevClick = listen(previousButton, \"click\", () =>\n        this.carousel.previous()\n      );\n      this.nextClick = listen(nextButton, \"click\", () => this.carousel.next());\n\n      emit(\"carousel:initialized\");\n    });\n  },\n\n  onUnload() {\n    this.carousel && this.carousel.destroy();\n    if (this.carousel && (this.carousel.slides || {}).length > 1) {\n      this.prevClick();\n      this.nextClick();\n    }\n  },\n\n  onBlockSelect({ target }) {\n    this.flkty && this.flkty.select(target.dataset.index);\n  },\n\n  onBlockSelect({ target }) {\n    if (this.carousel) {\n      this._handleBlockSelect(target.dataset.index);\n    } else {\n      // Listen for initalization if carousel does not exist\n      this.events.push(\n        on(\"carousel:initialized\", () => {\n          this._handleBlockSelect(target.dataset.index);\n        })\n      );\n    }\n  },\n\n  onBlockDeselect() {\n    if (this.carousel) {\n      this._unpause();\n    } else {\n      // Listen for initalization if carousel does not exist\n      this.events.push(\n        on(\"carousel:initialized\", () => {\n          this._unpause();\n        })\n      );\n    }\n  },\n\n  _handleBlockSelect(slideIndex) {\n    this.carousel.select(slideIndex);\n    this._pause();\n  },\n\n  _pause() {\n    this.carousel && this.carousel.pausePlayer();\n  },\n\n  _unpause() {\n    this.carousel && this.carousel.unpausePlayer();\n  },\n});\n","import { section } from \"@/neon\";\nimport mobileCarousel from \"@/lib/mobile-carousel\";\n\nconst sel = {\n  slider: \"[data-slider]\",\n};\n\nsection(\"collection-list\", {\n  onLoad() {\n    const slider = this.container.querySelector(sel.slider);\n    this.mobileCarousel = mobileCarousel(slider, {\n      groupCells: 2,\n    });\n  },\n\n  onUnload() {\n    this.mobileCarousel.destroy();\n  },\n\n  onBlockSelect({ target }) {\n    this.mobileCarousel.select(target.dataset.index);\n  },\n});\n","import { section } from \"@/neon\";\n\nsection(\"custom-content\", {\n  onLoad() {},\n  onUnload() {},\n});\n","import { section } from \"@/neon\";\nimport mobileCarousel from \"@/lib/mobile-carousel\";\n\nconst sel = {\n  slider: \"[data-slider]\",\n};\n\nsection(\"featured-collection\", {\n  onLoad() {\n    const slider = this.container.querySelector(sel.slider);\n    this.mobileCarousel = mobileCarousel(slider, {\n      groupCells: 2,\n    });\n  },\n\n  onUnload() {\n    this.mobileCarousel.destroy();\n  },\n});\n","import { qs } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\nimport mobileCarousel from \"@/lib/mobile-carousel\";\n\nconst sel = {\n  slider: \"[data-slider]\",\n};\n\nsection(\"featured-products\", {\n  onLoad() {\n    const carousel = qs(sel.slider, this.container);\n\n    if (!carousel) return;\n\n    this.mobileCarousel = mobileCarousel(carousel, {\n      adaptiveHeight: false,\n      groupCells: 2,\n    });\n  },\n\n  onUnload() {\n    this.mobileCarousel.destroy();\n  },\n});\n","import { listen, qs, qsa } from \"@fluorescent/dom\";\n\nconst selectors = {\n  form: \".selectors-form\",\n  list: \"[data-disclosure-list]\",\n  toggle: \"[data-disclosure-toggle]\",\n  input: \"[data-disclosure-input]\",\n  option: \"[data-disclosure-option]\",\n};\n\nconst classes = {\n  visible: \"disclosure-list--visible\",\n};\n\nfunction has(list, selector) {\n  return list.map(l => l.contains(selector)).filter(Boolean);\n}\n\nexport default function Disclosure(node) {\n  const form = node.closest(selectors.form);\n  const list = qs(selectors.list, node);\n  const toggle = qs(selectors.toggle, node);\n  const input = qs(selectors.input, node);\n  const options = qsa(selectors.option, node);\n\n  const events = [\n    listen(toggle, \"click\", handleToggle),\n    listen(options, \"click\", submitForm),\n    listen(document, \"click\", handleBodyClick),\n    listen(toggle, \"focusout\", handleToggleFocusOut),\n    listen(list, \"focusout\", handleListFocusOut),\n    listen(node, \"keyup\", handleKeyup),\n  ];\n\n  function submitForm(evt) {\n    evt.preventDefault();\n    const { value } = evt.currentTarget.dataset;\n\n    input.value = value;\n    form.submit();\n  }\n\n  function handleToggleFocusOut(evt) {\n    const disclosureLostFocus = has([node], evt.relatedTarget).length === 0;\n\n    if (disclosureLostFocus) {\n      hideList();\n    }\n  }\n\n  function handleListFocusOut(evt) {\n    const childInFocus = has([node], evt.relatedTarget).length > 0;\n    const isVisible = list.classList.contains(classes.visible);\n\n    if (isVisible && !childInFocus) {\n      hideList();\n    }\n  }\n\n  function handleKeyup(evt) {\n    if (evt.which !== 27) return;\n    hideList();\n    toggle.focus();\n  }\n\n  function handleToggle(evt) {\n    const ariaExpanded =\n      evt.currentTarget.getAttribute(\"aria-expanded\") === true;\n    evt.currentTarget.setAttribute(\"aria-expanded\", !ariaExpanded);\n    list.classList.toggle(classes.visible);\n  }\n\n  function handleBodyClick(evt) {\n    const isOption = has([node], evt.target).length > 0;\n    const isVisible = list.classList.contains(classes.visible);\n\n    if (isVisible && !isOption) {\n      hideList();\n    }\n  }\n\n  function hideList() {\n    toggle.setAttribute(\"aria-expanded\", false);\n    list.classList.remove(classes.visible);\n  }\n\n  function unload() {\n    events.forEach(evt => evt());\n  }\n\n  return { unload };\n}\n","import { listen, qsa, toggle } from \"@fluorescent/dom\";\nimport { slideDown, slideUp, slideStop, isVisible } from \"slide-anim\";\n\nimport { section } from \"@/neon\";\nimport Disclosure from \"@/lib/disclosure\";\n\nconst selectors = {\n  disclosure: \"[data-disclosure]\",\n  header: \"[data-header]\",\n};\n\nsection(\"footer\", {\n  crossBorder: {},\n\n  onLoad() {\n    const headers = qsa(selectors.header, this.container);\n\n    this.headerClick = listen(headers, \"click\", handleHeaderClick);\n\n    function handleHeaderClick({ currentTarget }) {\n      const { nextElementSibling: content } = currentTarget;\n      toggle(currentTarget, \"open\", !isVisible(content));\n      slideStop(content);\n\n      if (isVisible(content)) {\n        slideUp(content);\n      } else {\n        slideDown(content);\n      }\n    }\n\n    // Wire up Cross Border disclosures\n    const cbSelectors = qsa(selectors.disclosure, this.container);\n\n    if (cbSelectors) {\n      cbSelectors.forEach(selector => {\n        const { disclosure: d } = selector.dataset;\n        this.crossBorder[d] = Disclosure(selector);\n      });\n    }\n  },\n\n  onUnload() {\n    this.headerClick();\n    Object.keys(this.crossBorder).forEach(t => this.crossBorder[t].unload());\n  },\n});\n","import { section } from \"@/neon\";\nimport mobileCarousel from \"@/lib/mobile-carousel\";\n\nconst sel = {\n  slider: \"[data-slider]\",\n};\n\nsection(\"gallery\", {\n  onLoad() {\n    const slider = this.container.querySelector(sel.slider);\n    this.mobileCarousel = mobileCarousel(slider);\n  },\n\n  onUnload() {\n    this.mobileCarousel.destroy();\n  },\n\n  onBlockSelect({ target }) {\n    this.mobileCarousel.select(target.dataset.index);\n  },\n});\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","export default fn => e => {\n  e.preventDefault();\n  fn();\n};\n","export default {\n  add: `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\" fill=\"currentColor\" />\n    </svg>\n  `,\n  remove: `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M19 13H5v-2h14v2z\" fill=\"currentColor\" />\n    </svg>\n  `,\n};\n","import { add, listen, qs, qsa, remove, toggle } from \"@fluorescent/dom\";\nimport { getSizedImageUrl } from \"@/lib/images\";\nimport Delegate from \"ftdomdelegate\";\nimport { on } from \"evx\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport { createFocusTrap } from \"focus-trap\";\nimport { renderUnitPrice } from \"@/lib/unit-pricing\";\n\nimport { cart, formatMoney, getProduct } from \"@/neon\";\n\nimport { handleForm } from \"@/lib/quick-add\";\nimport svg from \"@/lib/svg\";\n\nimport { dispatchCustomEvent, CustomEvents } from \"@/lib/dispatch-custom-event\";\n\nconst { strings } = window.theme;\n\nexport default function QuickCart(node) {\n  const delegate = new Delegate(node);\n  const overlay = qs(\"[data-overlay]\", node);\n\n  const cartTab = qs(\"[data-cart]\", node);\n  const configureTab = qs(\"[data-configure]\", node);\n\n  // Cart\n  const itemsContainer = qs(\"[data-items]\", node);\n  const empty = qs(\"[data-empty]\", node);\n  const footer = qs(\"[data-footer]\", node);\n  const discounts = qs(\"[data-discounts]\", footer);\n  const subtotal = qs(\"[data-subtotal]\", footer);\n\n  // Configure\n  const addContainer = qs(\"[data-add]\", configureTab);\n  const contents = qs(\"[data-contents]\", addContainer);\n\n  delegate.on(\"click\", \"button[data-decrease]\", (_, target) => {\n    const qty = parseInt(qs(\"[data-qty]\", target.parentNode).innerHTML) - 1;\n    cart.updateItem(target.dataset.decrease, qty);\n  });\n\n  delegate.on(\"click\", \"button[data-increase]\", (_, target) => {\n    const qty = parseInt(qs(\"[data-qty]\", target.parentNode).innerHTML) + 1;\n    cart.updateItem(target.dataset.increase, qty);\n  });\n\n  delegate.on(\"click\", \".quick-cart__item-remove\", (_, target) => {\n    cart.updateItem(target.dataset.itemId, 0);\n  });\n\n  const cartTrap = createFocusTrap(cartTab, {\n    allowOutsideClick: true,\n    escapeDeactivates: false,\n  });\n\n  const configureTrap = createFocusTrap(configureTab, {\n    allowOutsideClick: true,\n    escapeDeactivates: false,\n  });\n\n  // Initial cart fetch\n  cart.get().then(renderCart);\n\n  // On every update\n  on(\"cart:updated\", ({ cart }) => renderCart(cart));\n  dispatchCustomEvent(CustomEvents.cartUpdated, { cart: cart });\n\n  const overlayClick = listen(overlay, \"click\", close);\n  const closeClick = listen(qsa(\"[data-close]\", node), \"click\", close);\n  const keyDown = listen(node, \"keydown\", checkEscape);\n\n  on(\"cart:open\", (_, { flash }) => open(flash));\n\n  on(\"cart:configureLoading\", () => {\n    open(false, true);\n    remove(cartTab, \"visible\");\n    add(configureTab, \"visible\");\n  });\n\n  on(\"cart:configureReady\", (_, { html, handle }) => {\n    const product = getProduct(handle);\n    product(data => {\n      remove(addContainer, \"loading\");\n      contents.innerHTML = html;\n\n      handleForm(data, configureTab);\n      configureTrap.activate();\n      dispatchCustomEvent(CustomEvents.quickViewLoaded);\n    });\n  });\n\n  function open(variant, configure) {\n    add(node, \"active\");\n    setTimeout(() => {\n      disableBodyScroll(node, {\n        allowTouchMove: el => {\n          while (el && el !== document.body) {\n            if (el.getAttribute(\"data-scroll-lock-ignore\") !== null) {\n              return true;\n            }\n            el = el.parentNode;\n          }\n        },\n        reserveScrollBarGap: true,\n      });\n      add(node, \"visible\");\n\n      dispatchCustomEvent(CustomEvents.quickCartOpen);\n      toggle(configureTab, \"visible\", configure === true);\n      toggle(cartTab, \"visible\", !configure);\n\n      !configure && cartTrap.activate();\n\n      // Flash a product when opening\n      if (variant) {\n        add(qs(`[data-id=\"${variant}\"]`, node), \"flash\");\n        setTimeout(() => {\n          remove(qs(`[data-id=\"${variant}\"]`, node), \"flash\");\n        }, 2000);\n      }\n    }, 50);\n  }\n\n  function close() {\n    remove(node, \"visible\");\n    setTimeout(() => {\n      remove(node, \"active\");\n      enableBodyScroll(node);\n\n      remove(configureTab, \"visible\");\n      add(addContainer, \"loading\");\n      add(cartTab, \"visible\");\n\n      cartTrap.deactivate();\n      configureTrap.deactivate();\n      dispatchCustomEvent(CustomEvents.quickCartClose);\n    }, 350);\n  }\n\n  function checkEscape({ keyCode }) {\n    if (keyCode === 27) close();\n  }\n\n  function renderCart(cart) {\n    const { cart_level_discount_applications: cartDiscounts } = cart;\n    itemsContainer.innerHTML = renderItems(cart);\n    discounts.innerHTML = renderCartDiscounts(cartDiscounts);\n\n    toggle(footer, \"visible\", cart.sorted.length);\n    toggle(empty, \"visible\", !cart.sorted.length);\n    toggle(discounts, \"visible\", cartDiscounts.length);\n    if (subtotal) {\n      subtotal.innerHTML = formatMoney(cart.total_price);\n    }\n  }\n\n  function renderItems({ sorted }) {\n    return r(\n      sorted.length > 0,\n      sorted.reduce((markup, item) => (markup += createItem(item)), \"\")\n    );\n  }\n\n  function destroy() {\n    overlayClick();\n    keyDown();\n    closeClick();\n  }\n\n  return { open, close, destroy };\n}\n\nfunction createItem({ line_level_discount_allocations: discounts, ...item }) {\n  const imgSrc = item.featured_image ? item.featured_image.url : item.image;\n  const imgAlt = item.featured_image ? item.featured_image.alt : \"\";\n  const imgUrl = imgSrc && getSizedImageUrl(imgSrc, \"120x\");\n  const image = r(\n    imgSrc,\n    `<img class=\"image__img lazyload\" alt=\"${imgAlt}\" data-src=\"${imgUrl}\" />`\n  );\n\n  const sellingPlanName = item.selling_plan_allocation\n    ? `<p class=\"fs-body-small c-subdued\">${item.selling_plan_allocation.selling_plan.name}</p>`\n    : ``;\n\n  return `\n    <div class=\"quick-cart__item ff-body\" data-id=\"${item.variant_id}\">\n      <div class=\"quick-cart__item-left\">\n        <a href=\"${item.url}\">\n          <div class=\"quick-cart__image\">${image}</div>\n        </a>\n        <div class=\"quick-cart__control\">\n          <button class=\"quick-cart__button\" data-decrease=\"${\n            item.variant_id\n          }\" href=\"#\" aria-label=\"${strings.cart.subtractProductQuantity}\">\n            ${svg.remove}\n          </button>\n          <div class=\"quick-cart__qty ff-body ta-c\" data-qty>${\n            item.quantity\n          }</div>\n          <button class=\"quick-cart__button\" data-increase=\"${\n            item.variant_id\n          }\" href=\"#\" aria-label=\"${strings.cart.addProductQuantity}\">\n            ${svg.add}\n          </button>\n        </div>\n      </div>\n      <div class=\"quick-cart__item-right\">\n        <h4><a href=\"${item.url}\">${item.product_title}</a></h4>\n        <div>\n          ${r(\n            item.original_price > item.final_price,\n            `<s class=\"qty\">${formatMoney(item.original_price)}</s>`\n          )}\n          ${formatMoney(item.final_price)}\n          ${r(\n            item.quantity > 1,\n            `<span class=\"c-subdued\">x ${item.quantity}</span>`\n          )}\n        </div>\n        ${renderOptions(item)}\n        ${renderLineDiscounts(discounts)}\n        ${renderUnitPrice(item.unit_price, item.unit_price_measurement)}\n        ${sellingPlanName}\n        <a role=\"button\" href=\"#\" class=\"quick-cart__item-remove\" data-item-id=\"${\n          item.variant_id\n        }\">${strings.cart.remove}</a>\n      </div>\n    </div>\n  `;\n}\n\nfunction renderOptions({ options_with_values: options, variant_title }) {\n  return r(\n    options.length > 0 && variant_title,\n    options.reduce(\n      (markup, { name, value }) => markup + `<div>${name}: ${value}</div>`,\n      \"\"\n    )\n  );\n}\n\nfunction renderCartDiscounts(discounts) {\n  return r(\n    Boolean(discounts.length),\n    `\n      <ul>\n        ${discounts.map(\n          ({ title, total_allocated_amount: value }) =>\n            `<div>${title} (-${formatMoney(value)})</div>`\n        )}\n      </ul>\n    `\n  );\n}\n\nfunction renderLineDiscounts(discounts) {\n  const formatted_discounts = discounts.map(\n    ({ amount, discount_application: { title } }) => {\n      return `<li>${title} (-${formatMoney(amount)})</li>`;\n    }\n  );\n\n  return r(\n    Boolean(discounts.length),\n    `<ul class=\"quick-cart__item-discounts c-subdued\">${formatted_discounts}</ul>`\n  );\n}\n\nfunction r(bool, whenTrue) {\n  return bool ? whenTrue : ``;\n}\n","export default function PredictiveSearch(resultsContainer) {\n  const cachedResults = {};\n\n  function renderSearchResults(resultsMarkup) {\n    resultsContainer.innerHTML = resultsMarkup;\n  }\n\n  function getSearchResults(searchTerm) {\n    const queryKey = searchTerm.replace(\" \", \"-\").toLowerCase();\n\n    // Render result if it appears within the cache\n    if (cachedResults[`${queryKey}`]) {\n      renderSearchResults(cachedResults[`${queryKey}`]);\n      return;\n    }\n\n    fetch(\n      `${window.theme.routes.predictive_search_url}?q=${encodeURIComponent(\n        searchTerm\n      )}&section_id=predictive-search`\n    )\n      .then(response => {\n        if (!response.ok) {\n          const error = new Error(response.status);\n          throw error;\n        }\n\n        return response.text();\n      })\n      .then(text => {\n        let resultsMarkup = new DOMParser()\n          .parseFromString(text, \"text/html\")\n          .querySelector(\"#shopify-section-predictive-search\").innerHTML;\n\n        // Cache results\n        cachedResults[queryKey] = resultsMarkup;\n        renderSearchResults(resultsMarkup);\n      })\n      .catch(error => {\n        throw error;\n      });\n  }\n\n  return { getSearchResults };\n}\n","import PredictiveSearch from \"@/lib/predictive-search\";\n\nimport { add, listen, qs, remove, toggle } from \"@fluorescent/dom\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport { createFocusTrap } from \"focus-trap\";\n\nconst classes = {\n  active: \"active\",\n  visible: \"visible\",\n};\n\nexport default function (node) {\n  const overlay = qs(\"[data-overlay]\", node);\n  const form = qs(\"form\", node);\n  const input = qs(\"[data-input]\", node);\n  const clear = qs(\"[data-clear]\", node);\n  const resultsContainer = qs(\"[data-results]\", node);\n  const focusTrap = createFocusTrap(node);\n\n  // This gets replaced with a focus trapping util on `open` however\n  // this should prevent any errors if the quick search is destroyed\n  // when it wasn't open\n  let lockbox = () => {};\n\n  const overlayClick = listen(overlay, \"click\", close);\n  const clearClick = listen(clear, \"click\", reset);\n  const keyDown = listen(node, \"keydown\", checkEscape);\n  const inputChange = listen(input, \"input\", handleInput);\n\n  const predictiveSearch = new PredictiveSearch(resultsContainer);\n\n  function handleInput(e) {\n    let populated = e.target.value !== \"\";\n    if (e.target.value === \"\") remove(resultsContainer, classes.visible);\n    toggle(clear, classes.visible, populated);\n    toggle(resultsContainer, classes.visible, populated);\n    clear.setAttribute(\"tabindex\", populated ? 0 : -1);\n\n    predictiveSearch.getSearchResults(e.target.value);\n  }\n\n  function checkEscape({ keyCode }) {\n    if (keyCode === 27) close();\n  }\n\n  // Clear contents of the search input and hide results container\n  function reset(e) {\n    e.preventDefault();\n    input.value = \"\";\n    remove([resultsContainer, clear], classes.visible);\n\n    input.focus();\n  }\n\n  function open() {\n    add(node, classes.active);\n    setTimeout(() => {\n      focusTrap.activate();\n      disableBodyScroll(node, { reserveScrollBarGap: true });\n      add(node, classes.visible);\n    }, 50);\n  }\n\n  function close() {\n    remove(node, classes.visible);\n    setTimeout(() => {\n      remove(node, classes.active);\n      enableBodyScroll(node);\n      lockbox();\n      focusTrap.deactivate();\n    }, 350);\n  }\n\n  function destroy() {\n    close();\n\n    overlayClick();\n    clearClick();\n    keyDown();\n    inputChange();\n  }\n\n  return { open, close, destroy };\n}\n","import { add, listen, qs, qsa, remove, toggle } from \"@fluorescent/dom\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport { createFocusTrap } from \"focus-trap\";\n\nconst selectors = {\n  collection: \"[data-collection]\",\n  image: \"[data-image]\",\n  overlay: \"[data-overlay]\",\n  trigger: \"[data-trigger]\",\n  submenu: \"[data-submenu]\",\n};\n\nexport default function MegaNavLegacy(node) {\n  const image = qs(selectors.image, node);\n  const parents = qsa(selectors.trigger, node);\n  const submenus = qsa(selectors.submenu, node);\n  const collections = qsa(selectors.collection, node);\n  const focusTrap = createFocusTrap(node);\n\n  const images = qsa(\".image\", node);\n  const defaultImage = qs(\".image--mega-nav-legacy-image\", node);\n\n  const showImages = node.dataset.showImages === \"true\";\n\n  let imageOpen = showImages;\n\n  const events = [\n    // Click on the overlay and close mega nav\n    listen(qs(selectors.overlay, node), \"click\", close),\n\n    // Click on a parent item and show child nav\n    listen(parents, \"click\", e => {\n      e.preventDefault();\n      const { trigger: triggerId } = e.currentTarget.dataset;\n\n      // Hide the image\n      if (showImages) {\n        remove(image, \"visible\");\n        remove(defaultImage, \"active\");\n        imageOpen = false;\n      }\n\n      submenus.forEach(menu => {\n        const { submenu: id } = menu.dataset;\n        toggle(menu, \"visible\", id === triggerId);\n        menu.toggleAttribute(\"hidden\", id !== triggerId);\n\n        if (id === triggerId) {\n          qs(\"a\", menu).focus();\n        }\n      });\n    }),\n\n    // Show image when hovering over some link items\n    showImages &&\n      listen(collections, \"mouseover\", e => {\n        const { collection } = e.currentTarget.dataset;\n        images.forEach(image => {\n          toggle(\n            image,\n            \"active\",\n            image.classList.contains(`image--${collection}`)\n          );\n        });\n\n        if (!imageOpen) {\n          add(image, \"visible\");\n        }\n      }),\n\n    // Hide image when hover removed\n    showImages &&\n      listen(collections, \"mouseout\", () => {\n        remove(images, \"active\");\n        defaultImage && toggle(defaultImage, \"active\", imageOpen);\n        toggle(image, \"visible\", imageOpen);\n      }),\n\n    // Close on escape\n    listen(node, \"keydown\", ({ keyCode }) => {\n      if (keyCode === 27) close();\n    }),\n  ].filter(Boolean);\n\n  function open(options = {}) {\n    add(node, \"active\");\n\n    if (options.leftPosition) {\n      let leftPosition = options.leftPosition;\n\n      // Avoid dropdown from being displayed off\n      const edgeMargin = 30;\n      const rect = node.getBoundingClientRect();\n      const viewportWidth = window.innerWidth;\n\n      if (rect && leftPosition + rect.width + edgeMargin > viewportWidth) {\n        leftPosition = viewportWidth - rect.width - edgeMargin;\n      }\n      node.style.left = `${leftPosition}px`;\n    }\n\n    setTimeout(() => {\n      focusTrap.activate();\n      disableBodyScroll(node, { reserveScrollBarGap: true });\n      add(node, \"visible\");\n      node.removeAttribute(\"hidden\");\n\n      showImages && add(defaultImage, \"active\");\n    }, 50);\n  }\n\n  function close() {\n    remove(node, \"visible\");\n    node.setAttribute(\"hidden\", \"\");\n\n    setTimeout(() => {\n      remove(node, \"active\");\n      enableBodyScroll(node);\n      focusTrap.deactivate();\n\n      events.forEach(evt => evt());\n    }, 350);\n  }\n\n  return { open, close };\n}\n","import { add, listen, qs, qsa, remove, toggle } from \"@fluorescent/dom\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport { createFocusTrap } from \"focus-trap\";\n\nconst selectors = {\n  collection: \"[data-collection]\",\n  image: \"[data-image]\",\n  overlay: \"[data-overlay]\",\n  trigger: \"[data-trigger]\",\n  submenu: \"[data-submenu]\",\n};\n\nexport default function MegaNav(node) {\n  const focusTrap = createFocusTrap(node);\n\n  const events = [\n    // Click on the overlay and close mega nav\n    listen(qs(selectors.overlay, node), \"click\", close),\n\n    // Close on escape\n    listen(node, \"keydown\", ({ keyCode }) => {\n      if (keyCode === 27) close();\n    }),\n  ].filter(Boolean);\n\n  function open(options = {}) {\n    add(node, \"active\");\n    setTimeout(() => {\n      focusTrap.activate();\n      disableBodyScroll(node, { reserveScrollBarGap: true });\n      add(node, \"visible\");\n      node.removeAttribute(\"hidden\");\n    }, 50);\n  }\n\n  function close() {\n    remove(node, \"visible\");\n    node.setAttribute(\"hidden\", \"\");\n    setTimeout(() => {\n      remove(node, \"active\");\n      enableBodyScroll(node);\n      focusTrap.deactivate();\n\n      events.forEach(evt => evt());\n    }, 350);\n  }\n\n  return { open, close };\n}\n","import { listen, qs, qsa, remove, toggle } from \"@fluorescent/dom\";\n\nimport { on } from \"@/neon/events\";\n\nimport MegaNavLegacy from \"@/lib/mega-nav-legacy\";\nimport MegaNav from \"@/lib/mega-nav\";\n\nexport default function Navigation(node) {\n  if (!node) return;\n\n  const parents = qsa(\"[data-parent]\", node);\n  const megaParents = qsa(\"[data-mega]\", node);\n\n  if (!parents && !megaParents) return;\n\n  let current = null;\n\n  const events = [\n    listen(document, \"click\", e => handleBodyClick(e)),\n    listen([...parents, ...megaParents], \"mouseup\", e => e.preventDefault()),\n    listen(parents, \"click\", e => e.preventDefault()),\n\n    // Close on escape\n    listen(node, \"keydown\", event => {\n      const { keyCode } = event;\n      if (keyCode === 27) closeAll(event);\n    }),\n\n    listen(parents, \"click\", e => {\n      e.preventDefault();\n\n      [...e.currentTarget.parentNode.parentNode.children]\n        .filter(el => !el.contains(e.currentTarget))\n        .forEach(el => remove(qsa(\"[data-submenu]\", el), \"active\"));\n\n      toggleMenu(e.currentTarget.parentNode, e.currentTarget);\n    }),\n\n    listen(megaParents, \"click\", e => {\n      e.preventDefault();\n      const menuLeftPosition = e.currentTarget?.getBoundingClientRect()?.left;\n\n      const megaNavLegacyEl = qs(\n        \"[data-mega-nav-legacy]\",\n        e.currentTarget.parentNode\n      );\n      const megaNavEl = qs(\"[data-mega-nav]\", e.currentTarget.parentNode);\n\n      if (megaNavLegacyEl) {\n        const megaNavLegacy = MegaNavLegacy(megaNavLegacyEl);\n        megaNavLegacy.open({ leftPosition: menuLeftPosition });\n      } else if (megaNavEl) {\n        const megaNav = MegaNav(megaNavEl);\n        megaNav.open();\n      }\n    }),\n\n    listen(qsa(\".header__links-list > li > a\", node), \"focus\", closeAll),\n\n    // Close everything when focus leaves the main menu\n    listen(qsa(\"[data-link]\", node), \"focusout\", e => {\n      if (e.relatedTarget && !e.relatedTarget.hasAttribute(\"data-link\")) {\n        closeAll();\n      }\n    }),\n\n    on(\"megaNavLegacy:open\", (_, { id }) => {\n      current = MegaNavLegacy(qs(`[data-id=\"${id}\"]`, node));\n      current.open();\n    }),\n\n    on(\"megaNav:open\", (_, { id }) => {\n      current = MegaNav(qs(`[data-id=\"${id}\"]`, node));\n      current.open();\n    }),\n\n    on([\"megaNavLegacy:close\", \"megaNav:close\"], () => {\n      current && current.close();\n    }),\n  ];\n\n  function handleBodyClick(e) {\n    if (e?.target && !e.target.closest(\"[data-submenu-parent]\")) {\n      closeAll();\n    }\n  }\n\n  function toggleMenu(listElement, linkElement) {\n    const header = qs(\"[data-section-type='header']\");\n    const menu = qs(\"[data-submenu]\", listElement);\n    const willShow = !menu.offsetWidth > 0 && !menu.offsetHeight > 0;\n\n    if (willShow && linkElement.dataset.topLevelParent) {\n      const headerLeftPosition = header?.getBoundingClientRect()?.left;\n      const menuLeftPosition = listElement?.getBoundingClientRect()?.left;\n      menu.style.left = `${menuLeftPosition - headerLeftPosition}px`;\n    }\n\n    toggle(menu, \"active\", willShow);\n  }\n\n  function closeAll(e) {\n    const focusedElement = qs(\":focus\", node);\n\n    const potentialOpenElementParent = focusedElement?.closest(\n      \"[data-submenu-parent]\"\n    );\n\n    if (\n      potentialOpenElementParent &&\n      focusedElement.parentNode !== potentialOpenElementParent\n    ) {\n      setTimeout(function () {\n        qs(\"a\", potentialOpenElementParent).focus();\n      }, 100);\n    }\n\n    remove(qsa(\"[data-submenu]\", node), \"active\");\n  }\n\n  function destroy() {\n    events.forEach(evt => evt());\n  }\n\n  return { destroy };\n}\n","import { qsa } from \"@fluorescent/dom\";\n\n/**\n * delayOffset takes an array of selectors and sets the `--delay-offset-multiplier` variable in the correct order\n * @param {node} element The section element\n * @param {items} array Array of animation items\n */\nexport default (node, items, offsetStart = 0) => {\n  let delayOffset = offsetStart;\n  items.forEach(selector => {\n    const items = qsa(selector, node);\n    items.forEach(item => {\n      item.style.setProperty(\"--delay-offset-multiplier\", delayOffset);\n      delayOffset++;\n    });\n  });\n};\n","import { qs, qsa, add, remove } from \"@fluorescent/dom\";\nimport { delayOffset } from \"@/lib/animation\";\n\nconst selectors = {\n  menuPrimary: \".drawer-menu__primary-links\",\n  subMenus: \".drawer-menu__list--sub\",\n  menuFooter: \".drawer-menu__footer\",\n  animationItem: \".animation--drawer-menu-item\",\n};\n\nconst classes = {\n  animationRevealed: \"animation--drawer-menu-revealed\",\n};\n\nexport default node => {\n  const primaryMenu = qs(selectors.menuPrimary, node);\n  const primaryMenuDirectLinks = qsa(\n    `${selectors.menuPrimary} > ${selectors.animationItem}`\n  );\n  delayOffset(primaryMenu, [`:scope > ${selectors.animationItem}`]);\n\n  const subMenus = qsa(selectors.subMenus, node);\n\n  subMenus.forEach(menu => {\n    delayOffset(menu, [`:scope > ${selectors.animationItem}`]);\n  });\n\n  const footerMenu = qs(selectors.menuFooter);\n\n  if (footerMenu) {\n    delayOffset(\n      footerMenu,\n      [\n        `:scope > ${selectors.animationItem}`,\n        `:scope  .drawer-menu__form > ${selectors.animationItem}`,\n      ],\n      primaryMenuDirectLinks.length\n    );\n  }\n\n  // Trigger the reveal animation on primary links when the drawer is opened\n  function openMain(node) {\n    add(node, classes.animationRevealed);\n  }\n  // Trigger the reveal animation on se;ected sub links when opened\n  function openSub(menu) {\n    add(menu, classes.animationRevealed);\n  }\n\n  return {\n    openMain,\n    openSub,\n  };\n};\n","import { qsa, add } from \"@fluorescent/dom\";\nimport { delayOffset } from \"@/lib/animation\";\n\nconst selectors = {\n  productItems: \".animation--grid-item:not(.animation--grid-item-revealed)\",\n};\n\nconst classes = {\n  itemRevealed: \"animation--grid-item-revealed\",\n};\n\nexport default node => {\n  setupProductItems();\n\n  function setupProductItems() {\n    const productItems = qsa(selectors.productItems, node);\n    delayOffset(node, [selectors.productItems]);\n    setTimeout(() => {\n      add(productItems, classes.itemRevealed);\n    }, 0);\n  }\n\n  return {\n    setupProductItems,\n  };\n};\n","import { qsa } from \"@fluorescent/dom\";\nimport { delayOffset } from \"@/lib/animation\";\n\nconst selectors = {\n  items: \".animation--item\",\n  slide: \".slideshow__cell\",\n};\n\nexport default node => {\n  const slides = qsa(selectors.slide, node);\n  slides.forEach(slide => delayOffset(slide, [selectors.items]));\n};\n","import { listen, qs, remove, toggle } from \"@fluorescent/dom\";\nimport PredictiveSearch from \"@/lib/predictive-search\";\n\nconst selectors = {\n  clear: \"[data-search-clear]\",\n  input: \"[data-input]\",\n  results: \"[data-search-results]\",\n  search: \"[data-search-submit]\",\n};\n\nexport default function Search(container) {\n  // Elements\n  const input = qs(selectors.input, container);\n  const resultsContainer = qs(selectors.results, container);\n  const clearButton = qs(selectors.clear, container);\n  const searchButton = qs(selectors.search, container);\n\n  // Events\n  const inputChange = listen(input, \"input\", handleInputChange);\n  const clearClick = listen(clearButton, \"click\", reset);\n\n  // This gets replaced with a focus trapping util on `open` however\n  // this should prevent any errors if the quick search is destroyed\n  // when it wasn't open\n  let lockbox = () => {};\n\n  const predictiveSearch = new PredictiveSearch(resultsContainer);\n\n  function handleInputChange({ target: { value } }) {\n    toggle(\n      [resultsContainer, clearButton, searchButton],\n      \"visible\",\n      value !== \"\"\n    );\n\n    predictiveSearch.getSearchResults(value);\n  }\n\n  function reset(e) {\n    e.preventDefault();\n    input.value = \"\";\n    remove([resultsContainer, clearButton, searchButton], \"visible\");\n    resultsContainer.innerHTML = \"\";\n    input.focus();\n    lockbox();\n  }\n\n  function destroy() {\n    inputChange();\n    clearClick();\n  }\n\n  return { destroy };\n}\n","import { add, listen, qs, qsa, remove } from \"@fluorescent/dom\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport { createFocusTrap } from \"focus-trap\";\nimport { disableLinks, enableLinks } from \"@/lib/a11y\";\nimport { animateDrawerMenu } from \"@/lib/animation\";\n\nimport Search from \"@/lib/search\";\n\nconst sel = {\n  overlay: \"[data-overlay]\",\n  listItem: \"[data-list-item]\",\n  item: \"[data-item]\",\n  allLinks: \"[data-all-links]\",\n  main: \"[data-main]\",\n  primary: \"[data-primary-container]\",\n  footer: \"[data-footer]\",\n  searchSettings: \"[data-search-settings]\",\n  link: \".drawer-menu__link\",\n  subMenuLinks: \".drawer-menu__item > .drawer-menu__link\",\n  topLevelLinks: '[data-depth=\"0\"] > .drawer-menu__item > .drawer-menu__link',\n\n  // Cross border\n  form: \".drawer-menu__form\",\n  localeInput: \"[data-locale-input]\",\n  currencyInput: \"[data-currency-input]\",\n};\n\nconst classes = {\n  active: \"active\",\n  visible: \"visible\",\n  childVisible: \"child-visible\",\n  countrySelector: \"drawer-menu__list--country-selector\",\n};\n\n// Extra space we add to the height of the inner container\nconst formatHeight = h => h + 8 + \"px\";\n\nconst menu = node => {\n  const focusTrap = createFocusTrap(node, {\n    initialFocus: \".drawer-menu__link\",\n    allowOutsideClick: true,\n  });\n  const { theme } = window;\n\n  // Entire links container\n  let primaryDepth = 0;\n  // The individual link list the merchant selected\n  let linksDepth = 0;\n\n  // Element that holds all links, primary and secondary\n  const everything = qs(sel.allLinks, node);\n\n  // This is the element that holds the one we move left and right (primary)\n  // We also need to assign its height initially so we get smooth transitions\n  const main = qs(sel.main, node);\n\n  // Element that holds all the primary links and moves left and right\n  const primary = qs(sel.primary, node);\n\n  // Cross border\n  const form = qs(sel.form, node);\n  const localeInput = qs(sel.localeInput, node);\n  const currencyInput = qs(sel.currencyInput, node);\n\n  const search = Search(node);\n\n  // Nodes\n  const overlay = qs(sel.overlay, node);\n  const parents = qsa('[data-item=\"parent\"]', node);\n  const parentBack = qsa('[data-item=\"back\"]', node);\n  const secondary = qsa('[data-item=\"secondary\"]', node);\n  const secondaryBack = qsa('[data-item=\"secondaryHeading\"]', node);\n  const languages = qsa('[data-item=\"locale\"]', node);\n  const currencies = qsa('[data-item=\"currency\"]', node);\n\n  const events = [\n    // Click on overlay\n    listen(overlay, \"click\", close),\n\n    // Esc pressed\n    listen(node, \"keydown\", ({ keyCode }) => {\n      if (keyCode === 27) close();\n    }),\n\n    // Element that will navigate to child navigation list\n    listen(parents, \"click\", clickParent),\n\n    // Element that will navigate back up the tree\n    listen(parentBack, \"click\", clickBack),\n\n    // Account, currency, and language link at the bottom\n    listen(secondary, \"click\", handleSecondaryLink),\n\n    // Back link within 'Currency' or 'Language'\n    listen(secondaryBack, \"click\", handleBackFromSecondaryMenu),\n\n    // Individual language\n    listen(languages, \"click\", e => handleCrossBorder(e, localeInput)),\n\n    // Individual currency\n    listen(currencies, \"click\", e => handleCrossBorder(e, currencyInput)),\n  ];\n\n  const drawerAnimations = animateDrawerMenu(node);\n\n  function open() {\n    add(node, classes.active);\n\n    add(node, classes.visible);\n    focusTrap.activate();\n\n    disableBodyScroll(node, {\n      allowTouchMove: el => {\n        while (el && el !== document.body) {\n          if (el.getAttribute(\"data-scroll-lock-ignore\") !== null) {\n            return true;\n          }\n          el = el.parentNode;\n        }\n      },\n      reserveScrollBarGap: true,\n    });\n\n    if (primaryDepth === 0 && linksDepth === 0) {\n      main.style.height = formatHeight(primary.offsetHeight);\n      drawerAnimations.openMain(everything);\n    }\n  }\n\n  function close() {\n    focusTrap.deactivate();\n    remove(node, classes.visible);\n    setTimeout(() => {\n      remove(node, classes.active);\n      enableBodyScroll(node);\n    }, 350);\n  }\n\n  function clickParent(e) {\n    e.preventDefault();\n    const link = e.currentTarget;\n    const childMenu = link.nextElementSibling;\n    const firstFocusable = qs(\".drawer-menu__link\", childMenu);\n\n    setTimeout(() => {\n      firstFocusable.focus();\n    }, 250);\n\n    add(childMenu, classes.visible);\n    add(link.parentNode, classes.childVisible);\n\n    main.style.height = formatHeight(childMenu.offsetHeight);\n\n    const elements = qsa(`:scope > ${sel.listItem}`, childMenu);\n\n    let links = qsa(`:scope > ${sel.subMenuLinks}`, childMenu);\n\n    drawerAnimations.openSub(elements[0].parentNode);\n\n    navigate((linksDepth += 1));\n\n    disableAllLinksExcept(links, true);\n    link.setAttribute(\"aria-expanded\", true);\n    childMenu.setAttribute(\"aria-hidden\", false);\n  }\n\n  function disableAllLinksExcept(links, addFooterLinks) {\n    // We also want to always enable footer items as they are always visible\n    const toDisable = qsa(`${sel.link}`, node);\n\n    let linksToEnable = links;\n\n    if (addFooterLinks) {\n      linksToEnable.push(...qsa(`${sel.footer} ${sel.link}`, node));\n    }\n\n    disableLinks(toDisable);\n    enableLinks(linksToEnable);\n  }\n\n  function navigate(depth) {\n    linksDepth = depth;\n    primary.setAttribute(\"data-depth\", depth);\n  }\n\n  function navigatePrimary(depth) {\n    primaryDepth = depth;\n    everything.setAttribute(\"data-depth\", depth);\n  }\n\n  function clickBack(e) {\n    e.preventDefault();\n\n    const menuBefore = e.currentTarget.closest(sel.listItem).closest(\"ul\");\n    const firstFocusable = qs(\".drawer-menu__link\", menuBefore);\n    const menu = e.currentTarget.closest(\"ul\");\n    const parentLink = qs(\".drawer-menu__link\", menu.parentNode);\n    const menuBeforeLinks = qsa(`:scope > ${sel.subMenuLinks}`, menuBefore);\n\n    main.style.height = formatHeight(menuBefore.offsetHeight);\n\n    remove(menu, classes.visible);\n    remove(parentLink.parentNode, classes.childVisible);\n    navigate((linksDepth -= 1));\n\n    parentLink.setAttribute(\"aria-expanded\", false);\n    menu.setAttribute(\"aria-hidden\", true);\n\n    disableAllLinksExcept(menuBeforeLinks, true);\n\n    setTimeout(() => {\n      firstFocusable.focus();\n    }, 250);\n  }\n\n  function handleSecondaryLink(e) {\n    e.preventDefault();\n    navigatePrimary(1);\n    const childMenu = e.currentTarget.nextElementSibling;\n    add(childMenu, classes.visible);\n\n    const elements = qsa(sel.link, childMenu);\n\n    // let links = qsa(`:scope > ${sel.subMenuLinks}`, childMenu);\n\n    disableAllLinksExcept(elements);\n\n    if (!childMenu.classList.contains(classes.countrySelector)) {\n      drawerAnimations.openSub(elements[0].parentNode);\n    }\n\n    // const firstFocusable = qs('.drawer-menu__link', childMenu);\n\n    setTimeout(() => {\n      elements[0].focus();\n    }, 250);\n  }\n\n  function handleBackFromSecondaryMenu(e) {\n    e.preventDefault();\n    navigatePrimary(0);\n\n    const topLeveLinks = qsa(`${sel.topLevelLinks}`, node);\n\n    disableAllLinksExcept(topLeveLinks, true);\n    const parent = e.currentTarget.closest(\"ul\");\n    remove(parent, classes.visible);\n\n    setTimeout(() => {\n      topLeveLinks[0].focus();\n    }, 250);\n  }\n\n  function handleCrossBorder(e, input) {\n    const { value } = e.currentTarget.dataset;\n    input.value = value;\n    close();\n    form.submit();\n  }\n\n  function destroy() {\n    events.forEach(unsubscribe => unsubscribe());\n    enableBodyScroll(node);\n    search.destroy();\n  }\n\n  return { close, destroy, open };\n};\n\nexport default menu;\n","import ResizeObserver from \"resize-observer-polyfill\";\nimport { add, contains, listen, qs, remove, toggle } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\nimport { emit, on } from \"@/neon/events\";\nimport { preventDefault } from \"@/utils\";\n\nimport QuickCart from \"@/lib/quick-cart\";\nimport QuickSearch from \"@/lib/quick-search\";\nimport Navigation from \"@/lib/navigation\";\nimport Menu from \"@/lib/drawer-menu\";\n\nfunction setHeaderHeightVar(height) {\n  document.documentElement.style.setProperty(\"--height-header\", height + \"px\");\n}\n\nsection(\"header\", {\n  onLoad() {\n    const { enableQuickCart, enableQuickAddToCart } = document.body.dataset;\n    const cartIcon = qs(\"[data-js-cart-icon]\", this.container);\n    const cartIndicator = qs(\"[data-js-cart-indicator]\", cartIcon);\n    const count = qs(\"[data-js-cart-count]\", this.container);\n    const menuButton = qs(\"[data-js-menu-button]\", this.container);\n    const searchButton = qs(\"[data-search]\", this.container);\n    const space = qs(\"[data-header-space]\", document);\n\n    const menu = Menu(qs(\"[data-drawer-menu]\"));\n    const quickSearch = QuickSearch(qs(\"[data-quick-search]\", this.container));\n    const navigation = Navigation(qs(\"[data-navigation]\", this.container));\n\n    // These all return a function for cleanup\n    this.listeners = [\n      on(\"cart:updated\", ({ cart }) => {\n        remove(cartIndicator, \"visible\");\n        setTimeout(() => add(cartIndicator, \"visible\"), 500);\n        count.innerHTML = cart.item_count;\n      }),\n\n      listen(menuButton, \"click\", preventDefault(menu.open)),\n      listen(searchButton, \"click\", preventDefault(quickSearch.open)),\n    ];\n\n    // Components return a destroy function for cleanup\n    this.components = [menu, quickSearch, navigation];\n\n    if (enableQuickCart || enableQuickAddToCart) {\n      const quickCart = QuickCart(qs(\"[data-quick-cart]\", this.container));\n      this.components.push(quickCart);\n\n      if (enableQuickCart) {\n        this.listeners.push(\n          listen(cartIcon, \"click\", preventDefault(quickCart.open))\n        );\n      }\n    }\n\n    // Our header is always sticky (with position: sticky) however at some\n    // point we want to adjust the styling (eg. box-shadow) so we toggle\n    // the is-sticky class when our arbitrary space element (.header__space)\n    // goes in and out of the viewport.\n    this.io = new IntersectionObserver(([{ isIntersecting: visible }]) => {\n      toggle(this.container, \"is-sticky\", !visible);\n    });\n    this.io.observe(space);\n\n    // This will watch the height of the header and update the --height-header\n    // css variable when necessary. That var gets used for the negative top margin\n    // to render the page body under the transparent header\n    this.ro = new ResizeObserver(([{ target }]) => {\n      if (!contains(target, \"is-sticky\")) {\n        setHeaderHeightVar(target.offsetHeight);\n      }\n    });\n    this.ro.observe(this.container);\n  },\n\n  onUnload() {\n    this.listeners.forEach(l => l());\n    this.components.forEach(c => c.destroy());\n\n    this.io.disconnect();\n    this.ro.disconnect();\n  },\n\n  onBlockSelect({ target }) {\n    if (target.dataset.megaNavLegacy === \"\") {\n      emit(\"megaNavLegacy:open\", null, { id: target.dataset.id });\n    } else if (target.dataset.megaNav === \"\") {\n      emit(\"megaNav:open\", null, { id: target.dataset.id });\n    }\n  },\n\n  onBlockDeselect({ target }) {\n    if (target.dataset.megaNavLegacy === \"\") {\n      emit(\"megaNavLegacy:close\");\n    } else if (target.dataset.megaNav === \"\") {\n      emit(\"megaNav:close\");\n    }\n  },\n});\n","import { section } from \"@/neon\";\n\nsection(\"image-with-text\", {\n  onLoad() {},\n  onUnload() {},\n});\n","import { section } from \"@/neon\";\n\nsection(\"newsletter\", {\n  onLoad() {},\n  onUnload() {},\n});\n","'use strict'\r\n\r\nmodule.exports = isMobile\r\nmodule.exports.isMobile = isMobile\r\nmodule.exports.default = isMobile\r\n\r\nvar mobileRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i\r\n\r\nvar tabletRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i\r\n\r\nfunction isMobile (opts) {\r\n  if (!opts) opts = {}\r\n  var ua = opts.ua\r\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent\r\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\r\n    ua = ua.headers['user-agent']\r\n  }\r\n  if (typeof ua !== 'string') return false\r\n\r\n  var result = opts.tablet ? tabletRE.test(ua) : mobileRE.test(ua)\r\n\r\n  if (\r\n    !result &&\r\n    opts.tablet &&\r\n    opts.featureDetect &&\r\n    navigator &&\r\n    navigator.maxTouchPoints > 1 &&\r\n    ua.indexOf('Macintosh') !== -1 &&\r\n    ua.indexOf('Safari') !== -1\r\n  ) {\r\n    result = true\r\n  }\r\n\r\n  return result\r\n}\r\n","function localStorageAvailable() {\n  var test = \"test\";\n  try {\n    localStorage.setItem(test, test);\n    if (localStorage.getItem(test) !== test) {\n      return false;\n    }\n    localStorage.removeItem(test);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nconst PREFIX = \"fluco_\";\n\nfunction getStorage(key) {\n  if (!localStorageAvailable()) return null;\n  return JSON.parse(localStorage.getItem(PREFIX + key));\n}\n\nfunction removeStorage(key) {\n  if (!localStorageAvailable()) return null;\n  localStorage.removeItem(PREFIX + key);\n  return true;\n}\n\nfunction setStorage(key, val) {\n  if (!localStorageAvailable()) return null;\n  localStorage.setItem(PREFIX + key, val);\n  return true;\n}\n\nexport { getStorage, removeStorage, setStorage };\n","import isMobile from \"is-mobile\";\nimport { add, listen, qs, remove } from \"@fluorescent/dom\";\nimport { getStorage, setStorage } from \"@/lib/storage\";\nimport { createFocusTrap } from \"focus-trap\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\n\nexport default function Popup(container) {\n  const focusTrap = createFocusTrap(container, {\n    allowOutsideClick: true,\n  });\n  const { id, popupType, timeout } = container.dataset;\n  const storageKey = `popup-${id}`;\n  const ageVerifiedKey = `age-verified-${id}`;\n  const ageIsVerified = Boolean(getStorage(ageVerifiedKey));\n\n  let bodyLeave = () => {};\n  const mouseleave = e => {\n    if (!e.relatedTarget && !e.toElement) {\n      showPopup();\n      bodyLeave();\n    }\n  };\n  const events = [];\n\n  // Initialize popup based on type\n  const popupTypes = {\n    \"age_popup\": () => {\n      const verifyBtn = qs(\"[data-verify-age]\", container);\n      if (verifyBtn && !window.Shopify.designMode) {\n        events.push(\n          listen([verifyBtn], \"click\", e => {\n            e.preventDefault();\n            hidePopup();\n          })\n        );\n      }\n\n      if (!ageIsVerified) {\n        showPopup();\n      }\n    },\n    \"popup\": () => {\n      if (!window.Shopify.designMode) {\n        const closeBtn = qs(\"[data-close]\", container);\n        const overlay = qs(\"[data-overlay]\", container);\n        events.push(\n          listen([closeBtn, overlay], \"click\", e => {\n            e.preventDefault();\n            hidePopup();\n          })\n        );\n\n        events.push(\n          listen(container, \"keydown\", ({ keyCode }) => {\n            if (keyCode === 27) hidePopup();\n          })\n        );\n      }\n\n      if (!getStorage(storageKey) && isMobile()) {\n        setTimeout(() => showPopup(), parseInt(timeout));\n      } else if (!getStorage(storageKey)) {\n        bodyLeave = listen(document.body, \"mouseout\", mouseleave);\n      }\n    },\n  };\n\n  popupTypes[popupType]();\n\n  function showPopup() {\n    add(container, \"visible\");\n    focusTrap.activate();\n\n    if (popupType === \"age_popup\") {\n      disableBodyScroll(container);\n    }\n  }\n\n  function hidePopup() {\n    setStorage(storageKey, JSON.stringify(new Date()));\n    remove(container, \"visible\");\n\n    if (popupType === \"age_popup\") {\n      setStorage(ageVerifiedKey, JSON.stringify(new Date()));\n      setTimeout(() => {\n        focusTrap.deactivate();\n        enableBodyScroll(container);\n      }, 350);\n    }\n  }\n\n  function unload() {\n    bodyLeave();\n    events.forEach(unsubscribe => unsubscribe());\n    if (popupType === \"age_popup\") {\n      focusTrap.deactivate();\n      enableBodyScroll(container);\n    }\n  }\n\n  return { unload, showPopup, hidePopup };\n}\n","import { qsa } from \"@fluorescent/dom\";\nimport Popup from \"@/lib/popup\";\n\nimport { section } from \"@/neon\";\n\nsection(\"popup\", {\n  onLoad() {\n    this.popups = qsa(\"[data-popup]\", this.container).map(popup => {\n      return { contructor: Popup(popup), element: popup };\n    });\n  },\n\n  onBlockSelect({ target }) {\n    const targetPopup = this.popups.find(o => o.element === target);\n    targetPopup.contructor.showPopup();\n  },\n\n  onBlockDeselect({ target }) {\n    const targetPopup = this.popups.find(o => o.element === target);\n    targetPopup.contructor.hidePopup();\n  },\n\n  onUnload() {\n    this.popups.forEach(popup => popup.contructor?.unload());\n  },\n});\n","import { qs } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\nimport mobileCarousel from \"@/lib/mobile-carousel\";\n\nconst sel = {\n  recommendations: \"[data-recommendations]\",\n  slider: \"[data-slider]\",\n};\n\nsection(\"recommended-products\", {\n  onLoad() {\n    const { limit, productId: id, sectionId } = this.container.dataset;\n\n    const content = qs(sel.recommendations, this.container);\n    if (!content) return;\n\n    const requestUrl = `${window.theme.routes.productRecommendations}?section_id=${sectionId}&limit=${limit}&product_id=${id}`;\n\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", requestUrl, true);\n\n    request.onload = () => {\n      if (request.status >= 200 && request.status < 300) {\n        let container = document.createElement(\"div\");\n        container.innerHTML = request.response;\n\n        // Check if the response includes a product item\n        // and if it doesn't remove the entire section\n        const item = qs(\".product-item\", container);\n        if (!item) {\n          this.container.parentNode.removeChild(this.container);\n          return;\n        }\n\n        content.innerHTML = qs(sel.recommendations, container).innerHTML;\n\n        const carousel = qs(sel.slider, content);\n\n        if (carousel) {\n          this.mobileCarousel = mobileCarousel(carousel);\n        }\n      } else {\n        // If request returns any errors remove the section markup\n        this.container.parentNode.removeChild(this.container);\n      }\n    };\n    request.send();\n  },\n\n  onUnload() {\n    this.mobileCarousel && this.mobileCarousel.destroy();\n  },\n});\n","import { qs, remove } from \"@fluorescent/dom\";\nimport { section } from \"@/neon\";\nimport mobileCarousel from \"@/lib/mobile-carousel\";\n\nconst sel = {\n  partial: \"[data-partial]\",\n  slider: \"[data-slider]\",\n};\n\nconst classes = {\n  hidden: \"hidden\",\n};\n\nsection(\"complementary-products\", {\n  onLoad() {\n    this.sectionId = this.container.dataset.sectionId;\n    this.productId = this.container.dataset.productId;\n    this.productSource = this.container.dataset.productSource;\n    this.limit = this.container.dataset.limit;\n\n    if (this.productSource === \"app-recommendations\") {\n      this.handleRecommendedProducts();\n    } else {\n      this.initSlider();\n    }\n  },\n\n  handleRecommendedProducts() {\n    const requestUrl = `${theme.routes.productRecommendations}?section_id=${this.sectionId}&limit=${this.limit}&product_id=${this.productId}&intent=complementary`;\n\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", requestUrl, true);\n\n    request.onload = () => {\n      if (request.status >= 200 && request.status < 300) {\n        let container = document.createElement(\"div\");\n        container.innerHTML = request.response;\n\n        const item = qs(\".product-item\", container);\n        if (item) {\n          this.container.innerHTML = qs(sel.partial, container).innerHTML;\n          remove(this.container, classes.hidden);\n        }\n\n        if (Shopify.designMode) {\n          remove(this.container, classes.hidden);\n        }\n        this.initSlider();\n      }\n    };\n    request.send();\n  },\n\n  initSlider() {\n    const carousel = qs(sel.slider, this.container);\n    if (carousel) {\n      this.mobileCarousel = mobileCarousel(carousel);\n    }\n  },\n\n  onUnload() {\n    this.mobileCarousel && this.mobileCarousel.destroy();\n  },\n});\n","import { section } from \"@/neon\";\n\nsection(\"rich-text\", {\n  onLoad() {},\n  onUnload() {},\n});\n","import { add, remove, listen, qsa } from \"@fluorescent/dom\";\n\nconst selectors = {\n  dots: \".navigation-dot\",\n};\n\nconst navigationDots = (container, slider) => {\n  const navigationDots = qsa(selectors.dots, container);\n  const events = [];\n\n  navigationDots.forEach(dot => {\n    events.push(listen(dot, \"click\", e => _handlePageDot(e)));\n  });\n\n  const _handlePageDot = e => {\n    e.preventDefault();\n\n    if (e.target.classList.contains(\"is-selected\")) return;\n\n    const { slideIndex } = e.target.dataset;\n    slider.select(slideIndex);\n    slider.pausePlayer();\n  };\n\n  const update = cellIndex => {\n    const activeClass = \"is-selected\";\n\n    navigationDots.forEach(dot => remove(dot, activeClass));\n\n    add(navigationDots[cellIndex], activeClass);\n  };\n\n  const unload = () => {\n    events.forEach(unsubscribe => unsubscribe());\n  };\n\n  return { update, unload };\n};\n\nexport default navigationDots;\n","/*!\n * simpleParallax.min - simpleParallax is a simple JavaScript library that gives your website parallax animations on any images or videos, \n * @date: 20-08-2020 14:0:14, \n * @version: 5.6.2,\n * @link: https://simpleparallax.com/\n */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"simpleParallax\",[],e):\"object\"==typeof exports?exports.simpleParallax=e():t.simpleParallax=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return x}));var i=function(){return Element.prototype.closest&&\"IntersectionObserver\"in window};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.positions={top:0,bottom:0,height:0}}var e,n,i;return e=t,(n=[{key:\"setViewportTop\",value:function(t){return this.positions.top=t?t.scrollTop:window.pageYOffset,this.positions}},{key:\"setViewportBottom\",value:function(){return this.positions.bottom=this.positions.top+this.positions.height,this.positions}},{key:\"setViewportAll\",value:function(t){return this.positions.top=t?t.scrollTop:window.pageYOffset,this.positions.height=t?t.clientHeight:document.documentElement.clientHeight,this.positions.bottom=this.positions.top+this.positions.height,this.positions}}])&&r(e.prototype,n),i&&r(e,i),t}()),o=function(t){return NodeList.prototype.isPrototypeOf(t)||HTMLCollection.prototype.isPrototypeOf(t)?Array.from(t):\"string\"==typeof t||t instanceof String?document.querySelectorAll(t):[t]},a=function(){for(var t,e=\"transform webkitTransform mozTransform oTransform msTransform\".split(\" \"),n=0;void 0===t;)t=void 0!==document.createElement(\"div\").style[e[n]]?e[n]:void 0,n+=1;return t}(),l=function(t){return\"img\"!==t.tagName.toLowerCase()&&\"picture\"!==t.tagName.toLowerCase()||!!t&&(!!t.complete&&(void 0===t.naturalWidth||0!==t.naturalWidth))};function u(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.element=e,this.elementContainer=e,this.settings=n,this.isVisible=!0,this.isInit=!1,this.oldTranslateValue=-1,this.init=this.init.bind(this),this.customWrapper=this.settings.customWrapper&&this.element.closest(this.settings.customWrapper)?this.element.closest(this.settings.customWrapper):null,l(e)?this.init():this.element.addEventListener(\"load\",(function(){setTimeout((function(){i.init(!0)}),50)}))}var e,n,i;return e=t,(n=[{key:\"init\",value:function(t){var e=this;this.isInit||(t&&(this.rangeMax=null),this.element.closest(\".simpleParallax\")||(!1===this.settings.overflow&&this.wrapElement(this.element),this.setTransformCSS(),this.getElementOffset(),this.intersectionObserver(),this.getTranslateValue(),this.animate(),this.settings.delay>0?setTimeout((function(){e.setTransitionCSS(),e.elementContainer.classList.add(\"simple-parallax-initialized\")}),10):this.elementContainer.classList.add(\"simple-parallax-initialized\"),this.isInit=!0))}},{key:\"wrapElement\",value:function(){var t=this.element.closest(\"picture\")||this.element,e=this.customWrapper||document.createElement(\"div\");e.classList.add(\"simpleParallax\"),e.style.overflow=\"hidden\",this.customWrapper||(t.parentNode.insertBefore(e,t),e.appendChild(t)),this.elementContainer=e}},{key:\"unWrapElement\",value:function(){var t=this.elementContainer;this.customWrapper?(t.classList.remove(\"simpleParallax\"),t.style.overflow=\"\"):t.replaceWith.apply(t,u(t.childNodes))}},{key:\"setTransformCSS\",value:function(){!1===this.settings.overflow&&(this.element.style[a]=\"scale(\".concat(this.settings.scale,\")\")),this.element.style.willChange=\"transform\"}},{key:\"setTransitionCSS\",value:function(){this.element.style.transition=\"transform \".concat(this.settings.delay,\"s \").concat(this.settings.transition)}},{key:\"unSetStyle\",value:function(){this.element.style.willChange=\"\",this.element.style[a]=\"\",this.element.style.transition=\"\"}},{key:\"getElementOffset\",value:function(){var t=this.elementContainer.getBoundingClientRect();if(this.elementHeight=t.height,this.elementTop=t.top+s.positions.top,this.settings.customContainer){var e=this.settings.customContainer.getBoundingClientRect();this.elementTop=t.top-e.top+s.positions.top}this.elementBottom=this.elementHeight+this.elementTop}},{key:\"buildThresholdList\",value:function(){for(var t=[],e=1;e<=this.elementHeight;e++){var n=e/this.elementHeight;t.push(n)}return t}},{key:\"intersectionObserver\",value:function(){var t={root:null,threshold:this.buildThresholdList()};this.observer=new IntersectionObserver(this.intersectionObserverCallback.bind(this),t),this.observer.observe(this.element)}},{key:\"intersectionObserverCallback\",value:function(t){var e=this;t.forEach((function(t){t.isIntersecting?e.isVisible=!0:e.isVisible=!1}))}},{key:\"checkIfVisible\",value:function(){return this.elementBottom>s.positions.top&&this.elementTop<s.positions.bottom}},{key:\"getRangeMax\",value:function(){var t=this.element.clientHeight;this.rangeMax=t*this.settings.scale-t}},{key:\"getTranslateValue\",value:function(){var t=((s.positions.bottom-this.elementTop)/((s.positions.height+this.elementHeight)/100)).toFixed(1);return t=Math.min(100,Math.max(0,t)),0!==this.settings.maxTransition&&t>this.settings.maxTransition&&(t=this.settings.maxTransition),this.oldPercentage!==t&&(this.rangeMax||this.getRangeMax(),this.translateValue=(t/100*this.rangeMax-this.rangeMax/2).toFixed(0),this.oldTranslateValue!==this.translateValue&&(this.oldPercentage=t,this.oldTranslateValue=this.translateValue,!0))}},{key:\"animate\",value:function(){var t,e=0,n=0;(this.settings.orientation.includes(\"left\")||this.settings.orientation.includes(\"right\"))&&(n=\"\".concat(this.settings.orientation.includes(\"left\")?-1*this.translateValue:this.translateValue,\"px\")),(this.settings.orientation.includes(\"up\")||this.settings.orientation.includes(\"down\"))&&(e=\"\".concat(this.settings.orientation.includes(\"up\")?-1*this.translateValue:this.translateValue,\"px\")),t=!1===this.settings.overflow?\"translate3d(\".concat(n,\", \").concat(e,\", 0) scale(\").concat(this.settings.scale,\")\"):\"translate3d(\".concat(n,\", \").concat(e,\", 0)\"),this.element.style[a]=t}}])&&h(e.prototype,n),i&&h(e,i),t}();function m(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(t,e)||d(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function d(t,e){if(t){if(\"string\"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var g,b,w=!1,T=[],x=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e&&i()){if(this.elements=o(e),this.defaults={delay:0,orientation:\"up\",scale:1.3,overflow:!1,transition:\"cubic-bezier(0,0,0,1)\",customContainer:\"\",customWrapper:\"\",maxTransition:0},this.settings=Object.assign(this.defaults,n),this.settings.customContainer){var r=p(o(this.settings.customContainer),1);this.customContainer=r[0]}this.lastPosition=-1,this.resizeIsDone=this.resizeIsDone.bind(this),this.refresh=this.refresh.bind(this),this.proceedRequestAnimationFrame=this.proceedRequestAnimationFrame.bind(this),this.init()}}var e,n,r;return e=t,(n=[{key:\"init\",value:function(){var t=this;s.setViewportAll(this.customContainer),T=[].concat(m(this.elements.map((function(e){return new f(e,t.settings)}))),m(T)),w||(this.proceedRequestAnimationFrame(),window.addEventListener(\"resize\",this.resizeIsDone),w=!0)}},{key:\"resizeIsDone\",value:function(){clearTimeout(b),b=setTimeout(this.refresh,200)}},{key:\"proceedRequestAnimationFrame\",value:function(){var t=this;s.setViewportTop(this.customContainer),this.lastPosition!==s.positions.top?(s.setViewportBottom(),T.forEach((function(e){t.proceedElement(e)})),g=window.requestAnimationFrame(this.proceedRequestAnimationFrame),this.lastPosition=s.positions.top):g=window.requestAnimationFrame(this.proceedRequestAnimationFrame)}},{key:\"proceedElement\",value:function(t){(this.customContainer?t.checkIfVisible():t.isVisible)&&t.getTranslateValue()&&t.animate()}},{key:\"refresh\",value:function(){s.setViewportAll(this.customContainer),T.forEach((function(t){t.getElementOffset(),t.getRangeMax()})),this.lastPosition=-1}},{key:\"destroy\",value:function(){var t=this,e=[];T=T.filter((function(n){return t.elements.includes(n.element)?(e.push(n),!1):n})),e.forEach((function(e){e.unSetStyle(),!1===t.settings.overflow&&e.unWrapElement()})),T.length||(window.cancelAnimationFrame(g),window.removeEventListener(\"resize\",this.refresh),w=!1)}}])&&v(e.prototype,n),r&&v(e,r),t}()}]).default}));","import { listen } from \"@fluorescent/dom\";\n\nconst autoPlay = videos => {\n  if (!videos.length) return;\n\n  const events = [\n    listen(window, \"click\", () => _handleAutoPlay()),\n    listen(window, \"touchstart\", () => _handleAutoPlay()),\n  ];\n\n  // Force autoplay after device interaction if in low power mode\n  function _handleAutoPlay() {\n    videos.forEach(video => {\n      if (!video.playing) {\n        video.play();\n      }\n    });\n    events.forEach(unsubscribe => unsubscribe());\n  }\n};\n\nexport default autoPlay;\n","import { add, qs, qsa, remove } from \"@fluorescent/dom\";\nimport { on, emit } from \"@/neon/events\";\nimport {\n  syncTabIndexesOnFlickity,\n  backgroundVideoHandler,\n  prefersReducedMotion,\n} from \"@/lib/a11y\";\n\nimport { section } from \"@/neon\";\nimport navigationDots from \"@/lib/navigation-dots\";\nimport simpleParallax from \"simple-parallax-js\";\nimport autoPlay from \"../lib/auto-play\";\nimport { animateSlideshow } from \"@/lib/animation\";\n\nconst sel = {\n  slider: \"[data-slider]\",\n  video: \".slideshow__video\",\n  slides: \".slideshow__cell\",\n};\n\nsection(\"slideshow\", {\n  slideshow: null,\n  events: [],\n\n  onLoad() {\n    const reduceMotion = prefersReducedMotion();\n    const slider = qs(sel.slider, this.container);\n    const { autoplay, parallax } = this.container.dataset;\n    const videos = qsa(sel.video, this.container);\n    this.videoHandlers = [];\n    this.animateSlideshow = animateSlideshow(this.container);\n    this.slides = qsa(sel.slides, this.container);\n\n    if (videos.length) {\n      videos.forEach(video => {\n        this.videoHandlers.push(backgroundVideoHandler(video.parentNode));\n        autoPlay(videos);\n      });\n    }\n\n    remove(slider, \"is-hidden\");\n    // trigger redraw for transition\n    slider.offsetHeight;\n    this.slideshow = null;\n\n    const _handleSlideBecomesVisible = (slideEl, options = {}) => {\n      const deferredVideo = qs(\".slideshow__video.deferred-load\", slideEl);\n      this.slides.forEach(slide => remove(slide, \"slide--can-animate\"));\n\n      if (deferredVideo) {\n        deferredVideo.load();\n        remove(deferredVideo, \"deferred-load\");\n\n        if (!options.reduceMotion) {\n          deferredVideo.play();\n        }\n      }\n\n      setTimeout(() => {\n        add(slideEl, \"slide--can-animate\");\n      }, options.animationDelay || 0);\n    };\n\n    import(flu.chunks.flickity).then(({ Flickity }) => {\n      this.slideshow = new Flickity(slider, {\n        adaptiveHeight: true,\n        autoPlay: !reduceMotion && Number(autoplay),\n        draggable: true,\n        prevNextButtons: false,\n        wrapAround: true,\n        pageDots: false,\n        on: {\n          ready: () => {\n            const first = qs(\"[data-slide]\", this.container);\n            var slideshow = Flickity.data(slider); // This is a pain but we can't access the instance within here\n\n            syncTabIndexesOnFlickity(slideshow);\n\n            _handleSlideBecomesVisible(first, {\n              reduceMotion,\n              animationDelay: 800,\n            }); // TODO: should this only trigger if the slide is in-view?\n          },\n        },\n      });\n\n      // Handle events with anchor slides\n      let isDragging = false;\n\n      this.slideshow.on(\"dragStart\", e => {\n        isDragging = true;\n      });\n\n      this.slideshow.on(\"dragEnd\", e => {\n        isDragging = false;\n      });\n\n      this.slideshow.on(\"staticClick\", (e, pointer, cellElement, cellIndex) => {\n        // if the cell is an anchor, redirect to the href\n        if (cellElement.tagName === \"A\") {\n          if (!isDragging) {\n            window.location.href = cellElement.getAttribute(\"href\");\n          }\n        } else {\n          // if clicked element is not an anchor go to the next slide\n          if (e.target.tagName !== \"A\") {\n            this.slideshow.next();\n          }\n        }\n      });\n\n      // Prevent default on slides that are anchor tags and delegate click handling to staticClick instead\n      const anchorCells = qsa(\"a[data-slide]\", this.container);\n      anchorCells.forEach(anchor => {\n        anchor.addEventListener(\"click\", e => {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      });\n\n      // Handle dot navigation\n      this.dotNavigation = navigationDots(this.container, this.slideshow);\n\n      this.slideshow.on(\"change\", index => {\n        const activeSlide = this.slideshow.cells[index].element;\n        this.dotNavigation && this.dotNavigation.update(index);\n        syncTabIndexesOnFlickity(this.slideshow);\n\n        _handleSlideBecomesVisible(activeSlide, {\n          reduceMotion,\n          animationDelay: 200,\n        });\n      });\n\n      emit(\"slideshow:initialized\");\n    });\n\n    if (parallax == \"true\") {\n      const images = this.container.querySelectorAll(\".image__img\");\n      this.parallax = new simpleParallax(images, {\n        customWrapper: \".slideshow__parallax-wrapper\",\n        scale: 1.5,\n      });\n    }\n  },\n\n  _handleBlockSelect(slideIndex) {\n    this.slideshow.select(slideIndex);\n    this._pause();\n  },\n\n  _pause() {\n    this.slideshow && this.slideshow.pausePlayer();\n  },\n\n  _unpause() {\n    this.slideshow && this.slideshow.unpausePlayer();\n  },\n\n  onBlockSelect({ target }) {\n    if (this.slideshow) {\n      this._handleBlockSelect(target.dataset.index);\n    } else {\n      // Listen for initalization if slideshow does not exist\n      this.events.push(\n        on(\"slideshow:initialized\", () => {\n          this._handleBlockSelect(target.dataset.index);\n        })\n      );\n    }\n  },\n\n  onBlockDeselect() {\n    if (this.slideshow) {\n      this._unpause();\n    } else {\n      // Listen for initalization if slideshow does not exist\n      this.events.push(\n        on(\"slideshow:initialized\", () => {\n          this._unpause();\n        })\n      );\n    }\n    this.parallax && this.parallax.destroy();\n  },\n\n  onUnload() {\n    this.slideshow && this.slideshow.destroy();\n    this.events.forEach(unsubscribe => unsubscribe());\n    this.videoHandlers.forEach(handler => handler());\n    this.dotNavigation && this.dotNavigation.unload();\n  },\n});\n","import { add, qs, qsa } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\nimport mobileCarousel from \"@/lib/mobile-carousel\";\n\nconst sel = {\n  image: \"img\",\n  slider: \"[data-slider]\",\n  slides: \"[data-slide]\",\n};\n\nsection(\"testimonials\", {\n  onLoad() {\n    const slider = qs(sel.slider, this.container);\n\n    const slides = qsa(sel.slides, this.container);\n    const images = qsa(sel.image, this.container);\n\n    if (images.length !== slides.length) {\n      add(this.container, \"testimonials--vertical\");\n      return;\n    }\n\n    this.mobileCarousel = mobileCarousel(slider);\n  },\n\n  onUnload() {\n    this.mobileCarousel && this.mobileCarousel.destroy();\n  },\n\n  onBlockSelect({ target }) {\n    this.mobileCarousel && this.mobileCarousel.select(target.dataset.index);\n  },\n});\n","import { section } from \"@/neon\";\nimport mobileCarousel from \"@/lib/mobile-carousel\";\n\nconst sel = {\n  slider: \"[data-slider]\",\n};\n\nsection(\"text-columns-with-images\", {\n  onLoad() {\n    const slider = this.container.querySelector(sel.slider);\n    this.mobileCarousel = mobileCarousel(slider);\n  },\n\n  onUnload() {\n    this.mobileCarousel.destroy();\n  },\n\n  onBlockSelect({ target }) {\n    this.mobileCarousel.select(target.dataset.index);\n  },\n});\n","'use strict';\n\nvar Sister;\n\n/**\n* @link https://github.com/gajus/sister for the canonical source repository\n* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause\n*/\nSister = function () {\n    var sister = {},\n        events = {};\n\n    /**\n     * @name handler\n     * @function\n     * @param {Object} data Event data.\n     */\n\n    /**\n     * @param {String} name Event name.\n     * @param {handler} handler\n     * @return {listener}\n     */\n    sister.on = function (name, handler) {\n        var listener = {name: name, handler: handler};\n        events[name] = events[name] || [];\n        events[name].unshift(listener);\n        return listener;\n    };\n\n    /**\n     * @param {listener}\n     */\n    sister.off = function (listener) {\n        var index = events[listener.name].indexOf(listener);\n\n        if (index !== -1) {\n            events[listener.name].splice(index, 1);\n        }\n    };\n\n    /**\n     * @param {String} name Event name.\n     * @param {Object} data Event data.\n     */\n    sister.trigger = function (name, data) {\n        var listeners = events[name],\n            i;\n\n        if (listeners) {\n            i = listeners.length;\n            while (i--) {\n                listeners[i].handler(data);\n            }\n        }\n    };\n\n    return sister;\n};\n\nmodule.exports = Sister;\n","\nmodule.exports = function load (src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0]\n  var script = document.createElement('script')\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  opts = opts || {}\n  cb = cb || function() {}\n\n  script.type = opts.type || 'text/javascript'\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true\n  script.src = src\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs)\n  }\n\n  if (opts.text) {\n    script.text = '' + opts.text\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd\n  onend(script, cb)\n\n  // some good legacy browsers (firefox) fail the 'in' detection above\n  // so as a fallback we always set onload\n  // old IE will ignore this and new IE will set onload\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script)\n}\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd (script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null\n    cb(null, script)\n  }\n  script.onerror = function () {\n    // this.onload = null here is necessary\n    // because even IE9 works not like others\n    this.onerror = this.onload = null\n    cb(new Error('Failed to load ' + this.src), script)\n  }\n}\n\nfunction ieOnEnd (script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') return\n    this.onreadystatechange = null\n    cb(null, script) // there is no way to catch loading errors in IE8\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _loadScript = require('load-script');\n\nvar _loadScript2 = _interopRequireDefault(_loadScript);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (emitter) {\n  /**\n   * A promise that is resolved when window.onYouTubeIframeAPIReady is called.\n   * The promise is resolved with a reference to window.YT object.\n   */\n  var iframeAPIReady = new Promise(function (resolve) {\n    if (window.YT && window.YT.Player && window.YT.Player instanceof Function) {\n      resolve(window.YT);\n\n      return;\n    } else {\n      var protocol = window.location.protocol === 'http:' ? 'http:' : 'https:';\n\n      (0, _loadScript2.default)(protocol + '//www.youtube.com/iframe_api', function (error) {\n        if (error) {\n          emitter.trigger('error', error);\n        }\n      });\n    }\n\n    var previous = window.onYouTubeIframeAPIReady;\n\n    // The API will call this function when page has finished downloading\n    // the JavaScript for the player API.\n    window.onYouTubeIframeAPIReady = function () {\n      if (previous) {\n        previous();\n      }\n\n      resolve(window.YT);\n    };\n  });\n\n  return iframeAPIReady;\n};\n\nmodule.exports = exports['default'];","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Functions\n */\nexports.default = ['cueVideoById', 'loadVideoById', 'cueVideoByUrl', 'loadVideoByUrl', 'playVideo', 'pauseVideo', 'stopVideo', 'getVideoLoadedFraction', 'cuePlaylist', 'loadPlaylist', 'nextVideo', 'previousVideo', 'playVideoAt', 'setShuffle', 'setLoop', 'getPlaylist', 'getPlaylistIndex', 'setOption', 'mute', 'unMute', 'isMuted', 'setVolume', 'getVolume', 'seekTo', 'getPlayerState', 'getPlaybackRate', 'setPlaybackRate', 'getAvailablePlaybackRates', 'getPlaybackQuality', 'setPlaybackQuality', 'getAvailableQualityLevels', 'getCurrentTime', 'getDuration', 'removeEventListener', 'getVideoUrl', 'getVideoEmbedCode', 'getOptions', 'getOption', 'addEventListener', 'destroy', 'setSize', 'getIframe'];\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Events\n * `volumeChange` is not officially supported but seems to work\n * it emits an object: `{volume: 82.6923076923077, muted: false}`\n */\nexports.default = ['ready', 'stateChange', 'playbackQualityChange', 'playbackRateChange', 'error', 'apiChange', 'volumeChange'];\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  BUFFERING: 3,\n  ENDED: 0,\n  PAUSED: 2,\n  PLAYING: 1,\n  UNSTARTED: -1,\n  VIDEO_CUED: 5\n};\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PlayerStates = require('./constants/PlayerStates');\n\nvar _PlayerStates2 = _interopRequireDefault(_PlayerStates);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  pauseVideo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PAUSED],\n    stateChangeRequired: false\n  },\n  playVideo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PLAYING],\n    stateChangeRequired: false\n  },\n  seekTo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PLAYING, _PlayerStates2.default.PAUSED],\n    stateChangeRequired: true,\n\n    // TRICKY: `seekTo` may not cause a state change if no buffering is\n    // required.\n    timeout: 3000\n  }\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _functionNames = require('./functionNames');\n\nvar _functionNames2 = _interopRequireDefault(_functionNames);\n\nvar _eventNames = require('./eventNames');\n\nvar _eventNames2 = _interopRequireDefault(_eventNames);\n\nvar _FunctionStateMap = require('./FunctionStateMap');\n\nvar _FunctionStateMap2 = _interopRequireDefault(_FunctionStateMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable promise/prefer-await-to-then */\n\nvar debug = (0, _debug2.default)('youtube-player');\n\nvar YouTubePlayer = {};\n\n/**\n * Construct an object that defines an event handler for all of the YouTube\n * player events. Proxy captured events through an event emitter.\n *\n * @todo Capture event parameters.\n * @see https://developers.google.com/youtube/iframe_api_reference#Events\n */\nYouTubePlayer.proxyEvents = function (emitter) {\n  var events = {};\n\n  var _loop = function _loop(eventName) {\n    var onEventName = 'on' + eventName.slice(0, 1).toUpperCase() + eventName.slice(1);\n\n    events[onEventName] = function (event) {\n      debug('event \"%s\"', onEventName, event);\n\n      emitter.trigger(eventName, event);\n    };\n  };\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = _eventNames2.default[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var eventName = _step.value;\n\n      _loop(eventName);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return events;\n};\n\n/**\n * Delays player API method execution until player state is ready.\n *\n * @todo Proxy all of the methods using Object.keys.\n * @todo See TRICKY below.\n * @param playerAPIReady Promise that resolves when player is ready.\n * @param strictState A flag designating whether or not to wait for\n * an acceptable state when calling supported functions.\n * @returns {Object}\n */\nYouTubePlayer.promisifyPlayer = function (playerAPIReady) {\n  var strictState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var functions = {};\n\n  var _loop2 = function _loop2(functionName) {\n    if (strictState && _FunctionStateMap2.default[functionName]) {\n      functions[functionName] = function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return playerAPIReady.then(function (player) {\n          var stateInfo = _FunctionStateMap2.default[functionName];\n          var playerState = player.getPlayerState();\n\n          // eslint-disable-next-line no-warning-comments\n          // TODO: Just spread the args into the function once Babel is fixed:\n          // https://github.com/babel/babel/issues/4270\n          //\n          // eslint-disable-next-line prefer-spread\n          var value = player[functionName].apply(player, args);\n\n          // TRICKY: For functions like `seekTo`, a change in state must be\n          // triggered given that the resulting state could match the initial\n          // state.\n          if (stateInfo.stateChangeRequired ||\n\n          // eslint-disable-next-line no-extra-parens\n          Array.isArray(stateInfo.acceptableStates) && stateInfo.acceptableStates.indexOf(playerState) === -1) {\n            return new Promise(function (resolve) {\n              var onPlayerStateChange = function onPlayerStateChange() {\n                var playerStateAfterChange = player.getPlayerState();\n\n                var timeout = void 0;\n\n                if (typeof stateInfo.timeout === 'number') {\n                  timeout = setTimeout(function () {\n                    player.removeEventListener('onStateChange', onPlayerStateChange);\n\n                    resolve();\n                  }, stateInfo.timeout);\n                }\n\n                if (Array.isArray(stateInfo.acceptableStates) && stateInfo.acceptableStates.indexOf(playerStateAfterChange) !== -1) {\n                  player.removeEventListener('onStateChange', onPlayerStateChange);\n\n                  clearTimeout(timeout);\n\n                  resolve();\n                }\n              };\n\n              player.addEventListener('onStateChange', onPlayerStateChange);\n            }).then(function () {\n              return value;\n            });\n          }\n\n          return value;\n        });\n      };\n    } else {\n      functions[functionName] = function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        return playerAPIReady.then(function (player) {\n          // eslint-disable-next-line no-warning-comments\n          // TODO: Just spread the args into the function once Babel is fixed:\n          // https://github.com/babel/babel/issues/4270\n          //\n          // eslint-disable-next-line prefer-spread\n          return player[functionName].apply(player, args);\n        });\n      };\n    }\n  };\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = _functionNames2.default[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var functionName = _step2.value;\n\n      _loop2(functionName);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return functions;\n};\n\nexports.default = YouTubePlayer;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _sister = require('sister');\n\nvar _sister2 = _interopRequireDefault(_sister);\n\nvar _loadYouTubeIframeApi = require('./loadYouTubeIframeApi');\n\nvar _loadYouTubeIframeApi2 = _interopRequireDefault(_loadYouTubeIframeApi);\n\nvar _YouTubePlayer = require('./YouTubePlayer');\n\nvar _YouTubePlayer2 = _interopRequireDefault(_YouTubePlayer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @typedef YT.Player\n * @see https://developers.google.com/youtube/iframe_api_reference\n * */\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Loading_a_Video_Player\n */\nvar youtubeIframeAPI = void 0;\n\n/**\n * A factory function used to produce an instance of YT.Player and queue function calls and proxy events of the resulting object.\n *\n * @param maybeElementId Either An existing YT.Player instance,\n * the DOM element or the id of the HTML element where the API will insert an <iframe>.\n * @param options See `options` (Ignored when using an existing YT.Player instance).\n * @param strictState A flag designating whether or not to wait for\n * an acceptable state when calling supported functions. Default: `false`.\n * See `FunctionStateMap.js` for supported functions and acceptable states.\n */\n\nexports.default = function (maybeElementId) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var strictState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var emitter = (0, _sister2.default)();\n\n  if (!youtubeIframeAPI) {\n    youtubeIframeAPI = (0, _loadYouTubeIframeApi2.default)(emitter);\n  }\n\n  if (options.events) {\n    throw new Error('Event handlers cannot be overwritten.');\n  }\n\n  if (typeof maybeElementId === 'string' && !document.getElementById(maybeElementId)) {\n    throw new Error('Element \"' + maybeElementId + '\" does not exist.');\n  }\n\n  options.events = _YouTubePlayer2.default.proxyEvents(emitter);\n\n  var playerAPIReady = new Promise(function (resolve) {\n    if ((typeof maybeElementId === 'undefined' ? 'undefined' : _typeof(maybeElementId)) === 'object' && maybeElementId.playVideo instanceof Function) {\n      var player = maybeElementId;\n\n      resolve(player);\n    } else {\n      // asume maybeElementId can be rendered inside\n      // eslint-disable-next-line promise/catch-or-return\n      youtubeIframeAPI.then(function (YT) {\n        // eslint-disable-line promise/prefer-await-to-then\n        var player = new YT.Player(maybeElementId, options);\n\n        emitter.on('ready', function () {\n          resolve(player);\n        });\n\n        return null;\n      });\n    }\n  });\n\n  var playerApi = _YouTubePlayer2.default.promisifyPlayer(playerAPIReady, strictState);\n\n  playerApi.on = emitter.on;\n  playerApi.off = emitter.off;\n\n  return playerApi;\n};\n\nmodule.exports = exports['default'];","/*! @vimeo/player v2.17.1 | (c) 2022 Vimeo | MIT License | https://github.com/vimeo/player.js */\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\n/**\n * @module lib/functions\n */\n\n/**\n * Check to see this is a node environment.\n * @type {Boolean}\n */\n\n/* global global */\nvar isNode = typeof global !== 'undefined' && {}.toString.call(global) === '[object global]';\n/**\n * Get the name of the method for a given getter or setter.\n *\n * @param {string} prop The name of the property.\n * @param {string} type Either “get” or “set”.\n * @return {string}\n */\n\nfunction getMethodName(prop, type) {\n  if (prop.indexOf(type.toLowerCase()) === 0) {\n    return prop;\n  }\n\n  return \"\".concat(type.toLowerCase()).concat(prop.substr(0, 1).toUpperCase()).concat(prop.substr(1));\n}\n/**\n * Check to see if the object is a DOM Element.\n *\n * @param {*} element The object to check.\n * @return {boolean}\n */\n\nfunction isDomElement(element) {\n  return Boolean(element && element.nodeType === 1 && 'nodeName' in element && element.ownerDocument && element.ownerDocument.defaultView);\n}\n/**\n * Check to see whether the value is a number.\n *\n * @see http://dl.dropboxusercontent.com/u/35146/js/tests/isNumber.html\n * @param {*} value The value to check.\n * @param {boolean} integer Check if the value is an integer.\n * @return {boolean}\n */\n\nfunction isInteger(value) {\n  // eslint-disable-next-line eqeqeq\n  return !isNaN(parseFloat(value)) && isFinite(value) && Math.floor(value) == value;\n}\n/**\n * Check to see if the URL is a Vimeo url.\n *\n * @param {string} url The url string.\n * @return {boolean}\n */\n\nfunction isVimeoUrl(url) {\n  return /^(https?:)?\\/\\/((player|www)\\.)?vimeo\\.com(?=$|\\/)/.test(url);\n}\n/**\n * Check to see if the URL is for a Vimeo embed.\n *\n * @param {string} url The url string.\n * @return {boolean}\n */\n\nfunction isVimeoEmbed(url) {\n  var expr = /^https:\\/\\/player\\.vimeo\\.com\\/video\\/\\d+/;\n  return expr.test(url);\n}\n/**\n * Get the Vimeo URL from an element.\n * The element must have either a data-vimeo-id or data-vimeo-url attribute.\n *\n * @param {object} oEmbedParameters The oEmbed parameters.\n * @return {string}\n */\n\nfunction getVimeoUrl() {\n  var oEmbedParameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var id = oEmbedParameters.id;\n  var url = oEmbedParameters.url;\n  var idOrUrl = id || url;\n\n  if (!idOrUrl) {\n    throw new Error('An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.');\n  }\n\n  if (isInteger(idOrUrl)) {\n    return \"https://vimeo.com/\".concat(idOrUrl);\n  }\n\n  if (isVimeoUrl(idOrUrl)) {\n    return idOrUrl.replace('http:', 'https:');\n  }\n\n  if (id) {\n    throw new TypeError(\"\\u201C\".concat(id, \"\\u201D is not a valid video id.\"));\n  }\n\n  throw new TypeError(\"\\u201C\".concat(idOrUrl, \"\\u201D is not a vimeo.com url.\"));\n}\n\nvar arrayIndexOfSupport = typeof Array.prototype.indexOf !== 'undefined';\nvar postMessageSupport = typeof window !== 'undefined' && typeof window.postMessage !== 'undefined';\n\nif (!isNode && (!arrayIndexOfSupport || !postMessageSupport)) {\n  throw new Error('Sorry, the Vimeo Player API is not available in this browser.');\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/*!\n * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill\n * https://github.com/polygonplanet/weakmap-polyfill\n * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>\n * @license MIT\n */\n(function (self) {\n\n  if (self.WeakMap) {\n    return;\n  }\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  var hasDefine = Object.defineProperty && function () {\n    try {\n      // Avoid IE8's broken Object.defineProperty\n      return Object.defineProperty({}, 'x', {\n        value: 1\n      }).x === 1;\n    } catch (e) {}\n  }();\n\n  var defineProperty = function (object, name, value) {\n    if (hasDefine) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  self.WeakMap = function () {\n    // ECMA-262 23.3 WeakMap Objects\n    function WeakMap() {\n      if (this === void 0) {\n        throw new TypeError(\"Constructor WeakMap requires 'new'\");\n      }\n\n      defineProperty(this, '_id', genId('_WeakMap')); // ECMA-262 23.3.1.1 WeakMap([iterable])\n\n      if (arguments.length > 0) {\n        // Currently, WeakMap `iterable` argument is not supported\n        throw new TypeError('WeakMap iterable is not supported');\n      }\n    } // ECMA-262 23.3.3.2 WeakMap.prototype.delete(key)\n\n\n    defineProperty(WeakMap.prototype, 'delete', function (key) {\n      checkInstance(this, 'delete');\n\n      if (!isObject(key)) {\n        return false;\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        delete key[this._id];\n        return true;\n      }\n\n      return false;\n    }); // ECMA-262 23.3.3.3 WeakMap.prototype.get(key)\n\n    defineProperty(WeakMap.prototype, 'get', function (key) {\n      checkInstance(this, 'get');\n\n      if (!isObject(key)) {\n        return void 0;\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        return entry[1];\n      }\n\n      return void 0;\n    }); // ECMA-262 23.3.3.4 WeakMap.prototype.has(key)\n\n    defineProperty(WeakMap.prototype, 'has', function (key) {\n      checkInstance(this, 'has');\n\n      if (!isObject(key)) {\n        return false;\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        return true;\n      }\n\n      return false;\n    }); // ECMA-262 23.3.3.5 WeakMap.prototype.set(key, value)\n\n    defineProperty(WeakMap.prototype, 'set', function (key, value) {\n      checkInstance(this, 'set');\n\n      if (!isObject(key)) {\n        throw new TypeError('Invalid value used as weak map key');\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        entry[1] = value;\n        return this;\n      }\n\n      defineProperty(key, this._id, [key, value]);\n      return this;\n    });\n\n    function checkInstance(x, methodName) {\n      if (!isObject(x) || !hasOwnProperty.call(x, '_id')) {\n        throw new TypeError(methodName + ' method called on incompatible receiver ' + typeof x);\n      }\n    }\n\n    function genId(prefix) {\n      return prefix + '_' + rand() + '.' + rand();\n    }\n\n    function rand() {\n      return Math.random().toString().substring(2);\n    }\n\n    defineProperty(WeakMap, '_polyfill', true);\n    return WeakMap;\n  }();\n\n  function isObject(x) {\n    return Object(x) === x;\n  }\n})(typeof globalThis !== 'undefined' ? globalThis : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : commonjsGlobal);\n\nvar npo_src = createCommonjsModule(function (module) {\n/*! Native Promise Only\n    v0.8.1 (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n*/\n(function UMD(name, context, definition) {\n  // special form of UMD for polyfilling across evironments\n  context[name] = context[name] || definition();\n\n  if ( module.exports) {\n    module.exports = context[name];\n  }\n})(\"Promise\", typeof commonjsGlobal != \"undefined\" ? commonjsGlobal : commonjsGlobal, function DEF() {\n\n  var builtInProp,\n      cycle,\n      scheduling_queue,\n      ToString = Object.prototype.toString,\n      timer = typeof setImmediate != \"undefined\" ? function timer(fn) {\n    return setImmediate(fn);\n  } : setTimeout; // dammit, IE8.\n\n  try {\n    Object.defineProperty({}, \"x\", {});\n\n    builtInProp = function builtInProp(obj, name, val, config) {\n      return Object.defineProperty(obj, name, {\n        value: val,\n        writable: true,\n        configurable: config !== false\n      });\n    };\n  } catch (err) {\n    builtInProp = function builtInProp(obj, name, val) {\n      obj[name] = val;\n      return obj;\n    };\n  } // Note: using a queue instead of array for efficiency\n\n\n  scheduling_queue = function Queue() {\n    var first, last, item;\n\n    function Item(fn, self) {\n      this.fn = fn;\n      this.self = self;\n      this.next = void 0;\n    }\n\n    return {\n      add: function add(fn, self) {\n        item = new Item(fn, self);\n\n        if (last) {\n          last.next = item;\n        } else {\n          first = item;\n        }\n\n        last = item;\n        item = void 0;\n      },\n      drain: function drain() {\n        var f = first;\n        first = last = cycle = void 0;\n\n        while (f) {\n          f.fn.call(f.self);\n          f = f.next;\n        }\n      }\n    };\n  }();\n\n  function schedule(fn, self) {\n    scheduling_queue.add(fn, self);\n\n    if (!cycle) {\n      cycle = timer(scheduling_queue.drain);\n    }\n  } // promise duck typing\n\n\n  function isThenable(o) {\n    var _then,\n        o_type = typeof o;\n\n    if (o != null && (o_type == \"object\" || o_type == \"function\")) {\n      _then = o.then;\n    }\n\n    return typeof _then == \"function\" ? _then : false;\n  }\n\n  function notify() {\n    for (var i = 0; i < this.chain.length; i++) {\n      notifyIsolated(this, this.state === 1 ? this.chain[i].success : this.chain[i].failure, this.chain[i]);\n    }\n\n    this.chain.length = 0;\n  } // NOTE: This is a separate function to isolate\n  // the `try..catch` so that other code can be\n  // optimized better\n\n\n  function notifyIsolated(self, cb, chain) {\n    var ret, _then;\n\n    try {\n      if (cb === false) {\n        chain.reject(self.msg);\n      } else {\n        if (cb === true) {\n          ret = self.msg;\n        } else {\n          ret = cb.call(void 0, self.msg);\n        }\n\n        if (ret === chain.promise) {\n          chain.reject(TypeError(\"Promise-chain cycle\"));\n        } else if (_then = isThenable(ret)) {\n          _then.call(ret, chain.resolve, chain.reject);\n        } else {\n          chain.resolve(ret);\n        }\n      }\n    } catch (err) {\n      chain.reject(err);\n    }\n  }\n\n  function resolve(msg) {\n    var _then,\n        self = this; // already triggered?\n\n\n    if (self.triggered) {\n      return;\n    }\n\n    self.triggered = true; // unwrap\n\n    if (self.def) {\n      self = self.def;\n    }\n\n    try {\n      if (_then = isThenable(msg)) {\n        schedule(function () {\n          var def_wrapper = new MakeDefWrapper(self);\n\n          try {\n            _then.call(msg, function $resolve$() {\n              resolve.apply(def_wrapper, arguments);\n            }, function $reject$() {\n              reject.apply(def_wrapper, arguments);\n            });\n          } catch (err) {\n            reject.call(def_wrapper, err);\n          }\n        });\n      } else {\n        self.msg = msg;\n        self.state = 1;\n\n        if (self.chain.length > 0) {\n          schedule(notify, self);\n        }\n      }\n    } catch (err) {\n      reject.call(new MakeDefWrapper(self), err);\n    }\n  }\n\n  function reject(msg) {\n    var self = this; // already triggered?\n\n    if (self.triggered) {\n      return;\n    }\n\n    self.triggered = true; // unwrap\n\n    if (self.def) {\n      self = self.def;\n    }\n\n    self.msg = msg;\n    self.state = 2;\n\n    if (self.chain.length > 0) {\n      schedule(notify, self);\n    }\n  }\n\n  function iteratePromises(Constructor, arr, resolver, rejecter) {\n    for (var idx = 0; idx < arr.length; idx++) {\n      (function IIFE(idx) {\n        Constructor.resolve(arr[idx]).then(function $resolver$(msg) {\n          resolver(idx, msg);\n        }, rejecter);\n      })(idx);\n    }\n  }\n\n  function MakeDefWrapper(self) {\n    this.def = self;\n    this.triggered = false;\n  }\n\n  function MakeDef(self) {\n    this.promise = self;\n    this.state = 0;\n    this.triggered = false;\n    this.chain = [];\n    this.msg = void 0;\n  }\n\n  function Promise(executor) {\n    if (typeof executor != \"function\") {\n      throw TypeError(\"Not a function\");\n    }\n\n    if (this.__NPO__ !== 0) {\n      throw TypeError(\"Not a promise\");\n    } // instance shadowing the inherited \"brand\"\n    // to signal an already \"initialized\" promise\n\n\n    this.__NPO__ = 1;\n    var def = new MakeDef(this);\n\n    this[\"then\"] = function then(success, failure) {\n      var o = {\n        success: typeof success == \"function\" ? success : true,\n        failure: typeof failure == \"function\" ? failure : false\n      }; // Note: `then(..)` itself can be borrowed to be used against\n      // a different promise constructor for making the chained promise,\n      // by substituting a different `this` binding.\n\n      o.promise = new this.constructor(function extractChain(resolve, reject) {\n        if (typeof resolve != \"function\" || typeof reject != \"function\") {\n          throw TypeError(\"Not a function\");\n        }\n\n        o.resolve = resolve;\n        o.reject = reject;\n      });\n      def.chain.push(o);\n\n      if (def.state !== 0) {\n        schedule(notify, def);\n      }\n\n      return o.promise;\n    };\n\n    this[\"catch\"] = function $catch$(failure) {\n      return this.then(void 0, failure);\n    };\n\n    try {\n      executor.call(void 0, function publicResolve(msg) {\n        resolve.call(def, msg);\n      }, function publicReject(msg) {\n        reject.call(def, msg);\n      });\n    } catch (err) {\n      reject.call(def, err);\n    }\n  }\n\n  var PromisePrototype = builtInProp({}, \"constructor\", Promise,\n  /*configurable=*/\n  false); // Note: Android 4 cannot use `Object.defineProperty(..)` here\n\n  Promise.prototype = PromisePrototype; // built-in \"brand\" to signal an \"uninitialized\" promise\n\n  builtInProp(PromisePrototype, \"__NPO__\", 0,\n  /*configurable=*/\n  false);\n  builtInProp(Promise, \"resolve\", function Promise$resolve(msg) {\n    var Constructor = this; // spec mandated checks\n    // note: best \"isPromise\" check that's practical for now\n\n    if (msg && typeof msg == \"object\" && msg.__NPO__ === 1) {\n      return msg;\n    }\n\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      resolve(msg);\n    });\n  });\n  builtInProp(Promise, \"reject\", function Promise$reject(msg) {\n    return new this(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      reject(msg);\n    });\n  });\n  builtInProp(Promise, \"all\", function Promise$all(arr) {\n    var Constructor = this; // spec mandated checks\n\n    if (ToString.call(arr) != \"[object Array]\") {\n      return Constructor.reject(TypeError(\"Not an array\"));\n    }\n\n    if (arr.length === 0) {\n      return Constructor.resolve([]);\n    }\n\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      var len = arr.length,\n          msgs = Array(len),\n          count = 0;\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        msgs[idx] = msg;\n\n        if (++count === len) {\n          resolve(msgs);\n        }\n      }, reject);\n    });\n  });\n  builtInProp(Promise, \"race\", function Promise$race(arr) {\n    var Constructor = this; // spec mandated checks\n\n    if (ToString.call(arr) != \"[object Array]\") {\n      return Constructor.reject(TypeError(\"Not an array\"));\n    }\n\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        resolve(msg);\n      }, reject);\n    });\n  });\n  return Promise;\n});\n});\n\n/**\n * @module lib/callbacks\n */\nvar callbackMap = new WeakMap();\n/**\n * Store a callback for a method or event for a player.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name.\n * @param {(function(this:Player, *): void|{resolve: function, reject: function})} callback\n *        The callback to call or an object with resolve and reject functions for a promise.\n * @return {void}\n */\n\nfunction storeCallback(player, name, callback) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n\n  if (!(name in playerCallbacks)) {\n    playerCallbacks[name] = [];\n  }\n\n  playerCallbacks[name].push(callback);\n  callbackMap.set(player.element, playerCallbacks);\n}\n/**\n * Get the callbacks for a player and event or method.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name\n * @return {function[]}\n */\n\nfunction getCallbacks(player, name) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n  return playerCallbacks[name] || [];\n}\n/**\n * Remove a stored callback for a method or event for a player.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name\n * @param {function} [callback] The specific callback to remove.\n * @return {boolean} Was this the last callback?\n */\n\nfunction removeCallback(player, name, callback) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n\n  if (!playerCallbacks[name]) {\n    return true;\n  } // If no callback is passed, remove all callbacks for the event\n\n\n  if (!callback) {\n    playerCallbacks[name] = [];\n    callbackMap.set(player.element, playerCallbacks);\n    return true;\n  }\n\n  var index = playerCallbacks[name].indexOf(callback);\n\n  if (index !== -1) {\n    playerCallbacks[name].splice(index, 1);\n  }\n\n  callbackMap.set(player.element, playerCallbacks);\n  return playerCallbacks[name] && playerCallbacks[name].length === 0;\n}\n/**\n * Return the first stored callback for a player and event or method.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name.\n * @return {function} The callback, or false if there were none\n */\n\nfunction shiftCallbacks(player, name) {\n  var playerCallbacks = getCallbacks(player, name);\n\n  if (playerCallbacks.length < 1) {\n    return false;\n  }\n\n  var callback = playerCallbacks.shift();\n  removeCallback(player, name, callback);\n  return callback;\n}\n/**\n * Move callbacks associated with an element to another element.\n *\n * @param {HTMLElement} oldElement The old element.\n * @param {HTMLElement} newElement The new element.\n * @return {void}\n */\n\nfunction swapCallbacks(oldElement, newElement) {\n  var playerCallbacks = callbackMap.get(oldElement);\n  callbackMap.set(newElement, playerCallbacks);\n  callbackMap.delete(oldElement);\n}\n\n/**\n * @module lib/postmessage\n */\n/**\n * Parse a message received from postMessage.\n *\n * @param {*} data The data received from postMessage.\n * @return {object}\n */\n\nfunction parseMessageData(data) {\n  if (typeof data === 'string') {\n    try {\n      data = JSON.parse(data);\n    } catch (error) {\n      // If the message cannot be parsed, throw the error as a warning\n      console.warn(error);\n      return {};\n    }\n  }\n\n  return data;\n}\n/**\n * Post a message to the specified target.\n *\n * @param {Player} player The player object to use.\n * @param {string} method The API method to call.\n * @param {object} params The parameters to send to the player.\n * @return {void}\n */\n\nfunction postMessage(player, method, params) {\n  if (!player.element.contentWindow || !player.element.contentWindow.postMessage) {\n    return;\n  }\n\n  var message = {\n    method: method\n  };\n\n  if (params !== undefined) {\n    message.value = params;\n  } // IE 8 and 9 do not support passing messages, so stringify them\n\n\n  var ieVersion = parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/, '$1'));\n\n  if (ieVersion >= 8 && ieVersion < 10) {\n    message = JSON.stringify(message);\n  }\n\n  player.element.contentWindow.postMessage(message, player.origin);\n}\n/**\n * Parse the data received from a message event.\n *\n * @param {Player} player The player that received the message.\n * @param {(Object|string)} data The message data. Strings will be parsed into JSON.\n * @return {void}\n */\n\nfunction processData(player, data) {\n  data = parseMessageData(data);\n  var callbacks = [];\n  var param;\n\n  if (data.event) {\n    if (data.event === 'error') {\n      var promises = getCallbacks(player, data.data.method);\n      promises.forEach(function (promise) {\n        var error = new Error(data.data.message);\n        error.name = data.data.name;\n        promise.reject(error);\n        removeCallback(player, data.data.method, promise);\n      });\n    }\n\n    callbacks = getCallbacks(player, \"event:\".concat(data.event));\n    param = data.data;\n  } else if (data.method) {\n    var callback = shiftCallbacks(player, data.method);\n\n    if (callback) {\n      callbacks.push(callback);\n      param = data.value;\n    }\n  }\n\n  callbacks.forEach(function (callback) {\n    try {\n      if (typeof callback === 'function') {\n        callback.call(player, param);\n        return;\n      }\n\n      callback.resolve(param);\n    } catch (e) {// empty\n    }\n  });\n}\n\n/**\n * @module lib/embed\n */\nvar oEmbedParameters = ['autopause', 'autoplay', 'background', 'byline', 'color', 'controls', 'dnt', 'height', 'id', 'interactive_params', 'keyboard', 'loop', 'maxheight', 'maxwidth', 'muted', 'playsinline', 'portrait', 'responsive', 'speed', 'texttrack', 'title', 'transparent', 'url', 'width'];\n/**\n * Get the 'data-vimeo'-prefixed attributes from an element as an object.\n *\n * @param {HTMLElement} element The element.\n * @param {Object} [defaults={}] The default values to use.\n * @return {Object<string, string>}\n */\n\nfunction getOEmbedParameters(element) {\n  var defaults = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return oEmbedParameters.reduce(function (params, param) {\n    var value = element.getAttribute(\"data-vimeo-\".concat(param));\n\n    if (value || value === '') {\n      params[param] = value === '' ? 1 : value;\n    }\n\n    return params;\n  }, defaults);\n}\n/**\n * Create an embed from oEmbed data inside an element.\n *\n * @param {object} data The oEmbed data.\n * @param {HTMLElement} element The element to put the iframe in.\n * @return {HTMLIFrameElement} The iframe embed.\n */\n\nfunction createEmbed(_ref, element) {\n  var html = _ref.html;\n\n  if (!element) {\n    throw new TypeError('An element must be provided');\n  }\n\n  if (element.getAttribute('data-vimeo-initialized') !== null) {\n    return element.querySelector('iframe');\n  }\n\n  var div = document.createElement('div');\n  div.innerHTML = html;\n  element.appendChild(div.firstChild);\n  element.setAttribute('data-vimeo-initialized', 'true');\n  return element.querySelector('iframe');\n}\n/**\n * Make an oEmbed call for the specified URL.\n *\n * @param {string} videoUrl The vimeo.com url for the video.\n * @param {Object} [params] Parameters to pass to oEmbed.\n * @param {HTMLElement} element The element.\n * @return {Promise}\n */\n\nfunction getOEmbedData(videoUrl) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var element = arguments.length > 2 ? arguments[2] : undefined;\n  return new Promise(function (resolve, reject) {\n    if (!isVimeoUrl(videoUrl)) {\n      throw new TypeError(\"\\u201C\".concat(videoUrl, \"\\u201D is not a vimeo.com url.\"));\n    }\n\n    var url = \"https://vimeo.com/api/oembed.json?url=\".concat(encodeURIComponent(videoUrl));\n\n    for (var param in params) {\n      if (params.hasOwnProperty(param)) {\n        url += \"&\".concat(param, \"=\").concat(encodeURIComponent(params[param]));\n      }\n    }\n\n    var xhr = 'XDomainRequest' in window ? new XDomainRequest() : new XMLHttpRequest();\n    xhr.open('GET', url, true);\n\n    xhr.onload = function () {\n      if (xhr.status === 404) {\n        reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D was not found.\")));\n        return;\n      }\n\n      if (xhr.status === 403) {\n        reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D is not embeddable.\")));\n        return;\n      }\n\n      try {\n        var json = JSON.parse(xhr.responseText); // Check api response for 403 on oembed\n\n        if (json.domain_status_code === 403) {\n          // We still want to create the embed to give users visual feedback\n          createEmbed(json, element);\n          reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D is not embeddable.\")));\n          return;\n        }\n\n        resolve(json);\n      } catch (error) {\n        reject(error);\n      }\n    };\n\n    xhr.onerror = function () {\n      var status = xhr.status ? \" (\".concat(xhr.status, \")\") : '';\n      reject(new Error(\"There was an error fetching the embed code from Vimeo\".concat(status, \".\")));\n    };\n\n    xhr.send();\n  });\n}\n/**\n * Initialize all embeds within a specific element\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\n\nfunction initializeEmbeds() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  var elements = [].slice.call(parent.querySelectorAll('[data-vimeo-id], [data-vimeo-url]'));\n\n  var handleError = function handleError(error) {\n    if ('console' in window && console.error) {\n      console.error(\"There was an error creating an embed: \".concat(error));\n    }\n  };\n\n  elements.forEach(function (element) {\n    try {\n      // Skip any that have data-vimeo-defer\n      if (element.getAttribute('data-vimeo-defer') !== null) {\n        return;\n      }\n\n      var params = getOEmbedParameters(element);\n      var url = getVimeoUrl(params);\n      getOEmbedData(url, params, element).then(function (data) {\n        return createEmbed(data, element);\n      }).catch(handleError);\n    } catch (error) {\n      handleError(error);\n    }\n  });\n}\n/**\n * Resize embeds when messaged by the player.\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\n\nfunction resizeEmbeds() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n  // Prevent execution if users include the player.js script multiple times.\n  if (window.VimeoPlayerResizeEmbeds_) {\n    return;\n  }\n\n  window.VimeoPlayerResizeEmbeds_ = true;\n\n  var onMessage = function onMessage(event) {\n    if (!isVimeoUrl(event.origin)) {\n      return;\n    } // 'spacechange' is fired only on embeds with cards\n\n\n    if (!event.data || event.data.event !== 'spacechange') {\n      return;\n    }\n\n    var iframes = parent.querySelectorAll('iframe');\n\n    for (var i = 0; i < iframes.length; i++) {\n      if (iframes[i].contentWindow !== event.source) {\n        continue;\n      } // Change padding-bottom of the enclosing div to accommodate\n      // card carousel without distorting aspect ratio\n\n\n      var space = iframes[i].parentElement;\n      space.style.paddingBottom = \"\".concat(event.data.data[0].bottom, \"px\");\n      break;\n    }\n  };\n\n  window.addEventListener('message', onMessage);\n}\n/**\n * Add chapters to existing metadata for Google SEO\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\n\nfunction initAppendVideoMetadata() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n  //  Prevent execution if users include the player.js script multiple times.\n  if (window.VimeoSeoMetadataAppended) {\n    return;\n  }\n\n  window.VimeoSeoMetadataAppended = true;\n\n  var onMessage = function onMessage(event) {\n    if (!isVimeoUrl(event.origin)) {\n      return;\n    }\n\n    var data = parseMessageData(event.data);\n\n    if (!data || data.event !== 'ready') {\n      return;\n    }\n\n    var iframes = parent.querySelectorAll('iframe');\n\n    for (var i = 0; i < iframes.length; i++) {\n      var iframe = iframes[i]; // Initiate appendVideoMetadata if iframe is a Vimeo embed\n\n      var isValidMessageSource = iframe.contentWindow === event.source;\n\n      if (isVimeoEmbed(iframe.src) && isValidMessageSource) {\n        var player = new Player(iframe);\n        player.callMethod('appendVideoMetadata', window.location.href);\n      }\n    }\n  };\n\n  window.addEventListener('message', onMessage);\n}\n\n/* MIT License\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nTerms */\nfunction initializeScreenfull() {\n  var fn = function () {\n    var val;\n    var fnMap = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror'], // New WebKit\n    ['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror'], // Old WebKit\n    ['webkitRequestFullScreen', 'webkitCancelFullScreen', 'webkitCurrentFullScreenElement', 'webkitCancelFullScreen', 'webkitfullscreenchange', 'webkitfullscreenerror'], ['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror'], ['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError']];\n    var i = 0;\n    var l = fnMap.length;\n    var ret = {};\n\n    for (; i < l; i++) {\n      val = fnMap[i];\n\n      if (val && val[1] in document) {\n        for (i = 0; i < val.length; i++) {\n          ret[fnMap[0][i]] = val[i];\n        }\n\n        return ret;\n      }\n    }\n\n    return false;\n  }();\n\n  var eventNameMap = {\n    fullscreenchange: fn.fullscreenchange,\n    fullscreenerror: fn.fullscreenerror\n  };\n  var screenfull = {\n    request: function request(element) {\n      return new Promise(function (resolve, reject) {\n        var onFullScreenEntered = function onFullScreenEntered() {\n          screenfull.off('fullscreenchange', onFullScreenEntered);\n          resolve();\n        };\n\n        screenfull.on('fullscreenchange', onFullScreenEntered);\n        element = element || document.documentElement;\n        var returnPromise = element[fn.requestFullscreen]();\n\n        if (returnPromise instanceof Promise) {\n          returnPromise.then(onFullScreenEntered).catch(reject);\n        }\n      });\n    },\n    exit: function exit() {\n      return new Promise(function (resolve, reject) {\n        if (!screenfull.isFullscreen) {\n          resolve();\n          return;\n        }\n\n        var onFullScreenExit = function onFullScreenExit() {\n          screenfull.off('fullscreenchange', onFullScreenExit);\n          resolve();\n        };\n\n        screenfull.on('fullscreenchange', onFullScreenExit);\n        var returnPromise = document[fn.exitFullscreen]();\n\n        if (returnPromise instanceof Promise) {\n          returnPromise.then(onFullScreenExit).catch(reject);\n        }\n      });\n    },\n    on: function on(event, callback) {\n      var eventName = eventNameMap[event];\n\n      if (eventName) {\n        document.addEventListener(eventName, callback);\n      }\n    },\n    off: function off(event, callback) {\n      var eventName = eventNameMap[event];\n\n      if (eventName) {\n        document.removeEventListener(eventName, callback);\n      }\n    }\n  };\n  Object.defineProperties(screenfull, {\n    isFullscreen: {\n      get: function get() {\n        return Boolean(document[fn.fullscreenElement]);\n      }\n    },\n    element: {\n      enumerable: true,\n      get: function get() {\n        return document[fn.fullscreenElement];\n      }\n    },\n    isEnabled: {\n      enumerable: true,\n      get: function get() {\n        // Coerce to boolean in case of old WebKit\n        return Boolean(document[fn.fullscreenEnabled]);\n      }\n    }\n  });\n  return screenfull;\n}\n\nvar playerMap = new WeakMap();\nvar readyMap = new WeakMap();\nvar screenfull = {};\n\nvar Player = /*#__PURE__*/function () {\n  /**\n   * Create a Player.\n   *\n   * @param {(HTMLIFrameElement|HTMLElement|string|jQuery)} element A reference to the Vimeo\n   *        player iframe, and id, or a jQuery object.\n   * @param {object} [options] oEmbed parameters to use when creating an embed in the element.\n   * @return {Player}\n   */\n  function Player(element) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Player);\n\n    /* global jQuery */\n    if (window.jQuery && element instanceof jQuery) {\n      if (element.length > 1 && window.console && console.warn) {\n        console.warn('A jQuery object with multiple elements was passed, using the first element.');\n      }\n\n      element = element[0];\n    } // Find an element by ID\n\n\n    if (typeof document !== 'undefined' && typeof element === 'string') {\n      element = document.getElementById(element);\n    } // Not an element!\n\n\n    if (!isDomElement(element)) {\n      throw new TypeError('You must pass either a valid element or a valid id.');\n    } // Already initialized an embed in this div, so grab the iframe\n\n\n    if (element.nodeName !== 'IFRAME') {\n      var iframe = element.querySelector('iframe');\n\n      if (iframe) {\n        element = iframe;\n      }\n    } // iframe url is not a Vimeo url\n\n\n    if (element.nodeName === 'IFRAME' && !isVimeoUrl(element.getAttribute('src') || '')) {\n      throw new Error('The player element passed isn’t a Vimeo embed.');\n    } // If there is already a player object in the map, return that\n\n\n    if (playerMap.has(element)) {\n      return playerMap.get(element);\n    }\n\n    this._window = element.ownerDocument.defaultView;\n    this.element = element;\n    this.origin = '*';\n    var readyPromise = new npo_src(function (resolve, reject) {\n      _this._onMessage = function (event) {\n        if (!isVimeoUrl(event.origin) || _this.element.contentWindow !== event.source) {\n          return;\n        }\n\n        if (_this.origin === '*') {\n          _this.origin = event.origin;\n        }\n\n        var data = parseMessageData(event.data);\n        var isError = data && data.event === 'error';\n        var isReadyError = isError && data.data && data.data.method === 'ready';\n\n        if (isReadyError) {\n          var error = new Error(data.data.message);\n          error.name = data.data.name;\n          reject(error);\n          return;\n        }\n\n        var isReadyEvent = data && data.event === 'ready';\n        var isPingResponse = data && data.method === 'ping';\n\n        if (isReadyEvent || isPingResponse) {\n          _this.element.setAttribute('data-ready', 'true');\n\n          resolve();\n          return;\n        }\n\n        processData(_this, data);\n      };\n\n      _this._window.addEventListener('message', _this._onMessage);\n\n      if (_this.element.nodeName !== 'IFRAME') {\n        var params = getOEmbedParameters(element, options);\n        var url = getVimeoUrl(params);\n        getOEmbedData(url, params, element).then(function (data) {\n          var iframe = createEmbed(data, element); // Overwrite element with the new iframe,\n          // but store reference to the original element\n\n          _this.element = iframe;\n          _this._originalElement = element;\n          swapCallbacks(element, iframe);\n          playerMap.set(_this.element, _this);\n          return data;\n        }).catch(reject);\n      }\n    }); // Store a copy of this Player in the map\n\n    readyMap.set(this, readyPromise);\n    playerMap.set(this.element, this); // Send a ping to the iframe so the ready promise will be resolved if\n    // the player is already ready.\n\n    if (this.element.nodeName === 'IFRAME') {\n      postMessage(this, 'ping');\n    }\n\n    if (screenfull.isEnabled) {\n      var exitFullscreen = function exitFullscreen() {\n        return screenfull.exit();\n      };\n\n      this.fullscreenchangeHandler = function () {\n        if (screenfull.isFullscreen) {\n          storeCallback(_this, 'event:exitFullscreen', exitFullscreen);\n        } else {\n          removeCallback(_this, 'event:exitFullscreen', exitFullscreen);\n        } // eslint-disable-next-line\n\n\n        _this.ready().then(function () {\n          postMessage(_this, 'fullscreenchange', screenfull.isFullscreen);\n        });\n      };\n\n      screenfull.on('fullscreenchange', this.fullscreenchangeHandler);\n    }\n\n    return this;\n  }\n  /**\n   * Get a promise for a method.\n   *\n   * @param {string} name The API method to call.\n   * @param {Object} [args={}] Arguments to send via postMessage.\n   * @return {Promise}\n   */\n\n\n  _createClass(Player, [{\n    key: \"callMethod\",\n    value: function callMethod(name) {\n      var _this2 = this;\n\n      var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new npo_src(function (resolve, reject) {\n        // We are storing the resolve/reject handlers to call later, so we\n        // can’t return here.\n        // eslint-disable-next-line promise/always-return\n        return _this2.ready().then(function () {\n          storeCallback(_this2, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this2, name, args);\n        }).catch(reject);\n      });\n    }\n    /**\n     * Get a promise for the value of a player property.\n     *\n     * @param {string} name The property name\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(name) {\n      var _this3 = this;\n\n      return new npo_src(function (resolve, reject) {\n        name = getMethodName(name, 'get'); // We are storing the resolve/reject handlers to call later, so we\n        // can’t return here.\n        // eslint-disable-next-line promise/always-return\n\n        return _this3.ready().then(function () {\n          storeCallback(_this3, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this3, name);\n        }).catch(reject);\n      });\n    }\n    /**\n     * Get a promise for setting the value of a player property.\n     *\n     * @param {string} name The API method to call.\n     * @param {mixed} value The value to set.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(name, value) {\n      var _this4 = this;\n\n      return new npo_src(function (resolve, reject) {\n        name = getMethodName(name, 'set');\n\n        if (value === undefined || value === null) {\n          throw new TypeError('There must be a value to set.');\n        } // We are storing the resolve/reject handlers to call later, so we\n        // can’t return here.\n        // eslint-disable-next-line promise/always-return\n\n\n        return _this4.ready().then(function () {\n          storeCallback(_this4, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this4, name, value);\n        }).catch(reject);\n      });\n    }\n    /**\n     * Add an event listener for the specified event. Will call the\n     * callback with a single parameter, `data`, that contains the data for\n     * that event.\n     *\n     * @param {string} eventName The name of the event.\n     * @param {function(*)} callback The function to call when the event fires.\n     * @return {void}\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(eventName, callback) {\n      if (!eventName) {\n        throw new TypeError('You must pass an event name.');\n      }\n\n      if (!callback) {\n        throw new TypeError('You must pass a callback function.');\n      }\n\n      if (typeof callback !== 'function') {\n        throw new TypeError('The callback must be a function.');\n      }\n\n      var callbacks = getCallbacks(this, \"event:\".concat(eventName));\n\n      if (callbacks.length === 0) {\n        this.callMethod('addEventListener', eventName).catch(function () {// Ignore the error. There will be an error event fired that\n          // will trigger the error callback if they are listening.\n        });\n      }\n\n      storeCallback(this, \"event:\".concat(eventName), callback);\n    }\n    /**\n     * Remove an event listener for the specified event. Will remove all\n     * listeners for that event if a `callback` isn’t passed, or only that\n     * specific callback if it is passed.\n     *\n     * @param {string} eventName The name of the event.\n     * @param {function} [callback] The specific callback to remove.\n     * @return {void}\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(eventName, callback) {\n      if (!eventName) {\n        throw new TypeError('You must pass an event name.');\n      }\n\n      if (callback && typeof callback !== 'function') {\n        throw new TypeError('The callback must be a function.');\n      }\n\n      var lastCallback = removeCallback(this, \"event:\".concat(eventName), callback); // If there are no callbacks left, remove the listener\n\n      if (lastCallback) {\n        this.callMethod('removeEventListener', eventName).catch(function (e) {// Ignore the error. There will be an error event fired that\n          // will trigger the error callback if they are listening.\n        });\n      }\n    }\n    /**\n     * A promise to load a new video.\n     *\n     * @promise LoadVideoPromise\n     * @fulfill {number} The video with this id or url successfully loaded.\n     * @reject {TypeError} The id was not a number.\n     */\n\n    /**\n     * Load a new video into this embed. The promise will be resolved if\n     * the video is successfully loaded, or it will be rejected if it could\n     * not be loaded.\n     *\n     * @param {number|string|object} options The id of the video, the url of the video, or an object with embed options.\n     * @return {LoadVideoPromise}\n     */\n\n  }, {\n    key: \"loadVideo\",\n    value: function loadVideo(options) {\n      return this.callMethod('loadVideo', options);\n    }\n    /**\n     * A promise to perform an action when the Player is ready.\n     *\n     * @todo document errors\n     * @promise LoadVideoPromise\n     * @fulfill {void}\n     */\n\n    /**\n     * Trigger a function when the player iframe has initialized. You do not\n     * need to wait for `ready` to trigger to begin adding event listeners\n     * or calling other methods.\n     *\n     * @return {ReadyPromise}\n     */\n\n  }, {\n    key: \"ready\",\n    value: function ready() {\n      var readyPromise = readyMap.get(this) || new npo_src(function (resolve, reject) {\n        reject(new Error('Unknown player. Probably unloaded.'));\n      });\n      return npo_src.resolve(readyPromise);\n    }\n    /**\n     * A promise to add a cue point to the player.\n     *\n     * @promise AddCuePointPromise\n     * @fulfill {string} The id of the cue point to use for removeCuePoint.\n     * @reject {RangeError} the time was less than 0 or greater than the\n     *         video’s duration.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Add a cue point to the player.\n     *\n     * @param {number} time The time for the cue point.\n     * @param {object} [data] Arbitrary data to be returned with the cue point.\n     * @return {AddCuePointPromise}\n     */\n\n  }, {\n    key: \"addCuePoint\",\n    value: function addCuePoint(time) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.callMethod('addCuePoint', {\n        time: time,\n        data: data\n      });\n    }\n    /**\n     * A promise to remove a cue point from the player.\n     *\n     * @promise AddCuePointPromise\n     * @fulfill {string} The id of the cue point that was removed.\n     * @reject {InvalidCuePoint} The cue point with the specified id was not\n     *         found.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Remove a cue point from the video.\n     *\n     * @param {string} id The id of the cue point to remove.\n     * @return {RemoveCuePointPromise}\n     */\n\n  }, {\n    key: \"removeCuePoint\",\n    value: function removeCuePoint(id) {\n      return this.callMethod('removeCuePoint', id);\n    }\n    /**\n     * A representation of a text track on a video.\n     *\n     * @typedef {Object} VimeoTextTrack\n     * @property {string} language The ISO language code.\n     * @property {string} kind The kind of track it is (captions or subtitles).\n     * @property {string} label The human‐readable label for the track.\n     */\n\n    /**\n     * A promise to enable a text track.\n     *\n     * @promise EnableTextTrackPromise\n     * @fulfill {VimeoTextTrack} The text track that was enabled.\n     * @reject {InvalidTrackLanguageError} No track was available with the\n     *         specified language.\n     * @reject {InvalidTrackError} No track was available with the specified\n     *         language and kind.\n     */\n\n    /**\n     * Enable the text track with the specified language, and optionally the\n     * specified kind (captions or subtitles).\n     *\n     * When set via the API, the track language will not change the viewer’s\n     * stored preference.\n     *\n     * @param {string} language The two‐letter language code.\n     * @param {string} [kind] The kind of track to enable (captions or subtitles).\n     * @return {EnableTextTrackPromise}\n     */\n\n  }, {\n    key: \"enableTextTrack\",\n    value: function enableTextTrack(language, kind) {\n      if (!language) {\n        throw new TypeError('You must pass a language.');\n      }\n\n      return this.callMethod('enableTextTrack', {\n        language: language,\n        kind: kind\n      });\n    }\n    /**\n     * A promise to disable the active text track.\n     *\n     * @promise DisableTextTrackPromise\n     * @fulfill {void} The track was disabled.\n     */\n\n    /**\n     * Disable the currently-active text track.\n     *\n     * @return {DisableTextTrackPromise}\n     */\n\n  }, {\n    key: \"disableTextTrack\",\n    value: function disableTextTrack() {\n      return this.callMethod('disableTextTrack');\n    }\n    /**\n     * A promise to pause the video.\n     *\n     * @promise PausePromise\n     * @fulfill {void} The video was paused.\n     */\n\n    /**\n     * Pause the video if it’s playing.\n     *\n     * @return {PausePromise}\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      return this.callMethod('pause');\n    }\n    /**\n     * A promise to play the video.\n     *\n     * @promise PlayPromise\n     * @fulfill {void} The video was played.\n     */\n\n    /**\n     * Play the video if it’s paused. **Note:** on iOS and some other\n     * mobile devices, you cannot programmatically trigger play. Once the\n     * viewer has tapped on the play button in the player, however, you\n     * will be able to use this function.\n     *\n     * @return {PlayPromise}\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      return this.callMethod('play');\n    }\n    /**\n     * Request that the player enters fullscreen.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"requestFullscreen\",\n    value: function requestFullscreen() {\n      if (screenfull.isEnabled) {\n        return screenfull.request(this.element);\n      }\n\n      return this.callMethod('requestFullscreen');\n    }\n    /**\n     * Request that the player exits fullscreen.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen() {\n      if (screenfull.isEnabled) {\n        return screenfull.exit();\n      }\n\n      return this.callMethod('exitFullscreen');\n    }\n    /**\n     * Returns true if the player is currently fullscreen.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"getFullscreen\",\n    value: function getFullscreen() {\n      if (screenfull.isEnabled) {\n        return npo_src.resolve(screenfull.isFullscreen);\n      }\n\n      return this.get('fullscreen');\n    }\n    /**\n     * Request that the player enters picture-in-picture.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"requestPictureInPicture\",\n    value: function requestPictureInPicture() {\n      return this.callMethod('requestPictureInPicture');\n    }\n    /**\n     * Request that the player exits picture-in-picture.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"exitPictureInPicture\",\n    value: function exitPictureInPicture() {\n      return this.callMethod('exitPictureInPicture');\n    }\n    /**\n     * Returns true if the player is currently picture-in-picture.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"getPictureInPicture\",\n    value: function getPictureInPicture() {\n      return this.get('pictureInPicture');\n    }\n    /**\n     * A promise to unload the video.\n     *\n     * @promise UnloadPromise\n     * @fulfill {void} The video was unloaded.\n     */\n\n    /**\n     * Return the player to its initial state.\n     *\n     * @return {UnloadPromise}\n     */\n\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      return this.callMethod('unload');\n    }\n    /**\n     * Cleanup the player and remove it from the DOM\n     *\n     * It won't be usable and a new one should be constructed\n     *  in order to do any operations.\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n\n      return new npo_src(function (resolve) {\n        readyMap.delete(_this5);\n        playerMap.delete(_this5.element);\n\n        if (_this5._originalElement) {\n          playerMap.delete(_this5._originalElement);\n\n          _this5._originalElement.removeAttribute('data-vimeo-initialized');\n        }\n\n        if (_this5.element && _this5.element.nodeName === 'IFRAME' && _this5.element.parentNode) {\n          // If we've added an additional wrapper div, remove that from the DOM.\n          // If not, just remove the iframe element.\n          if (_this5.element.parentNode.parentNode && _this5._originalElement && _this5._originalElement !== _this5.element.parentNode) {\n            _this5.element.parentNode.parentNode.removeChild(_this5.element.parentNode);\n          } else {\n            _this5.element.parentNode.removeChild(_this5.element);\n          }\n        } // If the clip is private there is a case where the element stays the\n        // div element. Destroy should reset the div and remove the iframe child.\n\n\n        if (_this5.element && _this5.element.nodeName === 'DIV' && _this5.element.parentNode) {\n          _this5.element.removeAttribute('data-vimeo-initialized');\n\n          var iframe = _this5.element.querySelector('iframe');\n\n          if (iframe && iframe.parentNode) {\n            // If we've added an additional wrapper div, remove that from the DOM.\n            // If not, just remove the iframe element.\n            if (iframe.parentNode.parentNode && _this5._originalElement && _this5._originalElement !== iframe.parentNode) {\n              iframe.parentNode.parentNode.removeChild(iframe.parentNode);\n            } else {\n              iframe.parentNode.removeChild(iframe);\n            }\n          }\n        }\n\n        _this5._window.removeEventListener('message', _this5._onMessage);\n\n        if (screenfull.isEnabled) {\n          screenfull.off('fullscreenchange', _this5.fullscreenchangeHandler);\n        }\n\n        resolve();\n      });\n    }\n    /**\n     * A promise to get the autopause behavior of the video.\n     *\n     * @promise GetAutopausePromise\n     * @fulfill {boolean} Whether autopause is turned on or off.\n     * @reject {UnsupportedError} Autopause is not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Get the autopause behavior for this player.\n     *\n     * @return {GetAutopausePromise}\n     */\n\n  }, {\n    key: \"getAutopause\",\n    value: function getAutopause() {\n      return this.get('autopause');\n    }\n    /**\n     * A promise to set the autopause behavior of the video.\n     *\n     * @promise SetAutopausePromise\n     * @fulfill {boolean} Whether autopause is turned on or off.\n     * @reject {UnsupportedError} Autopause is not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Enable or disable the autopause behavior of this player.\n     *\n     * By default, when another video is played in the same browser, this\n     * player will automatically pause. Unless you have a specific reason\n     * for doing so, we recommend that you leave autopause set to the\n     * default (`true`).\n     *\n     * @param {boolean} autopause\n     * @return {SetAutopausePromise}\n     */\n\n  }, {\n    key: \"setAutopause\",\n    value: function setAutopause(autopause) {\n      return this.set('autopause', autopause);\n    }\n    /**\n     * A promise to get the buffered property of the video.\n     *\n     * @promise GetBufferedPromise\n     * @fulfill {Array} Buffered Timeranges converted to an Array.\n     */\n\n    /**\n     * Get the buffered property of the video.\n     *\n     * @return {GetBufferedPromise}\n     */\n\n  }, {\n    key: \"getBuffered\",\n    value: function getBuffered() {\n      return this.get('buffered');\n    }\n    /**\n     * @typedef {Object} CameraProperties\n     * @prop {number} props.yaw - Number between 0 and 360.\n     * @prop {number} props.pitch - Number between -90 and 90.\n     * @prop {number} props.roll - Number between -180 and 180.\n     * @prop {number} props.fov - The field of view in degrees.\n     */\n\n    /**\n     * A promise to get the camera properties of the player.\n     *\n     * @promise GetCameraPromise\n     * @fulfill {CameraProperties} The camera properties.\n     */\n\n    /**\n     * For 360° videos get the camera properties for this player.\n     *\n     * @return {GetCameraPromise}\n     */\n\n  }, {\n    key: \"getCameraProps\",\n    value: function getCameraProps() {\n      return this.get('cameraProps');\n    }\n    /**\n     * A promise to set the camera properties of the player.\n     *\n     * @promise SetCameraPromise\n     * @fulfill {Object} The camera was successfully set.\n     * @reject {RangeError} The range was out of bounds.\n     */\n\n    /**\n     * For 360° videos set the camera properties for this player.\n     *\n     * @param {CameraProperties} camera The camera properties\n     * @return {SetCameraPromise}\n     */\n\n  }, {\n    key: \"setCameraProps\",\n    value: function setCameraProps(camera) {\n      return this.set('cameraProps', camera);\n    }\n    /**\n     * A representation of a chapter.\n     *\n     * @typedef {Object} VimeoChapter\n     * @property {number} startTime The start time of the chapter.\n     * @property {object} title The title of the chapter.\n     * @property {number} index The place in the order of Chapters. Starts at 1.\n     */\n\n    /**\n     * A promise to get chapters for the video.\n     *\n     * @promise GetChaptersPromise\n     * @fulfill {VimeoChapter[]} The chapters for the video.\n     */\n\n    /**\n     * Get an array of all the chapters for the video.\n     *\n     * @return {GetChaptersPromise}\n     */\n\n  }, {\n    key: \"getChapters\",\n    value: function getChapters() {\n      return this.get('chapters');\n    }\n    /**\n     * A promise to get the currently active chapter.\n     *\n     * @promise GetCurrentChaptersPromise\n     * @fulfill {VimeoChapter|undefined} The current chapter for the video.\n     */\n\n    /**\n     * Get the currently active chapter for the video.\n     *\n     * @return {GetCurrentChaptersPromise}\n     */\n\n  }, {\n    key: \"getCurrentChapter\",\n    value: function getCurrentChapter() {\n      return this.get('currentChapter');\n    }\n    /**\n     * A promise to get the color of the player.\n     *\n     * @promise GetColorPromise\n     * @fulfill {string} The hex color of the player.\n     */\n\n    /**\n     * Get the color for this player.\n     *\n     * @return {GetColorPromise}\n     */\n\n  }, {\n    key: \"getColor\",\n    value: function getColor() {\n      return this.get('color');\n    }\n    /**\n     * A promise to set the color of the player.\n     *\n     * @promise SetColorPromise\n     * @fulfill {string} The color was successfully set.\n     * @reject {TypeError} The string was not a valid hex or rgb color.\n     * @reject {ContrastError} The color was set, but the contrast is\n     *         outside of the acceptable range.\n     * @reject {EmbedSettingsError} The owner of the player has chosen to\n     *         use a specific color.\n     */\n\n    /**\n     * Set the color of this player to a hex or rgb string. Setting the\n     * color may fail if the owner of the video has set their embed\n     * preferences to force a specific color.\n     *\n     * @param {string} color The hex or rgb color string to set.\n     * @return {SetColorPromise}\n     */\n\n  }, {\n    key: \"setColor\",\n    value: function setColor(color) {\n      return this.set('color', color);\n    }\n    /**\n     * A representation of a cue point.\n     *\n     * @typedef {Object} VimeoCuePoint\n     * @property {number} time The time of the cue point.\n     * @property {object} data The data passed when adding the cue point.\n     * @property {string} id The unique id for use with removeCuePoint.\n     */\n\n    /**\n     * A promise to get the cue points of a video.\n     *\n     * @promise GetCuePointsPromise\n     * @fulfill {VimeoCuePoint[]} The cue points added to the video.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Get an array of the cue points added to the video.\n     *\n     * @return {GetCuePointsPromise}\n     */\n\n  }, {\n    key: \"getCuePoints\",\n    value: function getCuePoints() {\n      return this.get('cuePoints');\n    }\n    /**\n     * A promise to get the current time of the video.\n     *\n     * @promise GetCurrentTimePromise\n     * @fulfill {number} The current time in seconds.\n     */\n\n    /**\n     * Get the current playback position in seconds.\n     *\n     * @return {GetCurrentTimePromise}\n     */\n\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.get('currentTime');\n    }\n    /**\n     * A promise to set the current time of the video.\n     *\n     * @promise SetCurrentTimePromise\n     * @fulfill {number} The actual current time that was set.\n     * @reject {RangeError} the time was less than 0 or greater than the\n     *         video’s duration.\n     */\n\n    /**\n     * Set the current playback position in seconds. If the player was\n     * paused, it will remain paused. Likewise, if the player was playing,\n     * it will resume playing once the video has buffered.\n     *\n     * You can provide an accurate time and the player will attempt to seek\n     * to as close to that time as possible. The exact time will be the\n     * fulfilled value of the promise.\n     *\n     * @param {number} currentTime\n     * @return {SetCurrentTimePromise}\n     */\n\n  }, {\n    key: \"setCurrentTime\",\n    value: function setCurrentTime(currentTime) {\n      return this.set('currentTime', currentTime);\n    }\n    /**\n     * A promise to get the duration of the video.\n     *\n     * @promise GetDurationPromise\n     * @fulfill {number} The duration in seconds.\n     */\n\n    /**\n     * Get the duration of the video in seconds. It will be rounded to the\n     * nearest second before playback begins, and to the nearest thousandth\n     * of a second after playback begins.\n     *\n     * @return {GetDurationPromise}\n     */\n\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.get('duration');\n    }\n    /**\n     * A promise to get the ended state of the video.\n     *\n     * @promise GetEndedPromise\n     * @fulfill {boolean} Whether or not the video has ended.\n     */\n\n    /**\n     * Get the ended state of the video. The video has ended if\n     * `currentTime === duration`.\n     *\n     * @return {GetEndedPromise}\n     */\n\n  }, {\n    key: \"getEnded\",\n    value: function getEnded() {\n      return this.get('ended');\n    }\n    /**\n     * A promise to get the loop state of the player.\n     *\n     * @promise GetLoopPromise\n     * @fulfill {boolean} Whether or not the player is set to loop.\n     */\n\n    /**\n     * Get the loop state of the player.\n     *\n     * @return {GetLoopPromise}\n     */\n\n  }, {\n    key: \"getLoop\",\n    value: function getLoop() {\n      return this.get('loop');\n    }\n    /**\n     * A promise to set the loop state of the player.\n     *\n     * @promise SetLoopPromise\n     * @fulfill {boolean} The loop state that was set.\n     */\n\n    /**\n     * Set the loop state of the player. When set to `true`, the player\n     * will start over immediately once playback ends.\n     *\n     * @param {boolean} loop\n     * @return {SetLoopPromise}\n     */\n\n  }, {\n    key: \"setLoop\",\n    value: function setLoop(loop) {\n      return this.set('loop', loop);\n    }\n    /**\n     * A promise to set the muted state of the player.\n     *\n     * @promise SetMutedPromise\n     * @fulfill {boolean} The muted state that was set.\n     */\n\n    /**\n     * Set the muted state of the player. When set to `true`, the player\n     * volume will be muted.\n     *\n     * @param {boolean} muted\n     * @return {SetMutedPromise}\n     */\n\n  }, {\n    key: \"setMuted\",\n    value: function setMuted(muted) {\n      return this.set('muted', muted);\n    }\n    /**\n     * A promise to get the muted state of the player.\n     *\n     * @promise GetMutedPromise\n     * @fulfill {boolean} Whether or not the player is muted.\n     */\n\n    /**\n     * Get the muted state of the player.\n     *\n     * @return {GetMutedPromise}\n     */\n\n  }, {\n    key: \"getMuted\",\n    value: function getMuted() {\n      return this.get('muted');\n    }\n    /**\n     * A promise to get the paused state of the player.\n     *\n     * @promise GetLoopPromise\n     * @fulfill {boolean} Whether or not the video is paused.\n     */\n\n    /**\n     * Get the paused state of the player.\n     *\n     * @return {GetLoopPromise}\n     */\n\n  }, {\n    key: \"getPaused\",\n    value: function getPaused() {\n      return this.get('paused');\n    }\n    /**\n     * A promise to get the playback rate of the player.\n     *\n     * @promise GetPlaybackRatePromise\n     * @fulfill {number} The playback rate of the player on a scale from 0.5 to 2.\n     */\n\n    /**\n     * Get the playback rate of the player on a scale from `0.5` to `2`.\n     *\n     * @return {GetPlaybackRatePromise}\n     */\n\n  }, {\n    key: \"getPlaybackRate\",\n    value: function getPlaybackRate() {\n      return this.get('playbackRate');\n    }\n    /**\n     * A promise to set the playbackrate of the player.\n     *\n     * @promise SetPlaybackRatePromise\n     * @fulfill {number} The playback rate was set.\n     * @reject {RangeError} The playback rate was less than 0.5 or greater than 2.\n     */\n\n    /**\n     * Set the playback rate of the player on a scale from `0.5` to `2`. When set\n     * via the API, the playback rate will not be synchronized to other\n     * players or stored as the viewer's preference.\n     *\n     * @param {number} playbackRate\n     * @return {SetPlaybackRatePromise}\n     */\n\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(playbackRate) {\n      return this.set('playbackRate', playbackRate);\n    }\n    /**\n     * A promise to get the played property of the video.\n     *\n     * @promise GetPlayedPromise\n     * @fulfill {Array} Played Timeranges converted to an Array.\n     */\n\n    /**\n     * Get the played property of the video.\n     *\n     * @return {GetPlayedPromise}\n     */\n\n  }, {\n    key: \"getPlayed\",\n    value: function getPlayed() {\n      return this.get('played');\n    }\n    /**\n     * A promise to get the qualities available of the current video.\n     *\n     * @promise GetQualitiesPromise\n     * @fulfill {Array} The qualities of the video.\n     */\n\n    /**\n     * Get the qualities of the current video.\n     *\n     * @return {GetQualitiesPromise}\n     */\n\n  }, {\n    key: \"getQualities\",\n    value: function getQualities() {\n      return this.get('qualities');\n    }\n    /**\n     * A promise to get the current set quality of the video.\n     *\n     * @promise GetQualityPromise\n     * @fulfill {string} The current set quality.\n     */\n\n    /**\n     * Get the current set quality of the video.\n     *\n     * @return {GetQualityPromise}\n     */\n\n  }, {\n    key: \"getQuality\",\n    value: function getQuality() {\n      return this.get('quality');\n    }\n    /**\n     * A promise to set the video quality.\n     *\n     * @promise SetQualityPromise\n     * @fulfill {number} The quality was set.\n     * @reject {RangeError} The quality is not available.\n     */\n\n    /**\n     * Set a video quality.\n     *\n     * @param {string} quality\n     * @return {SetQualityPromise}\n     */\n\n  }, {\n    key: \"setQuality\",\n    value: function setQuality(quality) {\n      return this.set('quality', quality);\n    }\n    /**\n     * A promise to get the seekable property of the video.\n     *\n     * @promise GetSeekablePromise\n     * @fulfill {Array} Seekable Timeranges converted to an Array.\n     */\n\n    /**\n     * Get the seekable property of the video.\n     *\n     * @return {GetSeekablePromise}\n     */\n\n  }, {\n    key: \"getSeekable\",\n    value: function getSeekable() {\n      return this.get('seekable');\n    }\n    /**\n     * A promise to get the seeking property of the player.\n     *\n     * @promise GetSeekingPromise\n     * @fulfill {boolean} Whether or not the player is currently seeking.\n     */\n\n    /**\n     * Get if the player is currently seeking.\n     *\n     * @return {GetSeekingPromise}\n     */\n\n  }, {\n    key: \"getSeeking\",\n    value: function getSeeking() {\n      return this.get('seeking');\n    }\n    /**\n     * A promise to get the text tracks of a video.\n     *\n     * @promise GetTextTracksPromise\n     * @fulfill {VimeoTextTrack[]} The text tracks associated with the video.\n     */\n\n    /**\n     * Get an array of the text tracks that exist for the video.\n     *\n     * @return {GetTextTracksPromise}\n     */\n\n  }, {\n    key: \"getTextTracks\",\n    value: function getTextTracks() {\n      return this.get('textTracks');\n    }\n    /**\n     * A promise to get the embed code for the video.\n     *\n     * @promise GetVideoEmbedCodePromise\n     * @fulfill {string} The `<iframe>` embed code for the video.\n     */\n\n    /**\n     * Get the `<iframe>` embed code for the video.\n     *\n     * @return {GetVideoEmbedCodePromise}\n     */\n\n  }, {\n    key: \"getVideoEmbedCode\",\n    value: function getVideoEmbedCode() {\n      return this.get('videoEmbedCode');\n    }\n    /**\n     * A promise to get the id of the video.\n     *\n     * @promise GetVideoIdPromise\n     * @fulfill {number} The id of the video.\n     */\n\n    /**\n     * Get the id of the video.\n     *\n     * @return {GetVideoIdPromise}\n     */\n\n  }, {\n    key: \"getVideoId\",\n    value: function getVideoId() {\n      return this.get('videoId');\n    }\n    /**\n     * A promise to get the title of the video.\n     *\n     * @promise GetVideoTitlePromise\n     * @fulfill {number} The title of the video.\n     */\n\n    /**\n     * Get the title of the video.\n     *\n     * @return {GetVideoTitlePromise}\n     */\n\n  }, {\n    key: \"getVideoTitle\",\n    value: function getVideoTitle() {\n      return this.get('videoTitle');\n    }\n    /**\n     * A promise to get the native width of the video.\n     *\n     * @promise GetVideoWidthPromise\n     * @fulfill {number} The native width of the video.\n     */\n\n    /**\n     * Get the native width of the currently‐playing video. The width of\n     * the highest‐resolution available will be used before playback begins.\n     *\n     * @return {GetVideoWidthPromise}\n     */\n\n  }, {\n    key: \"getVideoWidth\",\n    value: function getVideoWidth() {\n      return this.get('videoWidth');\n    }\n    /**\n     * A promise to get the native height of the video.\n     *\n     * @promise GetVideoHeightPromise\n     * @fulfill {number} The native height of the video.\n     */\n\n    /**\n     * Get the native height of the currently‐playing video. The height of\n     * the highest‐resolution available will be used before playback begins.\n     *\n     * @return {GetVideoHeightPromise}\n     */\n\n  }, {\n    key: \"getVideoHeight\",\n    value: function getVideoHeight() {\n      return this.get('videoHeight');\n    }\n    /**\n     * A promise to get the vimeo.com url for the video.\n     *\n     * @promise GetVideoUrlPromise\n     * @fulfill {number} The vimeo.com url for the video.\n     * @reject {PrivacyError} The url isn’t available because of the video’s privacy setting.\n     */\n\n    /**\n     * Get the vimeo.com url for the video.\n     *\n     * @return {GetVideoUrlPromise}\n     */\n\n  }, {\n    key: \"getVideoUrl\",\n    value: function getVideoUrl() {\n      return this.get('videoUrl');\n    }\n    /**\n     * A promise to get the volume level of the player.\n     *\n     * @promise GetVolumePromise\n     * @fulfill {number} The volume level of the player on a scale from 0 to 1.\n     */\n\n    /**\n     * Get the current volume level of the player on a scale from `0` to `1`.\n     *\n     * Most mobile devices do not support an independent volume from the\n     * system volume. In those cases, this method will always return `1`.\n     *\n     * @return {GetVolumePromise}\n     */\n\n  }, {\n    key: \"getVolume\",\n    value: function getVolume() {\n      return this.get('volume');\n    }\n    /**\n     * A promise to set the volume level of the player.\n     *\n     * @promise SetVolumePromise\n     * @fulfill {number} The volume was set.\n     * @reject {RangeError} The volume was less than 0 or greater than 1.\n     */\n\n    /**\n     * Set the volume of the player on a scale from `0` to `1`. When set\n     * via the API, the volume level will not be synchronized to other\n     * players or stored as the viewer’s preference.\n     *\n     * Most mobile devices do not support setting the volume. An error will\n     * *not* be triggered in that situation.\n     *\n     * @param {number} volume\n     * @return {SetVolumePromise}\n     */\n\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(volume) {\n      return this.set('volume', volume);\n    }\n  }]);\n\n  return Player;\n}(); // Setup embed only if this is not a node environment\n\n\nif (!isNode) {\n  screenfull = initializeScreenfull();\n  initializeEmbeds();\n  resizeEmbeds();\n  initAppendVideoMetadata();\n}\n\nexport default Player;\n","import { add, listen, qs, remove } from \"@fluorescent/dom\";\nimport Video from \"@fluorescent/video\";\n\nimport { section } from \"@/neon\";\n\nsection(\"video\", {\n  onLoad() {\n    const { videoId, videoType } = this.container.dataset;\n\n    if (!videoId || !videoType) return;\n\n    const player = qs(\"[data-video-player]\", this.container);\n    const button = qs(\"[data-play-button]\", this.container);\n    const overlay = qs(\"[data-overlay]\", this.container);\n    const image = qs(\".video__image\", this.container);\n\n    const firstPlayClick = () => {\n      if (this.video) {\n        return;\n      }\n      this.video = Video(this.container, {\n        id: videoId,\n        type: videoType,\n        playerEl: player,\n      });\n\n      this.video.on(\"play\", () => {\n        const iframe = qs(\"iframe\", this.container);\n        iframe.taxindex = 0;\n        iframe.focus();\n\n        remove(overlay, \"visible\");\n        image && remove(image, \"visible\");\n      });\n\n      this.video.on(\"pause\", () => {\n        const iframe = qs(\"iframe\", this.container);\n        iframe.tabindex = -1;\n\n        add(overlay, \"visible\");\n        image && add(image, \"visible\");\n\n        button.focus();\n      });\n\n      this.buttonClick = listen(button, \"click\", () => {\n        this.video.play();\n      });\n\n      this.video.play();\n    };\n\n    this.firstPlayHandler = listen(button, \"click\", firstPlayClick);\n  },\n\n  onUnload() {\n    this.video && this.video.destroy();\n    this.buttonClick();\n    this.firstPlayHandler();\n  },\n});\n","import{qs as e}from\"@fluorescent/dom\";import{create as o}from\"evx\";import t from\"youtube-player\";import i from\"@vimeo/player\";export default function(a,n){void 0===n&&(n={});var u,r=n.id,d=n.playerEl,p=n.type;if(r&&p){var y=o(),f=y.on,l=y.emit;return\"youtube\"===p?((u=t(d)).loadVideoById({videoId:r,suggestedQuality:\"large\"}),u.stopVideo(),u.on(\"stateChange\",function(e){1===e.data?l(\"play\"):2===e.data&&l(\"pause\")}),u.on(\"ready\",function(){l(\"ready\"),m()})):\"vimeo\"===p&&((u=new i(d,{id:r})).on(\"play\",function(){return l(\"play\")}),u.on(\"pause\",function(){return l(\"pause\")}),u.ready().then(function(){l(\"ready\"),m()})),{destroy:function(){},on:f,pause:function(){\"youtube\"===p?u.pauseVideo():\"vimeo\"===p&&u.pause()},play:function(){\"youtube\"===p?u.playVideo():\"vimeo\"===p&&u.play()}}}function m(){var o=e(\"iframe\",a),t=o.height/o.width*100,i=o.parentNode;o.height=\"100%\",o.width=\"100%\",\"youtube\"===p?i.style.paddingTop=t+\"%\":\"vimeo\"===p&&(i.parentNode.style.paddingTop=t+\"%\"),l(\"resized\")}}\n","import { qsa } from \"@fluorescent/dom\";\nimport { section } from \"@/neon\";\n\nimport { backgroundVideoHandler } from \"@/lib/a11y\";\n\nconst selectors = {\n  video: \".mosaic-grid__item-video\",\n};\n\nsection(\"mosaic-grid\", {\n  onLoad() {\n    const videos = qsa(selectors.video, this.container);\n    this.videoHandlers = [];\n\n    if (videos.length) {\n      videos.forEach(video => {\n        this.videoHandlers.push(backgroundVideoHandler(video.parentNode));\n      });\n    }\n  },\n\n  onUnload() {\n    this.videoHandlers.forEach(handler => handler());\n  },\n});\n","/* @preserve\n * https://github.com/Elkfox/Ajaxinate\n * Copyright (c) 2017 Elkfox Co Pty Ltd (elkfox.com)\n * MIT License (do not remove above copyright!)\n */\n\n/* Configurable options;\n *\n * method: scroll or click\n * container: selector of repeating content\n * pagination: selector of pagination container\n * offset: number of pixels before the bottom to start loading more on scroll\n * loadingText: 'Loading', The text shown during when appending new content\n * callback: null, callback function after new content is appended\n *\n * Usage;\n *\n * import {Ajaxinate} from 'ajaxinate';\n *\n * new Ajaxinate({\n *   offset: 5000,\n *   loadingText: 'Loading more...',\n * });\n */\n\n/* eslint-env browser */\nexport function Ajaxinate(config) {\n  const settings = config || {};\n\n  const defaults = {\n    method: \"scroll\",\n    container: \"#AjaxinateContainer\",\n    pagination: \"#AjaxinatePagination\",\n    offset: 0,\n    loadingText: \"Loading\",\n    callback: null,\n  };\n\n  // Merge custom configs with defaults\n  this.settings = Object.assign(defaults, settings);\n\n  // Functions\n  this.addScrollListeners = this.addScrollListeners.bind(this);\n  this.addClickListener = this.addClickListener.bind(this);\n  this.checkIfPaginationInView = this.checkIfPaginationInView.bind(this);\n  this.preventMultipleClicks = this.preventMultipleClicks.bind(this);\n  this.removeClickListener = this.removeClickListener.bind(this);\n  this.removeScrollListener = this.removeScrollListener.bind(this);\n  this.removePaginationElement = this.removePaginationElement.bind(this);\n  this.destroy = this.destroy.bind(this);\n\n  // Selectors\n  this.containerElement = document.querySelector(this.settings.container);\n  this.paginationElement = document.querySelector(this.settings.pagination);\n  this.initialize();\n}\n\nAjaxinate.prototype.initialize = function initialize() {\n  if (!this.containerElement) {\n    return;\n  }\n\n  const initializers = {\n    click: this.addClickListener,\n    scroll: this.addScrollListeners,\n  };\n\n  initializers[this.settings.method]();\n};\n\nAjaxinate.prototype.addScrollListeners = function addScrollListeners() {\n  if (!this.paginationElement) {\n    return;\n  }\n\n  document.addEventListener(\"scroll\", this.checkIfPaginationInView);\n  window.addEventListener(\"resize\", this.checkIfPaginationInView);\n  window.addEventListener(\"orientationchange\", this.checkIfPaginationInView);\n};\n\nAjaxinate.prototype.addClickListener = function addClickListener() {\n  if (!this.paginationElement) {\n    return;\n  }\n\n  this.nextPageLinkElement = this.paginationElement.querySelector(\"a\");\n  this.clickActive = true;\n\n  if (\n    typeof this.nextPageLinkElement !== \"undefined\" &&\n    this.nextPageLinkElement !== null\n  ) {\n    this.nextPageLinkElement.addEventListener(\n      \"click\",\n      this.preventMultipleClicks\n    );\n  }\n};\n\nAjaxinate.prototype.preventMultipleClicks = function preventMultipleClicks(\n  event\n) {\n  event.preventDefault();\n\n  if (!this.clickActive) {\n    return;\n  }\n\n  this.nextPageLinkElement.innerText = this.settings.loadingText;\n  this.nextPageUrl = this.nextPageLinkElement.href;\n  this.clickActive = false;\n\n  this.loadMore();\n};\n\nAjaxinate.prototype.checkIfPaginationInView = function checkIfPaginationInView() {\n  const top =\n    this.paginationElement.getBoundingClientRect().top - this.settings.offset;\n  const bottom =\n    this.paginationElement.getBoundingClientRect().bottom +\n    this.settings.offset;\n\n  if (top <= window.innerHeight && bottom >= 0) {\n    this.nextPageLinkElement = this.paginationElement.querySelector(\"a\");\n    this.removeScrollListener();\n\n    if (this.nextPageLinkElement) {\n      this.nextPageLinkElement.innerText = this.settings.loadingText;\n      this.nextPageUrl = this.nextPageLinkElement.href;\n\n      this.loadMore();\n    }\n  }\n};\n\nAjaxinate.prototype.loadMore = function getTheHtmlOfTheNextPageWithAnAjaxRequest() {\n  this.request = new XMLHttpRequest();\n  this.request.onreadystatechange = function success() {\n    if (this.request.readyState === 4 && this.request.status === 200) {\n      var parser = new DOMParser();\n      var htmlDoc = parser.parseFromString(\n        this.request.responseText,\n        \"text/html\"\n      );\n      var newContainer = htmlDoc.querySelectorAll(this.settings.container)[0];\n      var newPagination = htmlDoc.querySelectorAll(this.settings.pagination)[0];\n      this.containerElement.insertAdjacentHTML(\n        \"beforeend\",\n        newContainer.innerHTML\n      );\n      this.paginationElement.innerHTML = newPagination.innerHTML;\n      if (\n        this.settings.callback &&\n        typeof this.settings.callback === \"function\"\n      ) {\n        this.settings.callback(this.request.responseXML);\n      }\n      this.initialize();\n    }\n  }.bind(this);\n  this.request.open(\"GET\", this.nextPageUrl);\n  this.request.send();\n};\n\nAjaxinate.prototype.removeClickListener = function removeClickListener() {\n  this.nextPageLinkElement.removeEventListener(\n    \"click\",\n    this.preventMultipleClicks\n  );\n};\n\nAjaxinate.prototype.removePaginationElement = function removePaginationElement() {\n  this.paginationElement.innerHTML = \"\";\n  this.destroy();\n};\n\nAjaxinate.prototype.removeScrollListener = function removeScrollListener() {\n  document.removeEventListener(\"scroll\", this.checkIfPaginationInView);\n  window.removeEventListener(\"resize\", this.checkIfPaginationInView);\n  window.removeEventListener(\"orientationchange\", this.checkIfPaginationInView);\n};\n\nAjaxinate.prototype.destroy = function destroy() {\n  const destroyers = {\n    click: this.removeClickListener,\n    scroll: this.removeScrollListener,\n  };\n\n  destroyers[this.settings.method]();\n\n  return this;\n};\n\nexport default Ajaxinate;\n","import { listen, qs, qsa } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\n\nsection(\"cart\", {\n  onLoad() {\n    const form = qs(\"[data-form]\", this.container);\n    const buttons = qsa(\"[data-change]\", this.container);\n\n    let timer;\n\n    this.buttonClick = listen(buttons, \"click\", e => {\n      e.preventDefault();\n      const { change } = e.currentTarget.dataset;\n\n      const input = qs(\"input\", e.currentTarget.parentNode);\n\n      if (change === \"increment\") {\n        input.value >= 0 && input.value++;\n      } else if (change === \"decrement\") {\n        input.value > 0 && input.value--;\n      }\n\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        form.submit();\n      }, 1000);\n    });\n  },\n\n  onUnload() {\n    this.buttonClick();\n  },\n});\n","import { emit, on } from \"@/neon/events\";\n\nconst FILTERS_REMOVE = \"collection:filters:remove\";\nconst RANGE_REMOVE = \"collection:range:remove\";\nconst EVERYTHING_CLEAR = \"collection:clear\";\nconst FILTERS_UPDATE = \"collection:filters:update\";\n\nexport const updateFilters = target => emit(FILTERS_UPDATE, null, { target });\nexport const removeFilters = target => emit(FILTERS_REMOVE, null, { target });\nexport const removeRange = () => emit(RANGE_REMOVE);\nexport const clearAll = () => emit(EVERYTHING_CLEAR);\n\nexport const filtersUpdated = cb => on(FILTERS_UPDATE, cb);\nexport const filtersRemoved = cb => on(FILTERS_REMOVE, cb);\nexport const everythingCleared = cb => on(EVERYTHING_CLEAR, cb);\nexport const rangeRemoved = cb => on(RANGE_REMOVE, cb);\n","import { add, listen, qs, qsa, remove, toggle } from \"@fluorescent/dom\";\nimport { get, set } from \"@fluorescent/storage\";\nimport { slideDown, slideUp, slideStop, isVisible } from \"slide-anim\";\n\nimport { updateFilters } from \"@/lib/filters/events\";\n\nconst classes = {\n  active: \"active\",\n  closed: \"closed\",\n};\n\nconst ls = {\n  getClosed: () => get(\"closed_sidebar_groups\") || [],\n  setClosed: val => set(\"closed_sidebar_groups\", JSON.stringify(val)),\n};\n\nconst sel = {\n  heading: \"[data-heading]\",\n  tag: \"[data-tag]\",\n  sort: \"[data-sort]\",\n  form: \"[data-filter-form]\",\n  getGroup: group => `[data-group=\"${group}\"]`,\n};\n\nexport default node => {\n  if (!node) return Function();\n\n  const sortOptions = qsa(sel.sort, node);\n  const groupHeadings = qsa(sel.heading, node);\n\n  listen(node, \"change\", handleInputChange);\n  listen(sortOptions, \"click\", handleSortClicked);\n  listen(groupHeadings, \"click\", handleGroupHeadingClicked);\n\n  function handleGroupHeadingClicked(event) {\n    const heading = event.target;\n    const { nextElementSibling: content } = event.target;\n    slideStop(content);\n\n    const current = ls.getClosed();\n    if (isVisible(content)) {\n      add(event.target, classes.closed);\n      slideUp(content);\n      ls.setClosed([...current, heading]);\n    } else {\n      remove(event.target, classes.closed);\n      slideDown(content);\n      ls.setClosed(current.filter(item => item !== heading));\n    }\n  }\n\n  // Hide groups that were previously closed by the user\n  const hiddenGroups = ls.getClosed();\n  hiddenGroups.forEach(group => {\n    const g = qs(sel.getGroup(group), node);\n    if (g) {\n      add(qs(sel.heading, g), classes.closed);\n      slideUp(g.querySelector(\"ul\"), { duration: 1 });\n    }\n  });\n\n  function handleInputChange(event) {\n    const form = event.target.closest(sel.form);\n    updateFilters(form);\n  }\n\n  function handleSortClicked(event) {\n    const form = event.target.closest(sel.form);\n    updateFilters(form);\n  }\n  return () => {\n    click();\n\n    tagSubscription();\n    sortSubscription();\n  };\n};\n","import {\n  add,\n  contains,\n  listen,\n  qs,\n  qsa,\n  remove,\n  toggle,\n} from \"@fluorescent/dom\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\n\nimport { on } from \"@/neon/events\";\n\nimport { updateFilters } from \"@/lib/filters/events\";\n\nconst sel = {\n  filter: \"[data-mobile-filter]\",\n  modal: \"[data-mobile-modal]\",\n  button: \"[data-button]\",\n  wash: \"[data-mobile-wash]\",\n  tag: \"[data-tag]\",\n  sort: \"[data-sort]\",\n  close: \"[data-close-icon]\",\n};\n\nconst classes = {\n  active: \"active\",\n};\n\nexport default node => {\n  const pills = qsa(sel.filter, node);\n  const modals = qsa(sel.modal, node);\n  const wash = qs(sel.wash, node);\n  const closeButtons = qsa(sel.close, node);\n\n  const pillClick = listen(pills, \"click\", clickPill);\n  const washClick = listen(wash, \"click\", clickWash);\n  const closeClick = listen(closeButtons, \"click\", clickWash);\n  listen(qsa(sel.button, node), \"click\", clickButton);\n\n  function clickPill(e) {\n    e.preventDefault();\n    const { mobileFilter } = e.currentTarget.dataset;\n\n    add(wash, classes.active);\n    add(qs(`[data-mobile-modal=\"${mobileFilter}\"]`, node), classes.active);\n    disableBodyScroll(node, {\n      allowTouchMove: el => {\n        while (el && el !== document.body) {\n          if (el.getAttribute(\"data-scroll-lock-ignore\") !== null) {\n            return true;\n          }\n          el = el.parentNode;\n        }\n      },\n      reserveScrollBarGap: true,\n    });\n  }\n\n  function clickWash() {\n    remove([...modals, wash], classes.active);\n    enableBodyScroll(node);\n  }\n\n  function clickButton(e) {\n    e.preventDefault();\n    const { button } = e.currentTarget.dataset;\n\n    const modal = e.currentTarget.closest(sel.modal);\n    if (button === \"clear\") {\n      const inputs = qsa(\"[data-filter-item-input]\", modal);\n      inputs.forEach(input => {\n        if (input.type === \"checkbox\" || input.type === \"radio\") {\n          input.checked = false;\n        } else {\n          input.value = \"\";\n        }\n      });\n    } else if (button === \"apply\") {\n      const form = e.currentTarget.closest(\"[data-filter-form]\");\n      updateFilters(form);\n      clickWash();\n    }\n  }\n\n  return () => {\n    pillClick();\n    washClick();\n    closeClick();\n  };\n};\n","import { qsa } from \"@fluorescent/dom\";\n\nconst filtering = container => {\n  const forms = qsa(\"[data-filter-form]\", container);\n  let formData, searchParams;\n  setParams();\n\n  function setParams(form) {\n    if (!form) {\n      console.warn(\"filtering#setParams no form passed\");\n    }\n    form = form || forms[0];\n    formData = new FormData(form);\n    searchParams = new URLSearchParams(formData).toString();\n  }\n\n  /**\n   * Takes the updated form element and updates all other forms with the updated values\n   * @param {*} target\n   */\n  function syncForms(target) {\n    if (!target) return;\n\n    const targetInputs = qsa(\"[data-filter-item-input]\", target);\n\n    targetInputs.forEach(targetInput => {\n      if (targetInput.type === \"checkbox\" || targetInput.type === \"radio\") {\n        const { valueEscaped } = targetInput.dataset;\n        const items = qsa(\n          `input[name='${targetInput.name}'][data-value-escaped='${valueEscaped}']`\n        );\n\n        items.forEach(input => {\n          input.checked = targetInput.checked;\n        });\n      } else {\n        const items = qsa(`input[name='${targetInput.name}']`);\n        items.forEach(input => {\n          input.value = targetInput.value;\n        });\n      }\n    });\n  }\n\n  /**\n   * When filters are removed, set the checked attribute to false\n   * for all filter inputs for that filter.\n   * Can accept multiple filters\n   * @param {Array} targets Array of inputs\n   */\n  function uncheckFilters(targets) {\n    if (!targets) return;\n\n    let selector;\n\n    targets.forEach(target => {\n      selector = !selector ? \"\" : `, ${selector}`;\n      const { name, valueEscaped } = target.dataset;\n      selector = `input[name='${name}'][data-value-escaped='${valueEscaped}']${selector}`;\n    });\n\n    const inputs = qsa(selector, container);\n\n    inputs.forEach(input => {\n      input.checked = false;\n    });\n  }\n\n  function clearRangeInputs() {\n    const rangeInputs = qsa(\"[data-range-input]\", container);\n    rangeInputs.forEach(input => {\n      input.value = \"\";\n    });\n  }\n\n  function resetForms() {\n    forms.forEach(form => {\n      form.reset();\n    });\n  }\n\n  return {\n    getState() {\n      return {\n        url: searchParams,\n      };\n    },\n\n    filtersUpdated(target, cb) {\n      syncForms(target);\n      setParams(target);\n      return cb(this.getState());\n    },\n\n    removeFilters(target, cb) {\n      uncheckFilters(target);\n      setParams();\n      return cb(this.getState());\n    },\n\n    removeRange(cb) {\n      clearRangeInputs();\n      setParams();\n      return cb(this.getState());\n    },\n\n    clearAll(cb) {\n      searchParams = \"\";\n      resetForms();\n\n      return cb(this.getState());\n    },\n  };\n};\n\nexport default filtering;\n","import Delegate from \"ftdomdelegate\";\nimport filtering from \"@/lib/filters/filtering\";\n\nimport { hydrate } from \"@/neon/events\";\nimport {\n  filtersUpdated,\n  removeFilters,\n  removeRange,\n  clearAll,\n  filtersRemoved,\n  rangeRemoved,\n  everythingCleared,\n} from \"@/lib/filters/events\";\n\nconst filterHandler = ({ container, partial, renderCB }) => {\n  let subscriptions = null;\n  let filters = null;\n  let delegate = null;\n\n  filters = filtering(container);\n\n  // Set initial evx state from collection url object\n  hydrate(filters.getState());\n\n  subscriptions = [\n    filtersRemoved((_, { target }) => {\n      filters.removeFilters(target, data => {\n        renderCB(data.url);\n        hydrate(data)();\n      });\n    }),\n\n    rangeRemoved(() => {\n      filters.removeRange(data => {\n        renderCB(data.url);\n        hydrate(data)();\n      });\n    }),\n\n    filtersUpdated((_, { target }) => {\n      filters.filtersUpdated(target, data => {\n        renderCB(data.url);\n        hydrate(data)();\n      });\n    }),\n\n    everythingCleared(() => {\n      filters.clearAll(data => {\n        renderCB(data.url);\n        hydrate(data)();\n      });\n    }),\n  ];\n\n  delegate = new Delegate(partial);\n\n  delegate.on(\"click\", \"[data-remove-filter]\", e => {\n    e.preventDefault();\n    removeFilters([e.target]);\n  });\n\n  delegate.on(\"click\", \"[data-remove-range]\", e => {\n    e.preventDefault();\n    removeRange();\n  });\n\n  delegate.on(\"click\", \"[data-clear]\", e => {\n    e.preventDefault();\n    clearAll();\n  });\n\n  const unload = () => {\n    delegate && delegate.off();\n    subscriptions && subscriptions.forEach(unsubscribe => unsubscribe());\n  };\n\n  return { unload };\n};\n\nexport default filterHandler;\n","import { add, qs, remove } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\nimport { emit } from \"@/neon/events\";\nimport { animateGrid } from \"@/lib/animation\";\nimport { Ajaxinate } from \"ajaxinate\";\n\nimport sidebar from \"@/lib/collection/sidebar\";\nimport mobileFiltering from \"@/lib/collection/mobile-filtering\";\nimport filterHandler from \"@/lib/filters/filter-handler\";\n\nconst sel = {\n  content: \"[data-js-container]\",\n  partial: \"[data-js-partial]\",\n  sidebar: \"[data-js-sidebar]\",\n  mainArea: \".collection__main-area\",\n  infiniteScrollContainer: \"[data-infinite-scroll-container]\",\n  infiniteScrollTrigger: \"[data-infinite-scroll-trigger]\",\n};\n\nsection(\"collection\", {\n  infiniteScroll: null,\n  onLoad() {\n    const { paginationType } = this.container.dataset;\n    this.partial = qs(sel.partial, this.container);\n    this.sidebar = sidebar(qs(sel.sidebar, this.container));\n    this.mainArea = qs(sel.mainArea, this.container);\n    this.pageHeader = qs(\"[data-section-type='header']\");\n\n    this.paginationType = paginationType;\n    this.paginated = this.paginationType === \"paginated\";\n    this.infiniteScrollTrigger = qs(sel.infiniteScrollTrigger, this.container);\n\n    this.mobileFiltering = mobileFiltering(this.container);\n\n    this.filterHandler = filterHandler({\n      container: this.container,\n      partial: this.partial,\n      renderCB: this.__renderView.bind(this),\n    });\n    this.animateGrid = animateGrid(this.container);\n\n    this._initInfiniteScroll();\n  },\n\n  __renderView(searchParams) {\n    const url = `${window.location.pathname}?section_id=${this.container.dataset.sectionId}&${searchParams}`;\n    const loading = qs(\".collection__loading\", this.container);\n\n    add(loading, \"is-active\");\n\n    fetch(url, { credentials: \"include\" })\n      .then(res => res.text())\n      .then(res => {\n        this._updateURLHash(searchParams);\n        const doc = new window.DOMParser().parseFromString(res, \"text/html\");\n        const contents = qs(sel.partial, doc).innerHTML;\n        this.partial.innerHTML = contents;\n\n        if (!this.paginated) {\n          this.infiniteScrollTrigger.innerHTML = \"\";\n\n          this._initInfiniteScroll();\n        }\n\n        remove(loading, \"is-active\");\n        emit(\"collection:updated\");\n        this._scrollToTop();\n      })\n      .then(() => {\n        this.animateGrid?.setupProductItems();\n      });\n  },\n\n  _initInfiniteScroll() {\n    if (this.paginated) return;\n    const infiniteScrollOptions = {\n      container: sel.infiniteScrollContainer,\n      pagination: sel.infiniteScrollTrigger,\n      loadingText: \"Loading...\",\n      callback: () => {\n        emit(\"collection:updated\");\n\n        this.animateGrid?.setupProductItems();\n      },\n    };\n\n    if (this.paginationType === \"click\") {\n      infiniteScrollOptions.method = \"click\";\n    }\n\n    this.infiniteScroll = new Ajaxinate(infiniteScrollOptions);\n  },\n\n  _scrollToTop() {\n    const topOfGrid = this.mainArea.offsetTop;\n    const headerHeight = this.pageHeader.offsetHeight;\n    const destination = topOfGrid - headerHeight - 20;\n\n    if (document.documentElement.scrollTop > destination) {\n      window.scrollTo({ top: destination, behavior: \"smooth\" });\n    }\n  },\n\n  _updateURLHash(searchParams) {\n    history.pushState(\n      { searchParams },\n      \"\",\n      `${window.location.pathname}${searchParams && \"?\".concat(searchParams)}`\n    );\n  },\n\n  onUnload() {\n    this.infiniteScroll && this.infiniteScroll.destroy();\n  },\n});\n","import { qs, listen, toggle, add, remove } from \"@fluorescent/dom\";\nimport { section } from \"@/neon\";\nimport { emit } from \"@/neon/events\";\nimport { animateGrid } from \"@/lib/animation\";\n\nimport sidebar from \"@/lib/collection/sidebar\";\nimport mobileFiltering from \"@/lib/collection/mobile-filtering\";\nimport filterHandler from \"@/lib/filters/filter-handler\";\n\nconst sel = {\n  partial: \"[data-js-partial]\",\n  sidebar: \"[data-js-sidebar]\",\n  mainArea: \".search-results-wrapper\",\n};\n\nsection(\"search\", {\n  onLoad() {\n    this.partial = qs(sel.partial, this.container);\n    this.sidebar = sidebar(qs(sel.sidebar, this.container));\n    this.mainArea = qs(sel.mainArea, this.container);\n    this.pageHeader = qs(\"[data-section-type='header']\");\n\n    this.mobileFiltering = mobileFiltering(this.container);\n\n    this.filterHandler = filterHandler({\n      container: this.container,\n      partial: this.partial,\n      renderCB: this.__renderView.bind(this),\n    });\n\n    this.animateGrid = animateGrid(this.container);\n  },\n\n  __renderView(searchParams) {\n    const url = `${window.location.pathname}?section_id=${this.container.dataset.sectionId}&${searchParams}`;\n    const loading = qs(\".collection__loading\", this.container);\n\n    add(loading, \"is-active\");\n\n    fetch(url, { credentials: \"include\" })\n      .then(res => res.text())\n      .then(res => {\n        this._updateURLHash(searchParams);\n        const doc = new window.DOMParser().parseFromString(res, \"text/html\");\n        const contents = qs(sel.partial, doc).innerHTML;\n        this.partial.innerHTML = contents;\n\n        remove(loading, \"is-active\");\n        emit(\"collection:updated\");\n        this._scrollToTop();\n      })\n      .then(() => {\n        this.animateGrid?.setupProductItems();\n      });\n  },\n\n  _scrollToTop() {\n    const topOfGrid = this.mainArea.offsetTop;\n    const headerHeight = this.pageHeader.offsetHeight;\n    const destination = topOfGrid - headerHeight - 20;\n\n    if (document.documentElement.scrollTop > destination) {\n      window.scrollTo({ top: destination, behavior: \"smooth\" });\n    }\n  },\n\n  _updateURLHash(searchParams) {\n    history.pushState(\n      { searchParams },\n      \"\",\n      `${window.location.pathname}${searchParams && \"?\".concat(searchParams)}`\n    );\n  },\n});\n","import { qsa } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\nimport { accordions, wrapIframes } from \"@/lib/rte\";\n\nsection(\"page\", {\n  onLoad() {\n    this.accordions = accordions(this.container);\n\n    wrapIframes(qsa(\"iframe\", this.container));\n  },\n\n  onUnload() {\n    this.accordions.destroy();\n  },\n});\n","import { qs } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\n\nconst sel = {\n  toggle: \"[data-js-toggle]\",\n};\n\nsection(\"password\", {\n  onLoad() {\n    this.toggleButton = this.container.querySelector(sel.toggle);\n    this.toggleButton.addEventListener(\"click\", e => this.toggleView(e));\n\n    const errors = qs(\".storefront-password-form .errors\", this.container);\n\n    if (errors) {\n      this.toggleView();\n    }\n  },\n\n  onUnload() {\n    this.toggleButton.removeEventListener(\"click\", e => this.toggleView(e));\n  },\n\n  toggleView() {\n    this.container.classList.toggle(\"welcome\");\n  },\n});\n","import isMobile from \"is-mobile\";\nimport { add, toggle, listen, qs, qsa, remove } from \"@fluorescent/dom\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport { createFocusTrap } from \"focus-trap\";\n\nconst selectors = {\n  close: \"[data-close]\",\n  slider: \"[data-slider]\",\n  slide: \"[data-slide]\",\n  imageById: id => `[data-id='${id}']`,\n  navItem: \"[data-nav-item]\",\n  wrapper: \".lightbox__images-wrapper\",\n  prevButton: \"[data-prev]\",\n  nextButton: \"[data-next]\",\n};\n\nconst classes = {\n  visible: \"visible\",\n  active: \"active\",\n  zoom: \"zoom\",\n};\n\nexport default function Lightbox(node) {\n  const trap = createFocusTrap(node);\n  const navItems = qsa(selectors.navItem, node);\n  const wrapper = qs(selectors.wrapper, node);\n  const images = qsa(selectors.slide, node);\n  const previousButton = qs(selectors.prevButton, node);\n  const nextButton = qs(selectors.nextButton, node);\n  const sliderContainer = qs(selectors.slider, node);\n  let slider, events;\n\n  import(flu.chunks.flickity).then(({ Flickity }) => {\n    slider = new Flickity(sliderContainer, {\n      adaptiveHeight: true,\n      draggable: isMobile({ tablet: true, featureDetect: true }),\n      prevNextButtons: false,\n      wrapAround: false,\n      pageDots: false,\n    });\n\n    if (images.length > 1) {\n      slider.on(\"scroll\", progress => {\n        _resetZoom();\n        const progressScale = progress * 100;\n\n        // https://github.com/metafizzy/flickity/issues/289\n        previousButton.disabled = progressScale < 1;\n        nextButton.disabled = progressScale > 99;\n      });\n\n      slider.on(\"select\", () => {\n        navItems.forEach(item => remove(item, classes.active));\n        add(navItems[slider.selectedIndex], classes.active);\n        navItems[slider.selectedIndex].scrollIntoView({\n          behavior: \"smooth\",\n          inline: \"nearest\",\n        });\n      });\n    } else {\n      add(previousButton, \"hidden\");\n      add(nextButton, \"hidden\");\n      previousButton.disabled = true;\n      nextButton.disabled = true;\n    }\n\n    events = [\n      listen(qs(selectors.close, node), \"click\", e => {\n        e.preventDefault();\n        close();\n      }),\n      listen(node, \"keydown\", ({ keyCode }) => {\n        if (keyCode === 27) close();\n      }),\n      listen(navItems, \"click\", e => {\n        e.preventDefault();\n\n        const { index } = e.currentTarget.dataset;\n        slider.select(index);\n      }),\n      listen(images, \"click\", e => {\n        e.preventDefault();\n\n        _handleZoom(e);\n      }),\n      listen(previousButton, \"click\", () => slider.previous()),\n      listen(nextButton, \"click\", () => slider.next()),\n    ];\n  });\n\n  function _handleZoom(event) {\n    const image = event.currentTarget;\n    const zoomed = image.classList.contains(classes.zoom);\n    toggle(image, classes.zoom, !zoomed);\n\n    if (zoomed) {\n      _resetZoom(image);\n      return;\n    }\n\n    const x = event.clientX;\n\n    const y = event.clientY + wrapper.scrollTop - sliderContainer.offsetTop;\n\n    const xDelta = (x - image.clientWidth / 2) * -1;\n    const yDelta = (y - image.clientHeight / 2) * -1;\n\n    image.style.transform = `translate3d(${xDelta}px, ${yDelta}px, 0) scale(2)`;\n  }\n\n  function _resetZoom(image) {\n    if (image) {\n      remove(image, classes.zoom);\n      image.style.transform = `translate3d(0px, 0px, 0) scale(1)`;\n\n      return;\n    }\n\n    images.forEach(image => {\n      remove(image, classes.zoom);\n      image.style.transform = `translate3d(0px, 0px, 0) scale(1)`;\n    });\n  }\n\n  function open(id) {\n    add(node, classes.active);\n    setTimeout(() => {\n      add(node, classes.visible);\n      disableBodyScroll(node, {\n        allowTouchMove: el => {\n          while (el && el !== document.body) {\n            if (el.getAttribute(\"data-scroll-lock-ignore\") !== null) {\n              return true;\n            }\n            el = el.parentNode;\n          }\n        },\n        reserveScrollBarGap: true,\n      });\n      trap.activate();\n\n      const image = qs(selectors.imageById(id), node);\n      const { slideIndex } = image.dataset;\n\n      slider && slider.select(slideIndex, false, true);\n    }, 50);\n  }\n\n  function close() {\n    _resetZoom();\n    remove(node, classes.visible);\n    setTimeout(() => {\n      remove(node, classes.active);\n\n      enableBodyScroll(node);\n      trap.deactivate();\n    }, 300);\n  }\n\n  function destroy() {\n    events.forEach(unsubscribe => unsubscribe());\n    slider && slider.destroy();\n  }\n\n  return { destroy, open };\n}\n","import { add, listen, qs, qsa, remove } from \"@fluorescent/dom\";\n\nexport default function Media(node) {\n  const { Shopify, YT } = window;\n  const elements = qsa(\"[data-interactive]\", node);\n\n  if (!elements.length) return;\n\n  const acceptedTypes = [\"video\", \"model\", \"external_video\"];\n  let activeMedia = null;\n  let instances = {};\n\n  elements.forEach(initElement);\n\n  function initElement(el) {\n    const { mediaId, mediaType } = el.dataset;\n    if (!mediaType || !acceptedTypes.includes(mediaType)) return;\n\n    if (Object.keys(instances).includes(mediaId)) return;\n\n    let instance = {\n      id: mediaId,\n      type: mediaType,\n      container: el,\n      media: el.children[0],\n    };\n\n    switch (instance.type) {\n      case \"video\":\n        let shopifyPlyrCSS = document.createElement(\"link\");\n        shopifyPlyrCSS.type = \"text/css\";\n        shopifyPlyrCSS.rel = \"stylesheet\";\n        shopifyPlyrCSS.href =\n          \"//cdn.shopify.com/shopifycloud/shopify-plyr/v1.0/shopify-plyr.css\";\n        document.getElementsByTagName(\"head\")[0].appendChild(shopifyPlyrCSS);\n\n        window.Shopify.loadFeatures(\n          [\n            {\n              name: \"video-ui\",\n              version: \"1.0\",\n            },\n          ],\n          () => {\n            console.log(\"shopify video-ui loaded\");\n            instance.player = new Shopify.Plyr(instance.media, {\n              loop: { active: el.dataset.loop == \"true\" },\n            });\n          }\n        );\n        break;\n\n      case \"external_video\":\n        window.onYouTubeIframeAPIReady = function () {\n          if (YT) {\n            instance.player = new YT.Player(instance.media);\n          }\n        };\n\n        var youtubeIframeAPIScript = document.createElement(\"script\");\n        youtubeIframeAPIScript.src = \"https://www.youtube.com/iframe_api\";\n        var firstScriptTag = document.getElementsByTagName(\"script\")[0];\n        firstScriptTag.parentNode.insertBefore(\n          youtubeIframeAPIScript,\n          firstScriptTag\n        );\n        break;\n\n      case \"model\":\n        window.Shopify.loadFeatures(\n          [\n            {\n              name: \"model-viewer-ui\",\n              version: \"1.0\",\n            },\n            {\n              name: \"shopify-xr\",\n              version: \"1.0\",\n            },\n          ],\n          () => {\n            instance.viewer = new Shopify.ModelViewerUI(qs(\"model-viewer\", el));\n            listen(qs(\".model-poster\", el), \"click\", e => {\n              e.preventDefault();\n              playModel(instance);\n            });\n          }\n        );\n\n        break;\n    }\n\n    instances[mediaId] = instance;\n\n    if (instance.player) {\n      if (instance.type === \"video\") {\n        instance.player.on(\"playing\", () => {\n          pauseActiveMedia(instance);\n          activeMedia = instance;\n        });\n      } else if (instance.type === \"external_video\") {\n        instance.player.addEventListener(\"onStateChange\", event => {\n          if (event.data === 1) {\n            pauseActiveMedia(instance);\n            activeMedia = instance;\n          }\n        });\n      }\n    }\n  }\n\n  function playModel(instance) {\n    pauseActiveMedia(instance);\n    instance.viewer.play();\n    add(instance.container, \"model-active\");\n    activeMedia = instance;\n\n    setTimeout(() => {\n      qs(\"model-viewer\", instance.container).focus();\n    }, 300);\n  }\n\n  function pauseActiveMedia(instance) {\n    if (!activeMedia || instance == activeMedia) return;\n\n    if (activeMedia.player) {\n      if (activeMedia.type === \"video\") {\n        activeMedia.player.pause();\n      } else if (activeMedia.type === \"external_video\") {\n        activeMedia.player.pauseVideo();\n      }\n\n      activeMedia = null;\n      return;\n    }\n\n    if (activeMedia.viewer) {\n      remove(activeMedia.container, \"model-active\");\n      activeMedia.viewer.pause();\n      activeMedia = null;\n    }\n  }\n\n  return { pauseActiveMedia };\n}\n","import { listen } from \"@fluorescent/dom\";\nimport { getVariantFromSerializedArray } from \"@shopify/theme-product\";\n\nconst selectors = {\n  idInput: '[name=\"id\"]',\n  optionInput: '[name^=\"options\"]',\n  quantityInput: '[name=\"quantity\"]',\n  propertyInput: '[name^=\"properties\"]',\n};\n\nexport default function ProductForm(form, prod, config = {}) {\n  const product = validateProductObject(prod);\n  const listeners = [];\n\n  const getOptions = () => {\n    return _serializeOptionValues(optionInputs, function (item) {\n      var regex = /(?:^(options\\[))(.*?)(?:\\])/;\n      item.name = regex.exec(item.name)[2]; // Use just the value between 'options[' and ']'\n      return item;\n    });\n  };\n\n  const getVariant = () => {\n    return getVariantFromSerializedArray(product, getOptions());\n  };\n\n  const getProperties = () => {\n    const properties = _serializePropertyValues(\n      propertyInputs,\n      function (propertyName) {\n        var regex = /(?:^(properties\\[))(.*?)(?:\\])/;\n        var name = regex.exec(propertyName)[2]; // Use just the value between 'properties[' and ']'\n        return name;\n      }\n    );\n\n    return Object.entries(properties).length === 0 ? null : properties;\n  };\n\n  const getQuantity = () => {\n    return quantityInputs[0] ? Number.parseInt(quantityInputs[0].value, 10) : 1;\n  };\n\n  const getProductFormEventData = () => ({\n    options: getOptions(),\n    variant: getVariant(),\n    properties: getProperties(),\n    quantity: getQuantity(),\n  });\n\n  const onFormEvent = cb => {\n    if (typeof cb === \"undefined\") return;\n\n    return event => {\n      event.dataset = getProductFormEventData();\n      cb(event);\n    };\n  };\n\n  const setIdInputValue = value => {\n    let idInputElement = form.querySelector(selectors.idInput);\n\n    if (!idInputElement) {\n      idInputElement = document.createElement(\"input\");\n      idInputElement.type = \"hidden\";\n      idInputElement.name = \"id\";\n      form.appendChild(idInputElement);\n    }\n\n    idInputElement.value = value.toString();\n  };\n\n  const onSubmit = event => {\n    event.dataset = getProductFormEventData();\n    setIdInputValue(event.dataset.variant.id);\n\n    if (config.onFormSubmit) {\n      config.onFormSubmit(event);\n    }\n  };\n\n  const initInputs = (selector, cb) => {\n    const elements = [...form.querySelectorAll(selector)];\n\n    return elements.map(element => {\n      listeners.push(listen(element, \"change\", onFormEvent(cb)));\n      return element;\n    });\n  };\n\n  listeners.push(listen(form, \"submit\", onSubmit));\n  const optionInputs = initInputs(selectors.optionInput, config.onOptionChange);\n  const quantityInputs = initInputs(\n    selectors.quantityInput,\n    config.onQuantityChange\n  );\n  const propertyInputs = initInputs(\n    selectors.propertyInput,\n    config.onPropertyChange\n  );\n\n  const destroy = () => {\n    listeners.forEach(unsubscribe => unsubscribe());\n  };\n\n  return { getVariant, destroy };\n}\n\nfunction validateProductObject(product) {\n  if (typeof product !== \"object\") {\n    throw new TypeError(product + \" is not an object.\");\n  }\n\n  if (typeof product.variants[0].options === \"undefined\") {\n    throw new TypeError(\n      \"Product object is invalid. Make sure you use the product object that is output from {{ product | json }} or from the http://[your-product-url].js route\"\n    );\n  }\n\n  return product;\n}\n\nfunction _serializeOptionValues(inputs, transform) {\n  return inputs.reduce(function (options, input) {\n    if (\n      input.checked || // If input is a checked (means type radio or checkbox)\n      (input.type !== \"radio\" && input.type !== \"checkbox\") // Or if its any other type of input\n    ) {\n      options.push(transform({ name: input.name, value: input.value }));\n    }\n\n    return options;\n  }, []);\n}\n\nfunction _serializePropertyValues(inputs, transform) {\n  return inputs.reduce(function (properties, input) {\n    if (\n      input.checked || // If input is a checked (means type radio or checkbox)\n      (input.type !== \"radio\" && input.type !== \"checkbox\") // Or if its any other type of input\n    ) {\n      properties[transform(input.name)] = input.value;\n    }\n\n    return properties;\n  }, {});\n}\n","import { qs } from \"@fluorescent/dom\";\nimport Delegate from \"ftdomdelegate\";\nimport { emit } from \"@/neon/events\";\n\nconst selectors = {\n  drawerTrigger: \"[data-store-availability-modal-trigger]\",\n  drawer: \"[data-store-availability-modal]\",\n  productTitle: \"[data-store-availability-product-title]\",\n  storeList: \"[data-store-availability-list-content]\",\n};\n\nconst storeAvailability = (container, product, variant, options) => {\n  let storeList = null;\n  let currentVariant = variant;\n\n  const delegate = new Delegate(container);\n\n  const _clickHandler = e => {\n    e.preventDefault();\n\n    emit(\"availability:showMore\", () => ({\n      product,\n      variant: currentVariant,\n      storeList,\n      options,\n    }));\n  };\n\n  const update = (variant, delayUpdate = false) => {\n    currentVariant = variant;\n    const variantSectionUrl = `${container.dataset.baseUrl}/variants/${variant.id}/?section_id=store-availability`;\n\n    if (!delayUpdate) {\n      container.innerHTML = \"\";\n    }\n\n    fetch(variantSectionUrl)\n      .then(response => {\n        return response.text();\n      })\n      .then(storeAvailabilityHTML => {\n        if (storeAvailabilityHTML.trim() === \"\") {\n          if (delayUpdate) {\n            container.innerHTML = \"\";\n          }\n          return;\n        }\n\n        // Remove section wrapper that throws nested sections error\n        container.innerHTML = storeAvailabilityHTML.trim();\n        container.innerHTML = container.firstElementChild.innerHTML;\n\n        storeList = qs(selectors.storeList, container);\n      });\n  };\n\n  // Intialize\n  update(variant);\n  delegate.on(\"click\", selectors.drawerTrigger, _clickHandler);\n\n  const unload = () => {\n    container.innerHTML = \"\";\n  };\n\n  return { unload, update };\n};\n\nexport default storeAvailability;\n","import { qs } from \"@fluorescent/dom\";\n\nconst selectors = {\n  productSku: \"[data-product-sku]\",\n};\n\nexport default function (container, variant) {\n  const skuElement = qs(selectors.productSku, container);\n\n  if (!skuElement) return;\n\n  if (!variant || !variant.sku) {\n    skuElement.innerText = \"\";\n    return;\n  }\n\n  skuElement.innerText = variant.sku;\n}\n","import { qs } from \"@fluorescent/dom\";\n\nexport default function (btn, variant) {\n  const text = qs(\"[data-add-to-cart-text]\", btn);\n  const { langAvailable, langUnavailable, langSoldOut } = btn.dataset;\n\n  if (!variant) {\n    btn.setAttribute(\"disabled\", \"disabled\");\n    text.textContent = langUnavailable;\n  } else if (variant.available) {\n    btn.removeAttribute(\"disabled\");\n    text.textContent = langAvailable;\n  } else {\n    btn.setAttribute(\"disabled\", \"disabled\");\n    text.textContent = langSoldOut;\n  }\n}\n","import { add, listen, qs, qsa } from \"@fluorescent/dom\";\nimport { emit, on } from \"@/neon/events\";\n\nconst {\n  strings: { product: strings },\n} = theme;\n\nconst selectors = {\n  sprForm: \".spr-form\",\n  newReviewButton: \".spr-summary-actions-newreview\",\n  submitButton: \".spr-button\",\n  modalContent: \".modal__content\",\n  summery: \".spr-summary\",\n  starRating: \".spr-starrating\",\n  shopifySection: \".shopify-section\",\n};\n\nexport default function () {\n  const sprForm = qs(selectors.sprForm, document);\n  const wrappingContainer = sprForm.closest(selectors.shopifySection);\n  const newReviewButton = qs(selectors.newReviewButton, document);\n  const modalContent = qs(selectors.modalContent, document);\n  const reviewsCaption = qs(selectors.summery, document);\n\n  const headingStars = qs(selectors.starRating, reviewsCaption);\n\n  // If reviews don't exist add empty stars to heading\n  if (!headingStars) {\n    const emptyStars = `\n      <span class=\"spr-starrating spr-summary-starrating\">\n        <i class=\"spr-icon spr-icon-star-empty\"></i>\n        <i class=\"spr-icon spr-icon-star-empty\"></i>\n        <i class=\"spr-icon spr-icon-star-empty\"></i>\n        <i class=\"spr-icon spr-icon-star-empty\"></i>\n        <i class=\"spr-icon spr-icon-star-empty\"></i>\n      </span>\n    `;\n\n    reviewsCaption.insertAdjacentHTML(\"afterbegin\", emptyStars);\n  }\n\n  // Add wrapping section classes\n  if (wrappingContainer.parentNode.classList.contains(\"main\")) {\n    add(\n      wrappingContainer,\n      \"shopify-section--stackable\",\n      \"shopify-section--contrast\"\n    );\n\n    // If last section before footer add appropriate class\n    if (!wrappingContainer.nextElementSibling) {\n      add(wrappingContainer, \"shoping-section--contrast-before-footer\");\n    }\n  }\n\n  const formListener = on(\"spr-form:updated\", handleFormUpdate);\n\n  addNewButton();\n\n  function handleFormUpdate() {\n    const sprForm = qs(selectors.sprForm, document);\n    const clonedForm = sprForm.cloneNode(true);\n    modalContent.innerHTML = \"\";\n    modalContent.appendChild(clonedForm);\n  }\n\n  function addNewButton() {\n    const button = document.createElement(\"button\");\n    add(button, \"spr-summary-actions-newreview\", \"active\");\n    button.innerText = strings.review;\n    newReviewButton.parentNode.insertBefore(button, newReviewButton);\n    listen(button, \"click\", e => {\n      e.preventDefault();\n      emit(\"modal:open\", null, {\n        modalContent: sprForm,\n        narrow: true,\n      });\n    });\n  }\n\n  const unload = () => {\n    formListener();\n  };\n\n  return { unload };\n}\n","import { qs, add, remove, toggle } from \"@fluorescent/dom\";\n\nconst selectors = {\n  counterContainer: \"[data-inventory-counter]\",\n  inventoryMessage: \".inventory-counter__message\",\n  countdownBar: \".inventory-counter__bar\",\n  progressBar: \".inventory-counter__bar-progress\",\n};\n\nconst classes = {\n  active: \"active\",\n  inventoryLow: \"inventory--low\",\n};\n\nconst inventoryCounter = (container, config) => {\n  const variantsInventories = config.variantsInventories;\n  const counterContainer = qs(selectors.counterContainer, container);\n  const inventoryMessageElement = qs(selectors.inventoryMessage, container);\n  const progressBar = qs(selectors.progressBar, container);\n  const {\n    lowInventoryThreshold,\n    showUntrackedQuantity,\n    stockCountdownMax,\n    unavailableText,\n  } = counterContainer.dataset;\n\n  // If the threshold or countdownmax contains anything but numbers abort\n  if (\n    !lowInventoryThreshold.match(/^[0-9]+$/) ||\n    !stockCountdownMax.match(/^[0-9]+$/)\n  ) {\n    return;\n  }\n\n  const threshold = parseInt(lowInventoryThreshold, 10);\n  const countDownMax = parseInt(stockCountdownMax, 10);\n\n  toggle(\n    counterContainer,\n    classes.active,\n    productIventoryValid(variantsInventories[config.id])\n  );\n\n  checkThreshold(variantsInventories[config.id]);\n  setProgressBar(\n    variantsInventories[config.id].inventory_quantity,\n    variantsInventories[config.id].inventory_management\n  );\n  setInventoryMessage(variantsInventories[config.id].inventory_message);\n\n  function checkThreshold({\n    inventory_policy,\n    inventory_quantity,\n    inventory_management,\n  }) {\n    remove(counterContainer, classes.inventoryLow);\n\n    if (inventory_management !== null) {\n      if (inventory_quantity <= threshold) {\n        add(counterContainer, classes.inventoryLow);\n        counterContainer.setAttribute(\"data-stock-category\", \"low\");\n      } else {\n        counterContainer.setAttribute(\"data-stock-category\", \"sufficient\");\n      }\n    } else if (\n      inventory_management === null &&\n      showUntrackedQuantity == \"true\"\n    ) {\n      counterContainer.setAttribute(\"data-stock-category\", \"sufficient\");\n    }\n  }\n\n  function setProgressBar(inventoryQuantity, inventoryManagement) {\n    if (inventoryManagement === null && showUntrackedQuantity == \"true\") {\n      progressBar.style.width = `${100}%`;\n      return;\n    }\n\n    if (inventoryQuantity <= 0) {\n      progressBar.style.width = `${0}%`;\n      return;\n    }\n\n    const progressValue =\n      inventoryQuantity < countDownMax\n        ? (inventoryQuantity / countDownMax) * 100\n        : 100;\n\n    progressBar.style.width = `${progressValue}%`;\n  }\n\n  function setInventoryMessage(message) {\n    inventoryMessageElement.innerText = message;\n  }\n\n  function productIventoryValid(product) {\n    return (\n      product.inventory_message &&\n      (product.inventory_management !== null ||\n        (product.inventory_management === null &&\n          showUntrackedQuantity == \"true\"))\n    );\n  }\n\n  const update = variant => {\n    if (!variant) {\n      setUnavailable();\n      return;\n    }\n\n    toggle(\n      counterContainer,\n      classes.active,\n      productIventoryValid(variantsInventories[variant.id])\n    );\n\n    if (!variant) return;\n    checkThreshold(variantsInventories[variant.id]);\n    setProgressBar(\n      variantsInventories[variant.id].inventory_quantity,\n      variantsInventories[variant.id].inventory_management\n    );\n    setInventoryMessage(variantsInventories[variant.id].inventory_message);\n  };\n\n  function setUnavailable() {\n    add(counterContainer, classes.active);\n    counterContainer.setAttribute(\"data-stock-category\", \"unavailable\");\n    setProgressBar(0);\n    setInventoryMessage(unavailableText);\n  }\n\n  return { update };\n};\n\nexport default inventoryCounter;\n","import { qsa, qs, listen } from \"@fluorescent/dom\";\nimport { emit } from \"@/neon/events\";\n\nconst selectors = {\n  popupTrigger: \"[data-popup-trigger]\",\n};\n\nconst informationPopup = node => {\n  const events = [];\n\n  const popupTriggers = qsa(selectors.popupTrigger, node);\n\n  if (!popupTriggers.length) {\n    return;\n  }\n\n  const listener = listen(popupTriggers, \"click\", e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const { modalContentId } = e.target.dataset;\n    const content = qs(`#${modalContentId}`, node);\n\n    emit(\"modal:open\", null, {\n      modalContent: content,\n    });\n  });\n  events.push(listener);\n\n  function unload() {\n    events.forEach(evt => evt());\n  }\n\n  return { unload };\n};\n\nexport default informationPopup;\n","import { getUrlWithVariant } from \"@shopify/theme-product-form\";\nimport isMobile from \"is-mobile\";\nimport { enableLinksWithin, syncTabIndexesOnFlickity } from \"@/lib/a11y\";\n\nimport { add, listen, qs, qsa, remove, toggle } from \"@fluorescent/dom\";\nimport { cart, formatMoney, getProduct, section } from \"@/neon\";\nimport { emit, on } from \"@/neon/events\";\n\nimport Accordions from \"@/lib/accordion\";\nimport Lightbox from \"@/lib/lightbox\";\nimport Media from \"@/lib/media\";\nimport OptionButtons from \"@/lib/option-buttons\";\nimport ProductForm from \"@/lib/product-form\";\nimport storeAvailability from \"@/lib/store-availability\";\nimport { updateUnitPrices } from \"@/lib/unit-pricing\";\nimport { dispatchCustomEvent, CustomEvents } from \"@/lib/dispatch-custom-event\";\n\nimport {\n  updateSku,\n  updateBuyButton,\n  inventoryCounter,\n  informationPopup,\n  giftCardRecipient,\n} from \"@/lib/product\";\n\nconst selectors = {\n  form: \"[data-product-form]\",\n  addToCart: \"[data-add-to-cart]\",\n  price: \"[data-price]\",\n  comparePrice: \"[data-compare-price]\",\n  slide: \"[data-slide]\",\n  slideLink: \"[data-slide] .media__image\",\n  slider: \"[data-slider]\",\n  nav: \"[data-move-slider]\",\n  variantSelect: \"[data-variant-select]\",\n  optionById: id => `[value='${id}']`,\n  storeAvailability: \"[data-store-availability-container]\",\n  quantityError: \"[data-quantity-error]\",\n  giftCardRecipientForm: \".product-form__gift-card-recipient\",\n  giftCardRecipientErrors: \".gift-card-recipient__form-errors\",\n};\n\nsection(\"product\", {\n  productForm: null,\n\n  onLoad() {\n    const { productHasOnlyDefaultVariant } = this.container.dataset;\n    this.formElement = qs(selectors.form, this.container);\n    this.quantityError = qs(selectors.quantityError, this.container);\n\n    this.isFeaturedProduct =\n      this.container.classList.contains(\"featured-product\");\n    const { productHandle } = this.formElement.dataset;\n\n    this.storeAvailabilityContainer = this.formElement.querySelector(\n      selectors.storeAvailability\n    );\n    this.availability = null;\n\n    this.accordions = Accordions(qsa(\".accordion\", this.container));\n\n    const images = qsa(\".media__image[data-open]\", this.container);\n\n    const viewInYourSpaceButton = qs(\"[data-in-your-space]\", this.container);\n    viewInYourSpaceButton &&\n      toggle(viewInYourSpaceButton, \"visible\", isMobile());\n\n    const product = getProduct(productHandle);\n    product(data => {\n      this.productForm = ProductForm(this.formElement, data, {\n        onOptionChange: e => this.onOptionChange(e),\n        onFormSubmit: e => this.onFormSubmit(e),\n      });\n\n      // Surface pickup\n      const variant = this.productForm.getVariant();\n\n      if (this.storeAvailabilityContainer && variant) {\n        this.availability = storeAvailability(\n          this.storeAvailabilityContainer,\n          data,\n          variant,\n          { hideVariantTitle: productHasOnlyDefaultVariant === \"true\" }\n        );\n      }\n\n      const productInventoryJson = qs(\n        \"[data-product-inventory-json]\",\n        this.container\n      );\n\n      if (productInventoryJson) {\n        const jsonData = JSON.parse(productInventoryJson.innerHTML);\n        const variantsInventories = jsonData.inventory;\n\n        if (variantsInventories) {\n          const config = {\n            id: variant.id,\n            variantsInventories,\n          };\n          this.inventoryCounter = inventoryCounter(this.container, config);\n        }\n      }\n    });\n\n    const qtyButtons = qsa(\"[data-change]\", this.container);\n\n    if (qtyButtons.length) {\n      this.qtyButtonClick = listen(qtyButtons, \"click\", e => {\n        e.preventDefault();\n        const { change } = e.currentTarget.dataset;\n        const input = qs(\"input\", e.currentTarget.parentNode);\n        if (change === \"increment\") {\n          input.value >= 0 && input.value++;\n        } else if (change === \"decrement\") {\n          input.value > 0 && input.value--;\n        }\n      });\n    }\n\n    this.optionButtons = OptionButtons(\n      qsa(\"[data-option-buttons]\", this.container)\n    );\n\n    this.informationPopup = informationPopup(this.container);\n\n    this.images = qsa(\"[data-media]\", this.container);\n    this.mediaContainer = qs(\".product__media-container\", this.container);\n\n    if (this.mediaContainer) {\n      this.media = Media(this.mediaContainer);\n    }\n\n    if (this.isFeaturedProduct) {\n      return; // Everything else here is product page specific\n    }\n\n    this.lightbox = Lightbox(qs(\"[data-lightbox]\", this.container));\n    this.imageClick = listen(images, \"click\", e => {\n      e.preventDefault();\n      this.media && this.media.pauseActiveMedia();\n      this.lightbox.open(e.currentTarget.dataset.open);\n    });\n\n    const slider = qs(selectors.slider, this.container);\n    const sliderLinks = qsa(selectors.slideLink, this.slider);\n    this.slider = slider;\n\n    const previousButton = qs(\"[data-prev]\", this.container);\n    const nextButton = qs(\"[data-next]\", this.container);\n\n    import(flu.chunks.flickity).then(({ Flickity }) => {\n      // Avoid momentary collapse as flickity initializes by setting a min height\n      // because flickity is set to \"adaptiveHeight\" we don't have to undo this value\n      let container = this.mediaContainer,\n        containerHeight = container.offsetHeight;\n      container.style.minHeight = `${containerHeight}px`;\n\n      this.flkty = new Flickity(slider, {\n        adaptiveHeight: true,\n        cellSelector: selectors.slide,\n        initialIndex: \".initial\",\n        pageDots: false,\n        prevNextButtons: false,\n        watchCSS: true,\n        wrapAround: true,\n        on: {\n          ready: function () {\n            if (slider.dataset.desktopSlider === \"true\") {\n              container.style.minHeight = null;\n            }\n\n            var flkty = Flickity.data(slider); // This is a pain but we can't access the instance within here\n            syncTabIndexesOnFlickity(flkty);\n            nextButton && add(nextButton, \"visible\");\n          },\n          dragStart: function () {\n            sliderLinks.forEach(sliderLink => {\n              sliderLink.style.pointerEvents = \"none\";\n              sliderLink.style.cursor = \"grabbing\";\n            });\n          },\n          dragEnd: function () {\n            sliderLinks.forEach(sliderLink => {\n              sliderLink.style.pointerEvents = \"all\";\n              sliderLink.style.cursor = \"pointer\";\n            });\n          },\n        },\n      });\n\n      this.flkty.on(\"deactivate\", () => {\n        const slides = qsa(selectors.slide, this.container);\n        slides.forEach(slide => {\n          enableLinksWithin(slide);\n        });\n      });\n\n      this.flkty.on(\"change\", () => {\n        add(previousButton, \"visible\");\n        this.media && this.media.pauseActiveMedia();\n\n        syncTabIndexesOnFlickity(this.flkty);\n\n        const newImageMedia = qs(\".media\", this.flkty.selectedElement);\n\n        if (viewInYourSpaceButton) {\n          if (newImageMedia.dataset.mediaType === \"model\") {\n            viewInYourSpaceButton.setAttribute(\n              \"data-shopify-model3d-id\",\n              newImageMedia.dataset.mediaId\n            );\n          } else {\n            viewInYourSpaceButton.setAttribute(\n              \"data-shopify-model3d-id\",\n              viewInYourSpaceButton.dataset.shopifyFirstModel3dId\n            );\n          }\n        }\n      });\n\n      this.viewportResizeEvent = on(\"viewport-resize:small\", () => {\n        // Remove container minHeight on resize\n        container.style.minHeight = null;\n        setTimeout(() => {\n          this.flkty.resize();\n        }, 400);\n      });\n\n      // This is a little strange but prevents needing to check for existence of\n      // pagination when the section is unloaded\n      this.sliderPaginationClick = nextButton\n        ? listen([previousButton, nextButton], \"click\", e => this.onClickNav(e))\n        : () => {};\n    });\n\n    this.giftCardRecipient = giftCardRecipient(this.container);\n  },\n\n  onUnload() {\n    this.optionButtons.destroy();\n    this.productForm.destroy();\n    this.flkty && this.flkty.destroy();\n    this.accordions.destroy();\n    this.lightbox && this.lightbox.destroy();\n    this.giftCardRecipient && this.giftCardRecipient.unload();\n\n    this.imageClick();\n\n    if (this.qtyButtonClick) {\n      this.qtyButtonClick();\n    }\n\n    this.sliderPaginationClick();\n    this.viewportResizeEvent();\n  },\n\n  // When the user changes a product option\n  onOptionChange({ dataset: { variant } }) {\n    // Update unit pricing\n    updateUnitPrices(this.container, variant);\n    updateSku(this.container, variant);\n\n    dispatchCustomEvent(CustomEvents.productVariantChange, {\n      variant: variant,\n    });\n\n    this.inventoryCounter && this.inventoryCounter.update(variant);\n\n    if (!variant) {\n      updateBuyButton(qs(\"[data-add-to-cart]\", this.container), false);\n      this.availability && this.availability.unload();\n      return;\n    }\n\n    // Update URL with selected variant\n    const url = getUrlWithVariant(window.location.href, variant.id);\n    window.history.replaceState({ path: url }, \"\", url);\n\n    // Update prices to reflect selected variant\n    this.updatePrices(variant);\n\n    // We need to set the id input manually so the Dynamic Checkout Button works\n    const selectedVariantOpt = qs(\n      `${selectors.variantSelect} ${selectors.optionById(variant.id)}`,\n      this.container\n    );\n    selectedVariantOpt.selected = true;\n\n    // We need to dispatch an event so Shopify pay knows the form has changed\n    this.formElement.dispatchEvent(new Event(\"change\"));\n\n    // Update product availability content\n    this.availability && this.availability.update(variant, true);\n\n    if (this.isFeaturedProduct) {\n      // On featured product block there is no slider only a single displayed image\n      if ((variant.featured_media || {}).id) {\n        this.media && this.media.pauseActiveMedia();\n\n        // Update image\n        this.images.forEach(image => {\n          toggle(\n            image,\n            \"visible\",\n            image.dataset.media === String(variant.featured_media.id)\n          );\n        });\n      }\n    } else if (variant.featured_media) {\n      // Move screen or mobile slider to selected variants media\n\n      if (\n        window.matchMedia(\"(min-width: 40em)\").matches &&\n        this.slider.dataset.desktopSlider === \"false\"\n      ) {\n        const image = qs(\n          `[data-media-id=\"${variant.featured_media.id}\"]`,\n          this.container\n        );\n        image && image.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      } else {\n        this.flkty && this.flkty.select(variant.featured_media.position - 1);\n      }\n    }\n  },\n\n  // When user submits the product form\n  onFormSubmit(event) {\n    const { enableQuickCart } = document.body.dataset;\n    if (!enableQuickCart) return;\n\n    event.preventDefault();\n\n    const button = qs(selectors.addToCart, this.container);\n    add(button, \"loading\");\n    add(this.quantityError, \"hidden\");\n\n    cart\n      .addItem(this.formElement)\n      .then(({ item }) => {\n        remove(button, \"loading\");\n        dispatchCustomEvent(CustomEvents.cartItemAdded, { product: item });\n        emit(\"cart:open\", null, { flash: item.variant_id });\n      })\n      .catch(error => {\n        if (typeof error.message === \"object\") {\n          const sectionID = qs(selectors.giftCardRecipientForm, this.container)\n            .dataset.sectionId;\n\n          const errorContainer = qs(\n            selectors.giftCardRecipientErrors,\n            this.container\n          );\n\n          const errorList = qs(\"ul\", errorContainer);\n\n          Object.entries(error.message).forEach(([key, value]) => {\n            const errorID = `#gift-card-recipient-${key}--${sectionID}`;\n            const errorItem = document.createElement(\"li\");\n            const errorLink = document.createElement(\"a\");\n            const errorInput = qs(errorID, this.container);\n\n            errorLink.href = errorID;\n            errorLink.innerText = value;\n            errorItem.appendChild(errorLink);\n            errorList.appendChild(errorItem);\n            add(errorInput, \"input-error\");\n          });\n\n          errorContainer.hidden = false;\n        } else {\n          remove(this.quantityError, \"hidden\");\n        }\n\n        remove(button, \"loading\");\n        console.debug(\"error\", error);\n      });\n  },\n\n  updatePrices(variant) {\n    const price = qsa(selectors.price, this.container);\n    const comparePrice = qsa(selectors.comparePrice, this.container);\n    const buyButton = qs(\"[data-add-to-cart]\", this.container);\n\n    price.forEach(el => (el.innerHTML = formatMoney(variant.price)));\n    comparePrice.forEach(\n      el =>\n        (el.innerHTML =\n          variant.compare_at_price > variant.price\n            ? formatMoney(variant.compare_at_price)\n            : \"\")\n    );\n\n    updateBuyButton(buyButton, variant);\n  },\n\n  onClickNav(e) {\n    e.preventDefault();\n\n    if (\"next\" in e.currentTarget.dataset) {\n      this.flkty && this.flkty.next();\n    } else if (\"prev\" in e.currentTarget.dataset) {\n      this.flkty && this.flkty.previous();\n    }\n  },\n});\n","import { load } from \"@shopify/theme-sections\";\nimport { qs } from \"@fluorescent/dom\";\nimport \"focus-visible\";\nimport \"what-input\";\n\nimport pageTransition from \"@/lib/page-transition\";\nimport quickAdd from \"@/lib/quick-add\";\nimport reviews from \"@/lib/reviews\";\nimport sectionClasses from \"@/lib/section-classes\";\nimport storeAvailabilityModal from \"@/lib/store-availability-modal\";\nimport modal from \"@/lib/modal\";\nimport viewportWatcher from \"@/lib/viewport-watcher\";\n\n// Initialize lazysizes\nimport \"lazysizes/plugins/object-fit/ls.object-fit\";\nimport \"lazysizes/plugins/parent-fit/ls.parent-fit\";\nimport \"lazysizes/plugins/rias/ls.rias\";\nimport \"lazysizes/plugins/bgset/ls.bgset\";\nimport \"lazysizes/plugins/native-loading/ls.native-loading\";\nimport lazySizes from \"lazysizes\";\nimport \"lazysizes/plugins/respimg/ls.respimg\";\n\n// Import sections\nimport \"@/sections\";\n\nlazySizes.cfg.nativeLoading = {\n  setLoadingAttribute: true,\n};\n\n// Detect theme editor\nif (window.Shopify.designMode === true) {\n  document.documentElement.classList.add(\"theme-editor\");\n} else {\n  const el = document.querySelector(\".theme-editor-scroll-offset\");\n  el && el.parentNode.removeChild(el);\n}\n\n// Apply full-width classes\nsectionClasses();\n\n// Load all sections\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  load(\"*\");\n});\n\n// Page transitions\npageTransition();\n\n// Setup modal\nconst modalElement = qs(\"[data-modal]\", document);\nmodal(modalElement);\n\n// Quick add to cart\nquickAdd();\n\n// Integrate with Shopify Product Reviews\nreviews();\n\n// Viewport width watcher\nviewportWatcher();\n\n// Product availabilty drawer\nconst availabilityModal = document.querySelector(\n  \"[data-store-availability-modal]\"\n);\nstoreAvailabilityModal(availabilityModal);\n\n// Make it easy to see exactly what theme version\n// this is by commit SHA\nwindow.SHA = \"__gitSHA\";\n","import { listen, qs, remove } from \"@fluorescent/dom\";\n\nexport default function (container) {\n  const recipientFormContainer = qs(\n    \".product-form__gift-card-recipient\",\n    container\n  );\n\n  if (!recipientFormContainer) return;\n\n  const sectionID = recipientFormContainer.dataset.sectionId;\n\n  const selectors = {\n    enableInput: `#gift-card-recipient-enable--${sectionID}`,\n    recipientForm: \".gift-card-recipient-fields\",\n    emailLabelOptional: \".gift-card-recipient-email-label .optional\",\n    emailLabelRequired: \".gift-card-recipient-email-label .required\",\n    emailInput: `#gift-card-recipient-email--${sectionID}`,\n    nameInput: `#gift-card-recipient-name--${sectionID}`,\n    messageInput: `#gift-card-recipient-message--${sectionID}`,\n    sendOnInput: `#gift-card-recipient-send_on--${sectionID}`,\n    controlInput: `#gift-card-recipient-control--${sectionID}`,\n    offsetInput: `#gift-card-recipient-timezone-offset--${sectionID}`,\n    errors: \".gift-card-recipient__form-errors\",\n  };\n\n  const elements = {\n    enableInput: qs(selectors.enableInput, recipientFormContainer),\n    emailLabelOptional: qs(\n      selectors.emailLabelOptional,\n      recipientFormContainer\n    ),\n    emailLabelRequired: qs(\n      selectors.emailLabelRequired,\n      recipientFormContainer\n    ),\n    emailInput: qs(selectors.emailInput, recipientFormContainer),\n    nameInput: qs(selectors.nameInput, recipientFormContainer),\n    messageInput: qs(selectors.messageInput, recipientFormContainer),\n    sendOnInput: qs(selectors.sendOnInput, recipientFormContainer),\n    controlInput: qs(selectors.controlInput, recipientFormContainer),\n    offsetInput: qs(selectors.offsetInput, recipientFormContainer),\n    recipientForm: qs(selectors.recipientForm, recipientFormContainer),\n    errors: qs(selectors.errors, recipientFormContainer),\n    errorList: qs(`${selectors.errors} ul`, recipientFormContainer),\n  };\n\n  const getInputs = () => {\n    return [\n      elements.emailInput,\n      elements.nameInput,\n      elements.messageInput,\n      elements.sendOnInput,\n    ];\n  };\n\n  const disableableInputs = () => {\n    return [...getInputs(), elements.offsetInput];\n  };\n\n  const disableInputs = (inputs, disable) => {\n    inputs.forEach(input => {\n      input.disabled = disable;\n    });\n  };\n\n  const clearInputs = inputs => {\n    inputs.forEach(input => {\n      input.value = \"\";\n    });\n  };\n\n  const handleChange = e => {\n    const el = e.target;\n\n    if (el.type === \"checkbox\") {\n      if (el.checked) {\n        elements.recipientForm.hidden = false;\n      } else {\n        clearInputs(getInputs());\n        elements.recipientForm.hidden = true;\n        elements.errors.hidden = true;\n        elements.errorList.replaceChildren();\n\n        getInputs().forEach(input => {\n          remove(input, \"input-error\");\n        });\n      }\n\n      disableInputs(disableableInputs(), !el.checked);\n    } else {\n      remove(el, \"input-error\");\n    }\n  };\n\n  // Hide form by default\n  elements.recipientForm.hidden = true;\n\n  // Disable control input and enable the enable input\n  elements.controlInput.disabled = true;\n  elements.enableInput.disabled = false;\n\n  // Disable form inputs by default\n  disableInputs(disableableInputs(), true);\n\n  // Remove \"optional\" from email label\n  elements.emailLabelOptional.hidden = true;\n  elements.emailLabelRequired.hidden = false;\n\n  elements.offsetInput.value = new Date().getTimezoneOffset();\n\n  // Set up listeners for the display inputs\n  const events = [listen(elements.enableInput, \"change\", handleChange)];\n\n  // Clear errors\n  getInputs().forEach(input => {\n    events.push(listen(input, \"input\", handleChange));\n  });\n\n  const unload = () => {\n    events.forEach(unsubscribe => unsubscribe());\n  };\n\n  return { unload };\n}\n","import { qsa } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\nimport { accordions, wrapIframes } from \"@/lib/rte\";\n\nsection(\"contact\", {\n  onLoad() {\n    this.accordions = accordions(this.container);\n\n    wrapIframes(qsa(\"iframe\", this.container));\n  },\n\n  onUnload() {\n    this.accordions.destroy();\n  },\n});\n","import { add, listen, qsa, remove } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\n\nsection(\"addresses\", {\n  onLoad() {\n    this.modals = qsa(\"[data-modal]\", this.container);\n\n    const overlays = qsa(\"[data-overlay]\", this.container);\n    const open = qsa(\"[data-open]\", this.container);\n    const close = qsa(\"[data-close]\", this.container);\n    const remove = qsa(\"[data-remove]\", this.container);\n    const countryOptions = qsa(\"[data-country-option]\", this.container) || [];\n\n    this.events = [\n      listen(open, \"click\", e => this.openModal(e)),\n      listen([...close, ...overlays], \"click\", e => this.closeModal(e)),\n      listen(remove, \"click\", e => this.removeAddress(e)),\n    ];\n\n    countryOptions.forEach(el => {\n      const { formId } = el.dataset;\n\n      const countrySelector = \"AddressCountry_\" + formId;\n      const provinceSelector = \"AddressProvince_\" + formId;\n      const containerSelector = \"AddressProvinceContainer_\" + formId;\n\n      new window.Shopify.CountryProvinceSelector(\n        countrySelector,\n        provinceSelector,\n        {\n          hideElement: containerSelector,\n        }\n      );\n    });\n  },\n\n  onUnload() {\n    this.events.forEach(unsubscribe => unsubscribe());\n  },\n\n  openModal(e) {\n    e.preventDefault();\n    const { open: which } = e.currentTarget.dataset;\n\n    const modal = this.modals.find(el => el.dataset.modal == which);\n    add(modal, \"active\");\n    setTimeout(() => {\n      add(modal, \"visible\");\n    }, 50);\n  },\n\n  closeModal(e) {\n    e.preventDefault();\n    remove(this.modals, \"visible\");\n    setTimeout(() => {\n      remove(this.modals, \"active\");\n    }, 350);\n  },\n\n  removeAddress(e) {\n    const { confirmMessage, target } = e.currentTarget.dataset;\n    if (\n      confirm(confirmMessage) ||\n      \"Are you sure you wish to delete this address?\"\n    ) {\n      window.Shopify.postLink(target, {\n        parameters: { _method: \"delete\" },\n      });\n    }\n  },\n});\n","import { add, listen, qs, qsa, toggle } from \"@fluorescent/dom\";\n\nimport { section } from \"@/neon\";\n\nsection(\"login\", {\n  onLoad() {\n    const main = qs('[data-part=\"login\"]', this.container);\n    const reset = qs('[data-part=\"reset\"]', this.container);\n    const toggles = qsa(\"[data-toggle]\", this.container);\n\n    const isSuccess = qs(\"[data-success]\", this.container);\n    const successMessage = qs(\"[data-success-message]\", this.container);\n\n    if (isSuccess) {\n      add(successMessage, \"visible\");\n    }\n\n    function toggleView(e) {\n      e.preventDefault();\n      toggle([main, reset], \"hide\");\n    }\n\n    this.toggleClick = listen(toggles, \"click\", toggleView);\n  },\n\n  onUnload() {\n    this.toggleClick();\n  },\n});\n","import Delegate from \"ftdomdelegate\";\n\nexport default () => {\n  const pageTransitionOverlay = document.querySelector(\n    \"#page-transition-overlay\"\n  );\n  const animationDuration = 200;\n\n  if (pageTransitionOverlay) {\n    pageTransitionOverlay.classList.remove(\"skip-transition\");\n\n    setTimeout(function () {\n      pageTransitionOverlay.classList.remove(\"active\");\n    }, 0);\n\n    setTimeout(() => {\n      // Prevent the theme editor from seeing this\n      pageTransitionOverlay.classList.remove(\"active\");\n    }, animationDuration);\n\n    const delegate = new Delegate(document.body);\n\n    delegate.on(\n      \"click\",\n      'a[href]:not([href^=\"#\"]):not(.no-transition):not([href^=\"mailto:\"]):not([href^=\"tel:\"]):not([target=\"_blank\"])',\n      onClickedToLeave\n    );\n\n    window.onpageshow = function (e) {\n      if (e.persisted) {\n        pageTransitionOverlay.classList.remove(\"active\");\n      }\n    };\n  }\n\n  function onClickedToLeave(event, target) {\n    // avoid interupting open-in-new-tab click\n    if (event.ctrlKey || event.metaKey) return;\n\n    event.preventDefault();\n\n    // Hint to browser to prerender destination\n    let linkHint = document.createElement(\"link\");\n    linkHint.setAttribute(\"rel\", \"prerender\");\n    linkHint.setAttribute(\"href\", target.href);\n\n    document.head.appendChild(linkHint);\n\n    setTimeout(() => {\n      window.location.href = target.href;\n    }, animationDuration);\n\n    pageTransitionOverlay.classList.add(\"active\");\n  }\n};\n"],"names":["Section","container","properties","this","Element","TypeError","getAttribute","Error","validateContainerElement","id","extensions","Object","assign","value","validatePropertiesObject","onLoad","prototype","Function","onUnload","onSelect","onDeselect","onBlockSelect","onBlockDeselect","extend","extension","push","extensionClone","init","apply","defineProperty","target","to","index","arguments","length","nextSource","nextKey","hasOwnProperty","call","writable","configurable","window","Shopify","theme","sections","registered","instances","register","type","TypedSection","constructor","create","load","types","containers","normalizeType","document","querySelectorAll","normalizeContainers","forEach","filter","getInstances","selector","filteredInstances","NodeList","isPrototypeOf","Array","isArray","firstElement","concat","instance","getInstanceById","i","keys","map","toLowerCase","slice","n","t","querySelector","c","r","e","o","classList","u","l","designMode","addEventListener","event","detail","sectionId","visualPreviewMode","indexOf","splice","applyFocusVisiblePolyfill","scope","hadKeyboardEvent","hadFocusVisibleRecently","hadFocusVisibleRecentlyTimeout","inputTypesAllowlist","text","search","url","tel","email","password","number","date","month","week","time","datetime","isValidFocusTarget","el","nodeName","focusTriggersKeyboardModality","tagName","readOnly","isContentEditable","addFocusVisibleClass","contains","add","setAttribute","removeFocusVisibleClass","hasAttribute","remove","removeAttribute","onKeyDown","metaKey","altKey","ctrlKey","activeElement","onPointerDown","onFocus","onBlur","clearTimeout","setTimeout","onVisibilityChange","visibilityState","addInitialPointerMoveListeners","onInitialPointerMove","removeInitialPointerMoveListeners","removeEventListener","nodeType","Node","DOCUMENT_FRAGMENT_NODE","host","DOCUMENT_NODE","documentElement","CustomEvent","error","createEvent","initCustomEvent","dispatchEvent","factory","modules","installedModules","__webpack_require__","moduleId","exports","module","loaded","m","p","ask","element","ignoreKeys","specificKeys","registerOnChange","unRegisterOnChange","docElem","currentElement","currentInput","currentIntent","currentTimestamp","Date","now","shouldPersist","formInputs","functionList","ignoreMap","specificMap","inputMap","keydown","keyup","mousedown","mousemove","MSPointerDown","MSPointerMove","pointerdown","pointermove","touchstart","touchend","isScrolling","mousePos","x","y","pointerMap","supportsPassive","opts","get","addListeners","options","passive","capture","setPersist","PointerEvent","setInput","setIntent","MSPointerEvent","detectWheel","setElement","clearElement","body","sessionStorage","getItem","doUpdate","eventKey","which","pointerType","ignoreMatch","specificMatch","shouldUpdate","validateTouch","persistInput","activeElem","checkClosest","fireFunctions","detectScrolling","toString","replace","setItem","timestamp","touchIsValid","createElement","undefined","onmousewheel","len","fn","screenX","screenY","elem","tag","ElementPrototype","matches","msMatchesSelector","webkitMatchesSelector","closest","parentElement","parentNode","opt","arr","eventType","position","match","objPos","clearStorage","clear","Delegate","root","listenerMap","handle","bind","_removedListeners","matchesTag","matchesRoot","rootElement","matchesId","default","captureForType","on","handler","useCapture","matcher","matcherParam","test","off","listener","listenerList","singleEventType","eventIgnore","correspondingUseElement","eventPhase","currentTarget","ret","toFire","HTMLDocument","fire","preventDefault","destroy","_default","Listeners","entries","getVariantFromSerializedArray","product","collection","_validateProductStructure","optionArray","name","_validateSerializedArray","option","_createOptionArrayFromOptionCollection","_validateOptionsArray","result","variants","variant","every","getVariantFromOptionArray","removeAll","selectors","ProductForm","_validateProductObject","_listeners","_onSubmit","optionInputs","_initInputs","onOptionChange","quantityInputs","onQuantityChange","propertyInputs","onPropertyChange","localStorage","removeItem","JSON","parse","inputs","transform","item","exec","reduce","input","checked","propertyName","quantity","Number","parseInt","_setIdInputValue","idInputElement","appendChild","dataset","_getProductFormEventData","onFormSubmit","_onFormEvent","cb","a","emit","hydrate","getState","CustomEvents","dispatchCustomEvent","eventName","data","routes","cart","paths","base","change","sortCart","order","getStorage","sorted","items","sort","b","variant_id","changeItem","line","fetch","method","credentials","headers","stringify","then","res","json","addItemById","newOrder","setStorage","serialize","form","elements","field","disabled","encodeURIComponent","selected","join","addItem","status","errorMessage","description","code","message","addVariant","numAvailable","inventory_policy","inventory_management","inventory_quantity","numRequested","updateItem","currency_cjs","formatMoney_1","formatMoney","cents","format","placeholderRegex","formatString","formatWithDelimiters","precision","thousands","decimal","isNaN","parts","toFixed","split","dollarsAmount","centsAmount","val","moneyFormat","products","catch","err","console","log","OptionButtons","els","groups","createOptionGroup","group","select","qs","buttons","qsa","buttonClick","listen","button","swatchButton","label","optionSelectedLabel","innerHTML","btn","toggle","Event","loadReviews","SPR","registerCallbacks","initRatingHandler","initDomEls","loadProducts","loadBadges","cn","candidateSelectors","candidateSelector","NoElement","getRootNode","ownerDocument","getCandidates","includeContainer","candidates","unshift","getCandidatesIteratively","elementsToCheck","from","shift","assigned","assignedElements","nestedCandidates","children","flatten","includes","shadowRoot","getShadowRoot","validShadowRoot","shadowRootFilter","_nestedCandidates","getTabindex","node","isScope","tabIndex","sortOrderedTabbables","documentOrder","isInput","isNonTabbableRadio","isRadio","radioSet","radioScope","queryRadios","CSS","escape","nodes","getCheckedRadio","isTabbableRadio","isZeroArea","_node$getBoundingClie","getBoundingClientRect","width","height","isNodeMatchingSelectorFocusable","isHiddenInput","_ref","displayCheck","getComputedStyle","visibility","nodeUnderDetails","nodeRootHost","nodeIsAttached","originalNode","rootNode","assignedSlot","getClientRects","isHidden","some","child","isDetailsWithSummary","isDisabledFromFieldset","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","content","acc","sortable","tabbable","isTabbable","focusableCandidateSelector","isFocusable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","source","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","trapQueue","activeFocusTraps","activateTrap","trap","activeTrap","pause","trapIndex","deactivateTrap","unpause","delay","findIndex","idx","valueOrHandler","_len","params","_key","getActualTarget","composedPath","createFocusTrap","userOptions","doc","config","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containerGroups","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","delayInitialFocusTimer","getOption","configOverrideOptions","optionName","configOptionName","findContainerIndex","tabbableNodes","find","getNodeForOption","optionValue","_len2","_key2","getInitialFocusNode","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","tabbableOptions","focusableNodes","lastTabbableNode","nextTabbableNode","forward","nodeIdx","reverse","tryFocus","focus","preventScroll","isSelectableInput","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkKey","keyCode","isEscapeEvent","isTabEvent","destinationNode","containerIndex","containerGroup","shiftKey","startOfGroupIndex","_ref2","destinationGroupIndex","lastOfGroupIndex","_ref3","_destinationGroupIndex","checkTab","checkClick","removeListeners","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","deactivateOptions","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","updateContainerElements","containerElements","elementsAsArray","Boolean","hasPassiveEvents","passiveTestOptions","isIosDevice","navigator","platform","maxTouchPoints","locks","documentListenerAdded","initialClientY","previousBodyOverflowSetting","previousBodyPaddingRight","allowTouchMove","lock","rawEvent","touches","disableBodyScroll","targetElement","arr2","_toConsumableArray","ontouchstart","targetTouches","clientY","ontouchmove","scrollTop","scrollHeight","clientHeight","isTargetElementTotallyScrolled","stopPropagation","handleScroll","_reserveScrollBarGap","reserveScrollBarGap","scrollBarGap","innerWidth","clientWidth","style","paddingRight","overflow","setOverflowHidden","enableBodyScroll","getSizedImageUrl","src","size","removeProtocol","prefix","suffix","path","strings","classes","renderUnitPrice","unitPrice","unitPriceMeasurement","unitPriceSeparator","_getBaseUnit","reference_value","reference_unit","_replaceText","nodeList","replacementText","innerText","global","PromiseLike","Promise","executor","callback","_callback","pool","inAnimItems","defaultStyle","timeoutId","onCancelled","inAnimItem","slideDown","resolve","_isVisible","isVisible","hasEndHeight","endHeight","display","duration","defaultStyles","defaultDisplay","pxToNumber","getPropertyValue","minHeight","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","borderTop","borderBottom","getDefaultStyles","isBorderBox","contentHeight","cssDuration","cssEasing","cssTransition","startHeight","startMinHeight","startPaddingTop","startPaddingBottom","startBorderTopWidth","startBorderBottomWidth","endMinHeight","endPaddingTop","endPaddingBottom","endBorderTopWidth","endBorderBottomWidth","requestAnimationFrame","transition","webkitTransition","resetStyle","slideUp","slideStop","offsetHeight","px","Accordion","labels","href","icon","append","labelClick","nextElementSibling","click","Accordions","accordions","accordion","wrapIframes","wrapper","insertBefore","queries","lazySizes","lazysizes","lazySizesCfg","prop","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","fastLoadedClass","iframeLoadMode","srcAttr","srcsetAttr","sizesAttr","minSize","customMedia","expFactor","hFac","loadMode","loadHidden","ricTimeout","throttleDelay","lazySizesConfig","lazysizesConfig","getElementsByClassName","cfg","noSupport","autosizesElems","sizeElement","getSizeElement","updateElementsSizes","debouncedUpdateElementsSizes","running","waiting","firstFns","secondFns","fns","run","rafBatch","supportPicture","HTMLPictureElement","_addEventListener","_getAttribute","requestIdleCallback","regPicture","loadEvents","regClassCache","hasClass","ele","cls","RegExp","addClass","trim","removeClass","reg","addRemoveLoadEvents","dom","action","evt","triggerEvent","noBubbles","noCancelable","initEvent","updatePolyfill","full","polyfill","picturefill","pf","reevaluate","getCSS","getWidth","parent","offsetWidth","_lazysizesWidth","rAF","runFns","queue","hidden","_lsFlush","rAFIt","simple","that","args","throttle","lastTime","gDelay","rICTimeout","idleCallback","timeout","isPriority","debounce","func","wait","later","last","loader","preloadElems","isCompleted","resetPreloadingTimer","started","eLvW","elvH","eLtop","eLleft","eLright","eLbottom","isBodyHidden","regImg","regIframe","supportScroll","userAgent","shrinkExpand","currentExpand","isLoading","lowRuns","resetPreloading","isNestedVisible","elemExpand","outerRect","visible","offsetParent","left","right","top","bottom","checkElements","eLlen","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","defaultExpand","preloadExpand","lazyloadElems","_lazyRace","prematureUnveil","unveilElement","expand","_defEx","innerHeight","preloadAfterLoad","throttledCheckElements","switchLoadingClass","_lazyCache","rafSwitchLoadingClass","rafedSwitchLoadingClass","changeIframeSrc","contentWindow","location","handleSources","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","defaultPrevented","getElementsByTagName","isLoaded","complete","naturalWidth","loading","autoSizer","updateElem","afterScroll","altLoadmodeScrollListner","onload","_","persisted","loadingElements","img","MutationObserver","observe","childList","subtree","attributes","setInterval","readyState","checkElems","unveil","_aLSL","sources","dataAttr","uP","aC","rC","hC","gW","globalInstall","initialEvent","require$$0","cloneElementClass","fitSupport","regCssFit","regCssPosition","blankSrc","regBgUrlEscape","positionDefaults","center","initFix","switchClassesAdded","addedSrc","styleElement","styleElementStyle","lazysizesCfg","onChange","currentSrc","backgroundImage","rafedOnChange","_lazysizesParentFit","fit","hideElement","toUpperCase","prev","previousElementSibling","removeChild","removePrevClone","objectFitClass","generateStyleClass","cloneNode","curSrc","attr","backgroundRepeat","backgroundPosition","backgroundSize","_objectFitPolyfilledDisplay","onRead","fontFamily","objectFit","objectPosition","getObject","regDescriptors","regCssObject","parentFit","getParent","parentSel","jQuery","getFit","tmpMatch","parentObj","css","_lazysizesParentContainer","getImageRatio","media","ratio","_lsMedia","matchMedia","parseFloat","calculateSize","displayRatio","imageRatio","retWidth","fitObj","fitElem","riasCfg","replaceTypes","string","regNumber","regWidth","regHeight","regPlaceholder","regObj","regAllowedSizes","anchor","buggySizes","getElementOptions","setOption","elemStyles","attrVal","styles","setSrc","elemW","elemH","scrollWidth","traditionalRatio","absUrl","postfix","widths","widthAlias","widthmap","aspectratio","candidate","Math","round","w","getSrc","riasDefaults","modifyOptions","supportsType","rias","elemOpts","sourceSrc","hasPlaceholder","modified","emptyList","details","createAttrObject","ascendingSort","getWSet","testPicture","_lazyrias","pWS","getCandidate","srces","d","dpr","devicePixelRatio","optimum","getX","min","lowerCandidate","bonusFactor","cached","pow","reduceCandidate","respimage","cur","regWhite","regSplitSet","regSource","regType","allowedBackgroundSize","contain","cover","setTypeOrMedia","typeMatch","proxyLoad","_lazybgset","image","bg","useSrc","fullSrc","_lazybgsetLoading","set","alt","sets","picture","optimumx","className","createPicture","bgSize","getBgSize","imgSupport","HTMLImageElement","iframeSupport","HTMLIFrameElement","isConfigSet","oldPrematureUnveil","mouseover","transitionend","animationend","scroll","resize","runConfig","removeALSL","currentListenerMap","nativeLoading","disableListeners","setLoadingAttribute","regWCandidates","regMultiple","addCandidate","regPxLength","parseWsrcset","runMatchMedia","createSrcset","matchesMedia","sels","supportSrcset","regHDesc","fixEdgeHDescriptor","removeHDescriptors","onerror","hasHDescriptorFix","msElementsFromPoint","wDescriptor","timer","matchMediaElems","isImage","parsedSet","srcSet","_lazypolyfill","_set","sel","slideshowOpts","adaptiveHeight","draggable","fade","pageDots","prevNextButtons","wrapAround","section","timing","announcements","import","flu","chunks","flickity","Flickity","slideshow","autoPlay","handleRestart","listeners","playPlayer","pausePlayer","unpausePlayer","accessibility","backgroundVideoHandler","video","pauseListener","play","pause_video","play_video","disableLinks","links","link","enableLinks","enableLinksWithin","wrappingEl","syncTabIndexesOnFlickity","flickityInstance","slides","slide","cells","selectedElement","mobileCarousel","previousButton","nextButton","slider","io","IntersectionObserver","isIntersecting","unobserve","threshold","prevClick","previous","nextClick","next","cellAlign","cellSelector","watchCSS","ready","disconnect","carousel","events","arrows","setHeight","first","setProperty","setGallerySize","flkty","_handleBlockSelect","_unpause","slideIndex","_pause","groupCells","has","list","crossBorder","headerClick","cbSelectors","disclosure","ariaExpanded","submit","isOption","hideList","relatedTarget","childInFocus","unload","Disclosure","MapShim","Map","getIndex","entry","class_1","__entries__","delete","ctx","_i","_a","isBrowser","global$1","self","requestAnimationFrame$1","transitionKeys","mutationObserverSupported","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","characterData","_b","getInstance","instance_","defineConfigurable","props","getWindowOf","defaultView","emptyRect","createRectInit","toFloat","getBordersSize","positions","getHTMLElementContentRect","paddings","positions_1","getPaddings","horizPad","vertPad","boxSizing","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","observations","clearActive","_this","observation","WeakMap","ResizeObserver","svg","QuickCart","delegate","overlay","cartTab","configureTab","itemsContainer","empty","footer","discounts","subtotal","addContainer","contents","qty","decrease","increase","itemId","cartTrap","configureTrap","renderCart","overlayClick","close","closeClick","keyDown","open","configure","cart_level_discount_applications","cartDiscounts","markup","line_level_discount_allocations","imgSrc","featured_image","imgAlt","imgUrl","sellingPlanName","selling_plan_allocation","selling_plan","subtractProductQuantity","addProductQuantity","product_title","original_price","final_price","options_with_values","variant_title","renderOptions","formatted_discounts","amount","discount_application","title","renderLineDiscounts","unit_price","unit_price_measurement","createItem","renderItems","total_allocated_amount","renderCartDiscounts","total_price","flash","html","getProduct","buyButton","productForm","price","comparePrice","compare_at_price","langAvailable","langUnavailable","langSoldOut","available","textContent","enableQuickCart","handleForm","bool","whenTrue","PredictiveSearch","resultsContainer","cachedResults","renderSearchResults","resultsMarkup","getSearchResults","searchTerm","queryKey","predictive_search_url","response","ok","DOMParser","parseFromString","MegaNavLegacy","parents","submenus","collections","focusTrap","images","defaultImage","showImages","imageOpen","trigger","triggerId","menu","submenu","toggleAttribute","leftPosition","edgeMargin","viewportWidth","MegaNav","Navigation","megaParents","current","closeAll","handleBodyClick","listElement","linkElement","header","willShow","topLevelParent","headerLeftPosition","menuLeftPosition","toggleMenu","megaNavLegacyEl","megaNavEl","focusedElement","potentialOpenElementParent","delayOffset","offsetStart","animateGrid","setupProductItems","productItems","formatHeight","h","initialFocus","primaryDepth","linksDepth","everything","main","primary","localeInput","currencyInput","clearButton","searchButton","inputChange","predictiveSearch","clearClick","Search","parentBack","secondary","secondaryBack","languages","currencies","childMenu","firstFocusable","drawerAnimations","openSub","navigate","disableAllLinksExcept","menuBefore","parentLink","menuBeforeLinks","navigatePrimary","topLeveLinks","handleCrossBorder","primaryMenu","primaryMenuDirectLinks","footerMenu","openMain","animateDrawerMenu","addFooterLinks","toDisable","linksToEnable","depth","unsubscribe","enableQuickAddToCart","cartIcon","cartIndicator","count","menuButton","space","Menu","quickSearch","populated","QuickSearch","navigation","item_count","components","quickCart","ro","megaNavLegacy","megaNav","isMobileModule","isMobile","isMobile_1","mobileRE","tabletRE","ua","tablet","featureDetect","localStorageAvailable","Popup","popupType","storageKey","ageVerifiedKey","ageIsVerified","bodyLeave","mouseleave","toElement","showPopup","popupTypes","age_popup","verifyBtn","hidePopup","popup","closeBtn","popups","contructor","targetPopup","limit","productId","requestUrl","productRecommendations","request","XMLHttpRequest","send","productSource","handleRecommendedProducts","initSlider","Symbol","toStringTag","__esModule","s","pageYOffset","HTMLCollection","String","iterator","f","elementContainer","settings","isInit","oldTranslateValue","customWrapper","rangeMax","wrapElement","setTransformCSS","getElementOffset","intersectionObserver","getTranslateValue","animate","setTransitionCSS","replaceWith","childNodes","scale","willChange","elementHeight","elementTop","customContainer","elementBottom","buildThresholdList","intersectionObserverCallback","max","maxTransition","oldPercentage","getRangeMax","translateValue","orientation","done","return","v","g","T","defaults","lastPosition","resizeIsDone","proceedRequestAnimationFrame","setViewportAll","setViewportTop","setViewportBottom","proceedElement","checkIfVisible","unSetStyle","unWrapElement","cancelAnimationFrame","reduceMotion","autoplay","parallax","videos","videoHandlers","animateSlideshow","_handleAutoPlay","playing","_handleSlideBecomesVisible","slideEl","deferredVideo","animationDelay","isDragging","pointer","cellElement","cellIndex","dotNavigation","navigationDots","dot","_handlePageDot","update","activeClass","activeSlide","simpleParallax","Sister","sister","loadScript","head","script","charset","async","attrs","setAttributes","stdOnEnd","ieOnEnd","onreadystatechange","_loadScript2","emitter","YT","Player","protocol","onYouTubeIframeAPIReady","ms","str","long","plural","fmtLong","fmtShort","floor","ceil","prevTime","createDebug","namespace","debug","enabled","curr","diff","coerce","formatter","formatters","formatArgs","logFn","useColors","color","hash","charCodeAt","colors","selectColor","stack","disable","enable","namespaces","save","names","skips","substr","humanize","storage","process","env","DEBUG","lastC","WebkitAppearance","firebug","exception","table","$1","chrome","local","localstorage","j","BUFFERING","ENDED","PAUSED","PLAYING","UNSTARTED","VIDEO_CUED","_PlayerStates2","pauseVideo","acceptableStates","stateChangeRequired","playVideo","seekTo","_debug2","_interopRequireDefault","_functionNames2","require$$1","_eventNames2","require$$2","_FunctionStateMap2","require$$3","YouTubePlayer","_loop","onEventName","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","playerAPIReady","strictState","functions","_loop2","functionName","player","stateInfo","playerState","getPlayerState","onPlayerStateChange","playerStateAfterChange","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_typeof","_sister2","_loadYouTubeIframeApi2","_YouTubePlayer2","youtubeIframeAPI","maybeElementId","getElementById","proxyEvents","playerApi","promisifyPlayer","_classCallCheck","Constructor","_defineProperties","descriptor","isNode","getMethodName","isDomElement","isInteger","isFinite","isVimeoUrl","isVimeoEmbed","getVimeoUrl","oEmbedParameters","idOrUrl","arrayIndexOfSupport","postMessageSupport","postMessage","commonjsGlobal","globalThis","hasDefine","genId","checkInstance","methodName","isObject","rand","random","substring","_id","npo_src","createCommonjsModule","context","definition","builtInProp","cycle","scheduling_queue","ToString","setImmediate","schedule","drain","isThenable","_then","o_type","notify","chain","notifyIsolated","success","failure","reject","msg","promise","triggered","def","def_wrapper","MakeDefWrapper","iteratePromises","resolver","rejecter","MakeDef","__NPO__","Item","PromisePrototype","msgs","callbackMap","storeCallback","playerCallbacks","getCallbacks","removeCallback","swapCallbacks","oldElement","newElement","parseMessageData","warn","ieVersion","origin","processData","param","callbacks","shiftCallbacks","getOEmbedParameters","createEmbed","div","firstChild","getOEmbedData","videoUrl","xhr","XDomainRequest","responseText","domain_status_code","playerMap","readyMap","screenfull","iframe","_window","readyPromise","_onMessage","isReadyEvent","isPingResponse","_originalElement","isEnabled","exitFullscreen","exit","fullscreenchangeHandler","isFullscreen","protoProps","staticProps","_this2","_this3","_this4","callMethod","language","kind","_this5","autopause","camera","currentTime","loop","muted","playbackRate","quality","volume","fnMap","eventNameMap","fullscreenchange","fullscreenerror","onFullScreenEntered","returnPromise","requestFullscreen","onFullScreenExit","fullscreenElement","fullscreenEnabled","initializeScreenfull","handleError","initializeEmbeds","VimeoPlayerResizeEmbeds_","onMessage","iframes","resizeEmbeds","VimeoSeoMetadataAppended","isValidMessageSource","initAppendVideoMetadata","videoId","videoType","firstPlayHandler","playerEl","loadVideoById","suggestedQuality","stopVideo","Video","taxindex","tabindex","Ajaxinate","pagination","offset","loadingText","addScrollListeners","addClickListener","checkIfPaginationInView","preventMultipleClicks","removeClickListener","removeScrollListener","removePaginationElement","containerElement","paginationElement","initialize","nextPageLinkElement","clickActive","nextPageUrl","loadMore","htmlDoc","newContainer","newPagination","insertAdjacentHTML","responseXML","updateFilters","filtersUpdated","everythingCleared","rangeRemoved","ls","sidebar","sortOptions","groupHeadings","heading","tagSubscription","sortSubscription","mobileFiltering","pills","modals","wash","closeButtons","pillClick","mobileFilter","washClick","clickWash","modal","filtering","forms","formData","searchParams","setParams","FormData","URLSearchParams","targetInput","valueEscaped","syncForms","removeFilters","targets","uncheckFilters","removeRange","clearAll","reset","filterHandler","partial","renderCB","subscriptions","filters","infiniteScroll","paginationType","mainArea","pageHeader","paginated","infiniteScrollTrigger","__renderView","_initInfiniteScroll","pathname","_updateURLHash","_scrollToTop","infiniteScrollOptions","destination","offsetTop","scrollTo","behavior","history","pushState","toggleButton","toggleView","Lightbox","navItems","sliderContainer","_resetZoom","progress","progressScale","selectedIndex","scrollIntoView","inline","zoomed","clientX","xDelta","yDelta","_handleZoom","Media","acceptedTypes","activeMedia","pauseActiveMedia","viewer","mediaId","mediaType","shopifyPlyrCSS","rel","loadFeatures","version","Plyr","youtubeIframeAPIScript","firstScriptTag","ModelViewerUI","playModel","prod","validateProductObject","getOptions","getVariant","getProperties","getProductFormEventData","initInputs","onFormEvent","setIdInputValue","updateBuyButton","inventoryCounter","variantsInventories","counterContainer","inventoryMessageElement","progressBar","lowInventoryThreshold","showUntrackedQuantity","stockCountdownMax","unavailableText","countDownMax","checkThreshold","setProgressBar","inventoryQuantity","inventoryManagement","progressValue","setInventoryMessage","productIventoryValid","inventory_message","productHasOnlyDefaultVariant","formElement","quantityError","isFeaturedProduct","productHandle","storeAvailabilityContainer","availability","viewInYourSpaceButton","storeList","currentVariant","delayUpdate","variantSectionUrl","baseUrl","storeAvailabilityHTML","firstElementChild","storeAvailability","hideVariantTitle","productInventoryJson","inventory","qtyButtons","qtyButtonClick","optionButtons","informationPopup","popupTriggers","modalContentId","modalContent","mediaContainer","lightbox","imageClick","sliderLinks","containerHeight","initialIndex","desktopSlider","dragStart","sliderLink","pointerEvents","cursor","dragEnd","newImageMedia","shopifyFirstModel3dId","viewportResizeEvent","sliderPaginationClick","onClickNav","giftCardRecipient","recipientFormContainer","sectionID","enableInput","recipientForm","emailLabelOptional","emailLabelRequired","emailInput","nameInput","messageInput","sendOnInput","controlInput","offsetInput","errors","errorList","getInputs","disableableInputs","disableInputs","handleChange","replaceChildren","getTimezoneOffset","unitPriceContainers","unitPrices","unitPriceBases","showUnitPricing","updateUnitPrices","skuElement","sku","updateSku","getUrlWithVariant","replaceState","updatePrices","featured_media","block","errorContainer","errorID","errorItem","errorLink","errorInput","overlays","countryOptions","openModal","closeModal","removeAddress","formId","countrySelector","provinceSelector","containerSelector","CountryProvinceSelector","confirmMessage","confirm","postLink","parameters","_method","toggles","isSuccess","successMessage","toggleClick","adjustClasses","sectionClasses","pageTransitionOverlay","linkHint","onpageshow","pageTransition","_close","narrow","_renderModalContent","_open","clonedContent","wrapTables","_initAccordion","quickAdd","getProductMarkup","currentWidth","checkWidth","windowWidth","viewportWatcher","productCard","storeListContainer","_renderProductCard","_renderAvailabilityList","productImage","_getVariantImage","variantImage","_updateImageSize","imageUrl","storeAvailabilityModal","SHA"],"mappings":"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"}